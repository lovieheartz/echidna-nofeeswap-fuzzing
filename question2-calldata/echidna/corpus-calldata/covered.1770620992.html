<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Echidna Coverage Report</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <style>
:root {
    --primary: #6366f1;
    --primary-hover: #4f46e5;
    --primary-light: rgba(99,102,241,0.1);
    --success: #22c55e;
    --warning: #eab308;
    --danger: #ef4444;
    --gray-50: #f9fafb;
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --gray-400: #9ca3af;
    --gray-500: #6b7280;
    --gray-600: #4b5563;
    --gray-700: #374151;
    --gray-800: #1f2937;
    --surface: #fff;
    --text: var(--gray-800);
    --text-light: var(--gray-500);
    --radius: 0.375rem;
    --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
    --shadow: 0 1px 3px rgba(0,0,0,0.1);
    --success-rgb: 34,197,94;
    --warning-rgb: 234,179,8;
    --danger-rgb: 239,68,68;
}

/* Reset */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Roboto', -apple-system, sans-serif;
    font-size: 0.875rem;
    line-height: 1.5;
    color: var(--text);
    background: var(--gray-50);
    height: 100vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

a {
    color: var(--primary);
    text-decoration: none;
}

a:hover {
    color: var(--primary-hover);
    text-decoration: underline;
}

button {
    cursor: pointer;
    background: transparent;
    border: none;
    padding: 0;
    font: inherit;
    color: inherit;
    outline: none;
}

/* Layout */
.app-container {
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: hidden;
}

header {
    background: var(--surface);
    border-bottom: 1px solid var(--gray-200);
    padding: 1rem 1.5rem;
    z-index: 10;
    box-shadow: var(--shadow-sm);
}

.header-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: 1400px;
    margin: 0;
    width: 100%;
}

.logo-text {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--gray-800);
}

/* Buttons */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: 2.25rem;
    padding: 0 0.5rem;
    font-size: 0.875rem;
    font-weight: 500;
    border-radius: var(--radius);
    transition: all 0.2s;
    border: 1px solid transparent;
}

.btn-secondary {
    background: #B92B3D;
    border-color: #B92B3D;
    color: white;
}

.btn-secondary:hover {
    background: #9e2434;
    border-color: #9e2434;
}

.btn-sm {
    height: 2rem;
    padding: 0 0.5rem;
    font-size: 0.75rem;
}

.button-group {
    display: flex;
    gap: 0.75rem;
    width: 100%;
}

.button-group .btn {
    flex: 1;
}

/* Split panel layout */
.split-panel {
    display: flex;
    flex: 1;
    overflow: hidden;
    position: relative;
}

#file-split-panel {
    display: flex;
    flex-direction: row;
}

/* File explorer panel */
#file-explorer {
    flex: 0 0 260px;
    height: 100%;
    overflow: auto;
    background: var(--surface);
    border-right: 1px solid var(--gray-200);
    padding: 0;
    position: relative;
    min-width: 200px;
    max-width: 500px;
    display: flex;
    flex-direction: column;
    overflow-x: hidden; /* to not show horizontal scrollbar with resizer */
}

#file-explorer-resizer {
    position: absolute;
    top: 0;
    right: -5px;
    width: 10px;
    height: 100%;
    cursor: col-resize;
    z-index: 10;
    background: linear-gradient(to right, transparent, rgba(0,0,0,0.05), transparent);
}

#file-explorer-resizer:hover {
    background: linear-gradient(to right, transparent, rgba(0,0,0,0.1), transparent);
}

.file-explorer-header {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    border-bottom: 1px solid var(--gray-200);
}

.file-search {
    padding: 0.5rem 1rem;
    border-bottom: 1px solid var(--gray-200);
    display: flex;
    align-items: center;
}

.file-search input {
    flex: 1;
    border: 1px solid var(--gray-300);
    border-radius: var(--radius);
    padding: 0.5rem;
    font-size: 0.875rem;
    outline: none;
}

.file-search input:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 1px var(--primary-light);
}

#file-search-clear {
    margin-left: 0.5rem;
    color: var(--gray-500);
    font-size: 1.25rem;
    line-height: 1;
    padding: 0.25rem;
    border-radius: var(--radius);
}

#file-search-clear:hover {
    background: var(--gray-100);
}

.search-highlight {
    background: var(--primary-light);
    color: var(--primary);
    font-weight: 500;
}

.search-no-results {
    padding: 1rem;
    font-style: italic;
    color: var(--gray-500);
    text-align: center;
}

.file-explorer-content {
    overflow: auto;
    flex: 1;
    padding: 1rem;
}

.file-explorer-title {
    font-size: 0.875rem;
    font-weight: 600;
    margin: 0;
    color: var(--gray-600);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Main view panel */
#main-view-panel {
    flex: 1;
    height: 100%;
    overflow: auto;
    padding: 1.5rem;
    background: var(--gray-50);
}

/* Stats cards */
.stats-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.stat-card {
    background: var(--surface);
    border-radius: var(--radius);
    padding: 1.25rem;
    box-shadow: var(--shadow);
    display: flex;
    flex-direction: column;
}

.stat-title {
    font-size: 0.875rem;
    color: var(--text-light);
    margin-bottom: 0.5rem;
}

.stat-value {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.stat-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.5rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
    background: var(--primary-light);
    color: var(--primary);
}

/* Progress bar */
.progress-container {
    width: 100%;
    height: 0.5rem;
    background: var(--gray-200);
    border-radius: 9999px;
    overflow: hidden;
    margin-top: 0.5rem;
}

.progress-bar {
    height: 100%;
    border-radius: 9999px;
    transition: width 0.3s;
}

/* File tree */
.file-tree {
    list-style: none;
    padding-left: 0;
    margin: 0;
    font-size: 0.875rem;
}

.file-tree li {
    margin: 0.25rem 0;
}

.file-tree ul {
    list-style: none;
    padding-left: 1.25rem;
    margin: 0.25rem 0;
}

.file-item {
    display: flex;
    align-items: center;
    cursor: pointer;
    padding: 0.375rem 0.5rem;
    border-radius: var(--radius);
    transition: background-color 0.2s;
}

.file-item:hover {
    background: var(--gray-100);
}

.file-item.active {
    background: var(--primary-light);
    color: var(--primary);
}

.file-toggle {
    width: 1.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    color: var(--gray-500);
}

.file-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 0.5rem;
    color: var(--gray-500);
}

.file-name {
    flex: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.file-coverage {
    width: 0.75rem;
    height: 0.75rem;
    border-radius: 50%;
    margin-left: 0.5rem;
}

/* File tree icons */
.directory > .file-item > .file-icon:before { content: "≡ƒôü"; }
.directory.expanded > .file-item > .file-icon:before { content: "≡ƒôé"; }
.file > .file-item > .file-icon:before { content: "≡ƒôä"; }
.directory > .file-item > .file-toggle:before { content: "Γû╢"; }
.directory.expanded > .file-item > .file-toggle:before { content: "Γû╝"; }
.file > .file-item > .file-toggle { visibility: hidden; }
.directory > ul { display: none; }
.directory.expanded > ul { display: block; }

/* Source files */
.source-file {
    margin-bottom: 1.5rem;
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    background: var(--surface);
}

.source-file-header {
    padding: 0.75rem 1rem;
    background: #12181E;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: background-color 0.2s;
}

.source-file-header:hover {
    background: #1e2832;
}

.source-file-header .file-info {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.source-file-header .file-name {
    font-weight: 500;
}

.source-file-header .coverage-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.5rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
}

.source-file-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
}

.source-file.expanded .source-file-content {
    max-height: none;
}

.source-file-stats {
    padding: 0.75rem 1rem;
    border-bottom: 1px solid var(--gray-200);
    font-size: 0.875rem;
    color: var(--text-light);
}

/* Code styling */
.code-container {
    position: relative;
    overflow: auto;
    max-height: 600px;
}

.code-coverage-table {
    border-collapse: collapse;
    font-family: 'Roboto Mono', monospace;
    font-size: 0.8125rem;
    line-height: 1.5;
    tab-size: 4;
    width: 100%;
}

.code-coverage-table pre {
    margin: 0;
    font-family: inherit;
}

.row-line-number {
    user-select: none;
    text-align: right;
    padding: 0 0.75rem;
    width: 1%;
    min-width: 2.5rem;
    color: var(--gray-400);
    background: var(--gray-100);
    border-right: 1px solid var(--gray-200);
}

.row-reverted-status {
    user-select: none;
    text-align: center;
    width: 1%;
    min-width: 2.25rem;
    max-width: fit-content;
    padding: 0 0.25rem;
    color: var(--gray-600);
    background: var(--gray-100);
    border-right: 1px solid var(--gray-200);
    white-space: nowrap;
}

.row-source {
    padding: 0 0.75rem;
}

.row-line-covered {
    background: rgba(var(--success-rgb), 0.1);
}

.row-line-uncovered {
    background: rgba(var(--danger-rgb), 0.1);
}

/* Footer */
footer {
    background: var(--surface);
    border-top: 1px solid var(--gray-200);
    padding: 1rem;
    text-align: center;
    font-size: 0.875rem;
    color: var(--gray-500);
}

/* Responsive */
@media (max-width: 768px) {
    .stats-container { grid-template-columns: 1fr; }
    #file-explorer { display: none; }
}    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header>
            <div class="header-content">
                <span class="logo-text">Echidna Coverage Report</span>
            </div>
        </header>

        <!-- Main content -->
        <div class="split-panel" id="file-split-panel">
            <!-- File Explorer -->
            <div id="file-explorer">
                <div class="file-explorer-header">
                    <h3 class="file-explorer-title">Files</h3>
                </div>
                <div class="file-search">
                    <input type="text" id="file-search-input" placeholder="Search files..." />
                    <button id="file-search-clear" title="Clear search">├ù</button>
                </div>
                <div class="file-explorer-content">
                    <ul id="file-tree-root" class="file-tree"></ul>
                    <div id="search-no-results" class="search-no-results" style="display: none;">No matching files found</div>
                </div>
                <div id="file-explorer-resizer"></div>
            </div>

            <!-- Main panel -->
            <div id="main-view-panel">
                <!-- Overview -->
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-title">Files</div>
                        <div class="stat-value">29</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">Total Lines</div>
                        <div class="stat-value">15403</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">Coverage</div>
                        <div class="stat-value">61.0%</div>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 61.0%; background-color: hsl(73, 90%, 45%)"></div>
                        </div>
                        <div style="margin-top: 0.5rem">
                            <span class="stat-badge">204 / 330 lines</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">Actions</div>
                        <div class="button-group">
                            <button class="btn btn-secondary btn-sm" onclick="setAllSourceFilesCollapsed(false)">Expand All</button>
                            <button class="btn btn-secondary btn-sm" onclick="setAllSourceFilesCollapsed(true)">Collapse All</button>
                        </div>
                        <div class="button-group" style="margin-top: 0.5rem">
                            <button class="btn btn-secondary btn-sm" onclick="setEmptySourceFilesCollapsed(false)">Expand Empty</button>
                            <button class="btn btn-secondary btn-sm" onclick="setEmptySourceFilesCollapsed(true)">Collapse Empty</button>
                        </div>
                    </div>
                </div>

                <!-- Individual file coverage -->
                <div class="source-file" id="contracts_helpers_CalldataWrapper_sol" data-file-path="contracts\helpers\CalldataWrapper.sol" data-lines-active="8" data-lines-covered="2">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(30, 90%, 50%, 0.15); color: hsl(30, 90%, 50%)">
                                25.0%
                            </span>
                            <span class="file-name">contracts\helpers\CalldataWrapper.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>2 / 8</strong> (25.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import &quot;../utilities/Calldata.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>  getFreeMemoryPointer,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>  getHookInputByteCount,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>  _hookInputByteCount_</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>} from &quot;../utilities/Memory.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>import {writeStorage} from &quot;../utilities/Storage.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>/// @title This contract exposes the internal functions of &#39;Calldata.sol&#39; for </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>/// testing purposes.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>contract CalldataWrapper {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>  function _readInitializeInput() public returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>    KernelCompact kernelCompact</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>    kernelCompact = readInitializeInput();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>    uint256 freeMemoryPointer = getFreeMemoryPointer();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>      log1(0, freeMemoryPointer, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>  function _readModifyPositionInput() public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>    readModifyPositionInput();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>    uint256 freeMemoryPointer = getFreeMemoryPointer();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>      log1(0, freeMemoryPointer, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>  function _readDonateInput() public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>    readDonateInput();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>    uint256 freeMemoryPointer = getFreeMemoryPointer();</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>      log1(0, freeMemoryPointer, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>  function _readModifyKernelInput() public returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>    KernelCompact kernelCompact</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>    kernelCompact = readModifyKernelInput();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>    uint256 freeMemoryPointer = getFreeMemoryPointer();</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>      log1(0, freeMemoryPointer, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>  function _readModifyPoolGrowthPortionInput() public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>    readModifyPoolGrowthPortionInput();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>    uint256 freeMemoryPointer = getFreeMemoryPointer();</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>      log1(0, freeMemoryPointer, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>  function _readUpdateGrowthPortionsInput() public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>    readUpdateGrowthPortionsInput();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>    uint256 freeMemoryPointer = getFreeMemoryPointer();</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>      log1(0, freeMemoryPointer, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>  function _readSwapInput() public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>    readSwapInput();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>    uint256 hookInputByteCount = getHookInputByteCount();</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>      log1(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>        0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>        add(add(_hookInputByteCount_, hookInputByteCount), 32),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>        0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>  function _readCollectInput() public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>    readCollectInput();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>    uint256 freeMemoryPointer = getFreeMemoryPointer();</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>      log1(0, freeMemoryPointer, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_interfaces_INofeeswap_sol" data-file-path="contracts\interfaces\INofeeswap.sol" data-lines-active="0" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\interfaces\INofeeswap.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 0</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {ISentinel} from &quot;./ISentinel.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {Tag} from &quot;../utilities/Tag.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {X59} from &quot;../utilities/X59.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>import {IStorageAccess} from &quot;./IStorageAccess.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>import {ITransientAccess} from &quot;./ITransientAccess.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>/// @notice Interface for the Nofeeswap contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>interface INofeeswap is IStorageAccess, ITransientAccess {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>  /// @notice See ERC6909 specifications.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>  function supportsInterface(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>    bytes4 interfaceId</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>  ) external pure returns (bool);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>  /// @notice See ERC6909 specifications.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>  function balanceOf(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>    address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>    Tag tag</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>  ) external view returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>    uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>  /// @notice See ERC6909 specifications.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>  function allowance(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>    address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>    address spender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>    Tag tag</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>  ) external view returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>    uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>  /// @notice See ERC6909 specifications.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>  function isOperator(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>    address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>    address spender</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>  ) external view returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>    bool status</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>  /// @notice See ERC6909 specifications.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>  function transfer(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>    address receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>    Tag tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>    uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>  ) external returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>    bool success</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>  /// @notice See ERC6909 specifications.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>  function transferFrom(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>    address sender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>    address receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>    Tag tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>    uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>  ) external returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>    bool success</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>  /// @notice See ERC6909 specifications.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>  function approve(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>    address spender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>    Tag tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>    uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>  ) external returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>    bool success</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>  /// @notice See ERC6909 specifications.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>  function setOperator(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>    address spender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>    bool approved</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>  ) external returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>    bool success</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>  /// @notice Mints/burns singleton balance. This results in a transient</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>  /// storage balance which must be settled.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>  /// transient balance &lt;-&gt; singleton balance</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>  /// @param owner Balance owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>  /// @param tag The tag whose balance to be modified.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>  /// @param amount The amount to be added (positive) or removed (negative)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>  /// to/from the owner&#39;s singleton balance.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>  function modifyBalance(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>    address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>    Tag tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>    int256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>  ) external;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>  /// @notice Mints/burns singleton double balance of tags 0 and 1. Can be used</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>  /// for gas efficient transactions by eliminating the need to update two </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>  /// storage slots. This results in transient storage balances which must be </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>  /// settled.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>  /// transient balance of tags 0 and 1 &lt;-&gt; singleton double balance</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>  /// @param owner Balance owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>  /// @param tag0 The arithmetically smaller tag.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>  /// @param tag1 The arithmetically larger tag.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>  /// @param amount0 The amount of tag0 to be added (positive) or removed </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>  /// (negative) to/from the owner&#39;s singleton balance.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>  /// @param amount1 The amount of tag1 to be added (positive) or removed </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>  /// (negative) to/from the owner&#39;s singleton balance.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>  function modifyBalance(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>    address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>    Tag tag0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>    Tag tag1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>    int256 amount0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>    int256 amount1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>  ) external;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>  /// @notice This function gives access to the following protocol methods that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>  /// are safeguarded against reentrancy:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>  ///   &#39;INofeeswap.clear(Tag,uint256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>  ///   &#39;INofeeswap.take(address,address,uint256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>  ///   &#39;INofeeswap.take(address,uint256,address,uint256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>  ///   &#39;INofeeswap.take(address,uint256,address,uint256,bytes)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>  ///   &#39;INofeeswap.settle(address)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>  ///   &#39;INofeeswap.transferTransientBalanceFrom(address,address,Tag,uint256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>  ///   &#39;INofeeswap.modifyBalance(address,Tag,int256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>  ///   &#39;INofeeswap.modifyBalance(address,Tag,Tag,int256,int256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>  ///   &#39;INofeeswap.swap(uint256,int256,X59,uint256,bytes)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>  ///   &#39;INofeeswapDelegatee.modifyPosition(uint256,X59,X59,int256,bytes)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>  ///   &#39;INofeeswapDelegatee.donate(uint256,uint256,bytes)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>  /// @param unlockTarget The target contract address which must implement </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>  /// &#39;IUnlockCallback.sol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>  /// @param data The data/instructions to be passed to the target contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>  /// @return result The output from the target contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>  function unlock(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>    address unlockTarget,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>    bytes calldata data</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>  ) external payable returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>    bytes memory result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>  /// @notice WARNING - Once a balance is cleared, the corresponding funds</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>  /// become permanently inaccessible and remain locked within the contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>  /// Executing a clear call will erase the entire balance owed to the caller</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>  /// without initiating any outbound transfer.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>  /// @notice Clears transient balance owed to &#39;msg.sender&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>  /// @param tag The tag whose transient balance to be cleared.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>  /// @param amount The amount to be cleared which must be equal to the current</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>  /// transient balance of the caller.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>  function clear(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>    Tag tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>    uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>  ) external;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>  /// @notice Pays native or ERC-20 assets from the protocol to &#39;to&#39;. This</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>  /// results in a transient storage balance which must be settled.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>  /// transient balance -&gt; &#39;to&#39; wallet</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>  /// @param token ERC-20 or native tokens to be taken from the protocol&#39;s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>  /// wallet.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>  /// @param to The target address.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>  /// @param amount The amount of tokens to be taken from the protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>  function take(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>    address token,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>    address to,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>    uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>  ) external;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>  /// @notice Pays ERC-6909 assets from the protocol to &#39;to&#39;. This results in a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>  /// transient storage balance which must be settled.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>  /// transient balance -&gt; &#39;to&#39; wallet</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>  /// @param token ERC-6909 address.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>  /// @param tokenId Multi-token id to be taken from the protocol&#39;s wallet.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>  /// @param to The target address.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>  /// @param amount The amount of tokens to be taken from the protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>  function take(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>    address token,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>    uint256 tokenId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>    address to,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>    uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>  ) external;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>  /// @notice Pays ERC-1155 assets from the protocol to &#39;to&#39;. This results in a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>  /// transient storage balance which must be settled.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>  /// transient balance -&gt; &#39;to&#39; wallet</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>  /// @param token ERC-1155 address.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>  /// @param tokenId Multi-token id to be taken from the protocol&#39;s wallet.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>  /// @param to The target address.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>  /// @param amount The amount of tokens to be taken from the protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>  /// @param transferData Data to be used from &#39;IERC1155.safeTransferFrom&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>  function take(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>    address token,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>    uint256 tokenId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>    address to,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>    uint256 amount,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>    bytes calldata transferData</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>  ) external;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>  /// @notice Synchronizes the protocol ERC-20 balance. Should be called prior</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>  /// to ERC-20 transfers to the protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>  /// @param token ERC-20 address to be synced.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>  function sync(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre>    address token</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>  ) external;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>  /// @notice Synchronizes the protocol ERC-1155 or ERC-6909 balance. Should be </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>  /// called prior to ERC-1155 or ERC-6909 transfers to the protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>  /// @param token ERC-1155 or ERC-6909 address to be synced.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>  /// @param tokenId Multi-token id to be synced.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>  function sync(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>    address token,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>    uint256 tokenId</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>  ) external;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>  /// @notice Should be called after ERC-20, ERC6909, or ERC1155 transfers to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>  /// the protocol to update transient balances. Can be used to send native</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre>  /// tokens to the protocol to settle native transient balance of </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>  /// &#39;msg.sender&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre>  /// @return paid The amount paid.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>  function settle() external payable returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>    uint256 paid</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre>  /// @notice Transfers transient balance from &#39;sender&#39; to &#39;receiver&#39;. Can be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>  /// used to settle on behalf of other accounts.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre>  /// @param sender The sender&#39;s address.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>  /// @param receiver The recipient&#39;s address.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>  /// @param tag The tag whose balance to be transferred.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre>  /// @param amount The amount to be transferred.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>  function transferTransientBalanceFrom(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>    address sender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>    address receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre>    Tag tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>    uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre>  ) external;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre>  /// @notice Gives access to &#39;NofeeswapDelegatee.sol&#39; functionalities.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre>  /// @param input Encoded input via &#39;abi.encodeWithSelector&#39; to be passed as </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre>  /// delegate call to &#39;NofeeswapDelegatee.sol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>  /// @return output0 The first output slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre>  /// @return output1 The second output slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre>  function dispatch(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>    bytes calldata input</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>  ) external returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre>    int256 output0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre>    int256 output1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre>  /// @notice Performs a swap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre>  /// @param poolId The target pool identifier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre>  /// @param amountSpecified The amount to be given to (positive) or taken </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre>  /// from (negative) the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">257</td>
                                    <td class="row-source"><pre>  /// @param logPriceLimit The limit logPrice constraint. This value is equal</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">258</td>
                                    <td class="row-source"><pre>  /// to &#39;(2 ** 59) * log(p)&#39; where &#39;p&#39; is the intended price limit and &#39;log&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">259</td>
                                    <td class="row-source"><pre>  /// denotes the natural logarithm operator.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">260</td>
                                    <td class="row-source"><pre>  /// @param zeroForOne If ‘zeroForOne &amp; ((1 &lt;&lt; 128) - 1) == 0&#39; then tag0 is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">261</td>
                                    <td class="row-source"><pre>  /// taken from and tag1 is given to the pool. If </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">262</td>
                                    <td class="row-source"><pre>  /// ‘zeroForOne &amp; ((1 &lt;&lt; 128) - 1) == 1&#39; then tag1 is taken from and tag0 is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">263</td>
                                    <td class="row-source"><pre>  /// given to the pool. If ‘zeroForOne &amp; ((1 &lt;&lt; 128) - 1)’ is greater than 1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">264</td>
                                    <td class="row-source"><pre>  /// then the direction of the swap is towards &#39;logPriceLimit&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">265</td>
                                    <td class="row-source"><pre>  /// ‘(zeroForOne &gt;&gt; 128)’ is a threshold on the number of shares that should</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">266</td>
                                    <td class="row-source"><pre>  /// be available in any interval for the swap function to transact in that </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">267</td>
                                    <td class="row-source"><pre>  /// interval. For example, if (zeroForOne &gt;&gt; 128 == 0), which is the default,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">268</td>
                                    <td class="row-source"><pre>  /// no minimum number of shares is imposed.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">269</td>
                                    <td class="row-source"><pre>  /// @param hookData The data to be passed to the hook.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">270</td>
                                    <td class="row-source"><pre>  /// @return amount0 The amount of tag0 swapped. Positive values are incoming</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">271</td>
                                    <td class="row-source"><pre>  /// to the pool and negative values are outgoing from the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">272</td>
                                    <td class="row-source"><pre>  /// @return amount1 The amount of tag1 swapped. Positive values are incoming</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">273</td>
                                    <td class="row-source"><pre>  /// to the pool and negative values are outgoing from the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">274</td>
                                    <td class="row-source"><pre>  function swap(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">275</td>
                                    <td class="row-source"><pre>    uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">276</td>
                                    <td class="row-source"><pre>    int256 amountSpecified,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">277</td>
                                    <td class="row-source"><pre>    X59 logPriceLimit,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">278</td>
                                    <td class="row-source"><pre>    uint256 zeroForOne,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">279</td>
                                    <td class="row-source"><pre>    bytes calldata hookData</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">280</td>
                                    <td class="row-source"><pre>  ) external returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">281</td>
                                    <td class="row-source"><pre>    int256 amount0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">282</td>
                                    <td class="row-source"><pre>    int256 amount1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">283</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">284</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">285</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when a tag is transferred.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">286</td>
                                    <td class="row-source"><pre>  /// @notice See ERC6909 specifications.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">287</td>
                                    <td class="row-source"><pre>  event Transfer(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">288</td>
                                    <td class="row-source"><pre>    address caller,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">289</td>
                                    <td class="row-source"><pre>    address indexed from,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">290</td>
                                    <td class="row-source"><pre>    address indexed to,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">291</td>
                                    <td class="row-source"><pre>    Tag indexed tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">292</td>
                                    <td class="row-source"><pre>    uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">293</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">294</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">295</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when an operator is assigned/absolved by the owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">296</td>
                                    <td class="row-source"><pre>  /// @notice See ERC6909 specifications.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">297</td>
                                    <td class="row-source"><pre>  event OperatorSet(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">298</td>
                                    <td class="row-source"><pre>    address indexed owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">299</td>
                                    <td class="row-source"><pre>    address indexed operator,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">300</td>
                                    <td class="row-source"><pre>    bool approved</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">301</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">302</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">303</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when a spender&#39;s permission is updated by the owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">304</td>
                                    <td class="row-source"><pre>  /// @notice See ERC6909 specifications.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">305</td>
                                    <td class="row-source"><pre>  event Approval(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">306</td>
                                    <td class="row-source"><pre>    address indexed owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">307</td>
                                    <td class="row-source"><pre>    address indexed spender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">308</td>
                                    <td class="row-source"><pre>    Tag indexed tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">309</td>
                                    <td class="row-source"><pre>    uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">310</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">311</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">312</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when owner&#39;s double balance is modified.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">313</td>
                                    <td class="row-source"><pre>  /// @param caller The caller of &#39;INofeeswap.modifyBalance&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">314</td>
                                    <td class="row-source"><pre>  /// @param owner The double balance owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">315</td>
                                    <td class="row-source"><pre>  /// @param tag The corresponding tag.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">316</td>
                                    <td class="row-source"><pre>  /// @param increment The amount being incremented/decremented.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">317</td>
                                    <td class="row-source"><pre>  /// @param balance The resulting balance.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">318</td>
                                    <td class="row-source"><pre>  event ModifyDoubleBalanceEvent(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">319</td>
                                    <td class="row-source"><pre>    address indexed caller,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">320</td>
                                    <td class="row-source"><pre>    address indexed owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">321</td>
                                    <td class="row-source"><pre>    Tag indexed tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">322</td>
                                    <td class="row-source"><pre>    int256 increment,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">323</td>
                                    <td class="row-source"><pre>    uint256 balance</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">324</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">325</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">326</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when the pool owner&#39;s accrued growth portions are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">327</td>
                                    <td class="row-source"><pre>  /// collected.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">328</td>
                                    <td class="row-source"><pre>  /// @param poolId The target pool identifier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">329</td>
                                    <td class="row-source"><pre>  /// @param owner Current owner of the target pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">330</td>
                                    <td class="row-source"><pre>  /// @param amount0 The total amount of tag0 collected.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">331</td>
                                    <td class="row-source"><pre>  /// @param amount1 The total amount of tag1 collected.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">332</td>
                                    <td class="row-source"><pre>  event PoolCollection(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">333</td>
                                    <td class="row-source"><pre>    uint256 indexed poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">334</td>
                                    <td class="row-source"><pre>    address indexed owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">335</td>
                                    <td class="row-source"><pre>    uint256 amount0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">336</td>
                                    <td class="row-source"><pre>    uint256 amount1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">337</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">338</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">339</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when the protocol owner&#39;s accrued growth portions are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">340</td>
                                    <td class="row-source"><pre>  /// collected.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">341</td>
                                    <td class="row-source"><pre>  /// @param poolId The target pool identifier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">342</td>
                                    <td class="row-source"><pre>  /// @param amount0 The total amount of tag0 collected.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">343</td>
                                    <td class="row-source"><pre>  /// @param amount1 The total amount of tag1 collected.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">344</td>
                                    <td class="row-source"><pre>  event ProtocolCollection(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">345</td>
                                    <td class="row-source"><pre>    uint256 indexed poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">346</td>
                                    <td class="row-source"><pre>    uint256 amount0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">347</td>
                                    <td class="row-source"><pre>    uint256 amount1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">348</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">349</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">350</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when protocol slot is updated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">351</td>
                                    <td class="row-source"><pre>  /// @param newOwner The new protocol owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">352</td>
                                    <td class="row-source"><pre>  /// @param newProtocol The new protocol slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">353</td>
                                    <td class="row-source"><pre>  event ModifyProtocol(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">354</td>
                                    <td class="row-source"><pre>    address indexed newOwner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">355</td>
                                    <td class="row-source"><pre>    uint256 newProtocol</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">356</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">357</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">358</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when the sentinel contract is updated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">359</td>
                                    <td class="row-source"><pre>  /// @param oldSentinel The old sentinel contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">360</td>
                                    <td class="row-source"><pre>  /// @param newSentinel The new sentinel contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">361</td>
                                    <td class="row-source"><pre>  event ModifySentinel(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">362</td>
                                    <td class="row-source"><pre>    ISentinel oldSentinel,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">363</td>
                                    <td class="row-source"><pre>    ISentinel newSentinel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">364</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">365</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">366</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when a pool owner is updated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">367</td>
                                    <td class="row-source"><pre>  /// @param poolId The target pool identifier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">368</td>
                                    <td class="row-source"><pre>  /// @param oldOwner The old owner of the target pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">369</td>
                                    <td class="row-source"><pre>  /// @param newOwner The new owner of the target pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">370</td>
                                    <td class="row-source"><pre>  event ModifyPoolOwner(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">371</td>
                                    <td class="row-source"><pre>    uint256 indexed poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">372</td>
                                    <td class="row-source"><pre>    address indexed oldOwner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">373</td>
                                    <td class="row-source"><pre>    address indexed newOwner</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">374</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">375</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">376</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when a nofeeswap pool is initialized.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">377</td>
                                    <td class="row-source"><pre>  /// @param poolId The target pool identifier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">378</td>
                                    <td class="row-source"><pre>  /// @param tag0 The arithmetically smaller tag.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">379</td>
                                    <td class="row-source"><pre>  /// @param tag1 The arithmetically larger tag.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">380</td>
                                    <td class="row-source"><pre>  /// @param data A snapshot of memory which includes &#39;staticParams&#39;, &#39;kernel&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">381</td>
                                    <td class="row-source"><pre>  /// &#39;kernelCompact&#39;, and &#39;curve&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">382</td>
                                    <td class="row-source"><pre>  event Initialize(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">383</td>
                                    <td class="row-source"><pre>    uint256 indexed poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">384</td>
                                    <td class="row-source"><pre>    Tag indexed tag0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">385</td>
                                    <td class="row-source"><pre>    Tag indexed tag1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">386</td>
                                    <td class="row-source"><pre>    bytes data</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">387</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">388</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">389</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when a nofeeswap position is created, burned or modified.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">390</td>
                                    <td class="row-source"><pre>  /// @param poolId The target pool identifier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">391</td>
                                    <td class="row-source"><pre>  /// @param caller Caller of the external &#39;modifyPosition&#39; function.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">392</td>
                                    <td class="row-source"><pre>  /// @param data A snapshot of memory which includes the following parameters</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">393</td>
                                    <td class="row-source"><pre>  /// (as defined in &#39;Memory.sol&#39;) that are tightly packed together:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">394</td>
                                    <td class="row-source"><pre>  ///  - &#39;logPriceMinOffsetted&#39; in &#39;X59&#39; representation (8 bytes)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">395</td>
                                    <td class="row-source"><pre>  ///  - &#39;logPriceMaxOffsetted&#39; in &#39;X59&#39; representation (8 bytes)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">396</td>
                                    <td class="row-source"><pre>  ///  - &#39;shares&#39; in &#39;int256&#39; representation (32 bytes)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">397</td>
                                    <td class="row-source"><pre>  ///  - &#39;logPriceMin&#39; in &#39;X59&#39; representation (32 bytes)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">398</td>
                                    <td class="row-source"><pre>  ///  - &#39;logPriceMax&#39; in &#39;X59&#39; representation (32 bytes)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">399</td>
                                    <td class="row-source"><pre>  ///  - &#39;positionAmount0&#39; in &#39;X127&#39; representation (32 bytes)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">400</td>
                                    <td class="row-source"><pre>  ///  - &#39;positionAmount1&#39; in &#39;X127&#39; representation (32 bytes)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">401</td>
                                    <td class="row-source"><pre>  event ModifyPosition(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">402</td>
                                    <td class="row-source"><pre>    uint256 indexed poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">403</td>
                                    <td class="row-source"><pre>    address indexed caller,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">404</td>
                                    <td class="row-source"><pre>    bytes32[6] data</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">405</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">406</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">407</td>
                                    <td class="row-source"><pre>  /// @notice Emitted with donates.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">408</td>
                                    <td class="row-source"><pre>  /// @param poolId The target pool identifier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">409</td>
                                    <td class="row-source"><pre>  /// @param caller Caller of the external &#39;donate&#39; function.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">410</td>
                                    <td class="row-source"><pre>  /// @param data A snapshot of memory which contains the new value for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">411</td>
                                    <td class="row-source"><pre>  /// &#39;growth&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">412</td>
                                    <td class="row-source"><pre>  /// This is sufficient to determine all of the donate parameters.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">413</td>
                                    <td class="row-source"><pre>  event Donate(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">414</td>
                                    <td class="row-source"><pre>    uint256 indexed poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">415</td>
                                    <td class="row-source"><pre>    address indexed caller,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">416</td>
                                    <td class="row-source"><pre>    bytes32 data</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">417</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">418</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">419</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when a swap is performed. The last two members of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">420</td>
                                    <td class="row-source"><pre>  /// curve are logged which are sufficient to uniquely characterize the state.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">421</td>
                                    <td class="row-source"><pre>  /// In other words, if we know both &#39;qTarget&#39; and &#39;qOvershoot&#39; that appear at</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">422</td>
                                    <td class="row-source"><pre>  /// the end of the amended curve, then we can deterministically track the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">423</td>
                                    <td class="row-source"><pre>  /// state of each pool without having to perform any numerical search.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">424</td>
                                    <td class="row-source"><pre>  /// @param poolId The target pool identifier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">425</td>
                                    <td class="row-source"><pre>  /// @param caller Caller of the external &#39;swap&#39; function.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">426</td>
                                    <td class="row-source"><pre>  /// @param data A snapshot of memory which includes the last two members of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">427</td>
                                    <td class="row-source"><pre>  /// the amended curve (i.e., &#39;qOvershoot&#39; and &#39;qTarget&#39;). This is sufficient</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">428</td>
                                    <td class="row-source"><pre>  /// to reproduce the swap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">429</td>
                                    <td class="row-source"><pre>  event Swap(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">430</td>
                                    <td class="row-source"><pre>    uint256 indexed poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">431</td>
                                    <td class="row-source"><pre>    address indexed caller,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">432</td>
                                    <td class="row-source"><pre>    bytes32 data</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">433</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">434</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">435</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when a pending kernel is introduced for a nofeeswap pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">436</td>
                                    <td class="row-source"><pre>  /// @param poolId The target pool identifier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">437</td>
                                    <td class="row-source"><pre>  /// @param caller Current owner of the target pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">438</td>
                                    <td class="row-source"><pre>  /// @param data A snapshot of memory which includes &#39;staticParams&#39;, &#39;kernel&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">439</td>
                                    <td class="row-source"><pre>  /// and &#39;kernelCompact&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">440</td>
                                    <td class="row-source"><pre>  event ModifyKernel(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">441</td>
                                    <td class="row-source"><pre>    uint256 indexed poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">442</td>
                                    <td class="row-source"><pre>    address indexed caller,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">443</td>
                                    <td class="row-source"><pre>    bytes data</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">444</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">445</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">446</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when a nofeeswap pool growth portion is modified.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">447</td>
                                    <td class="row-source"><pre>  /// @param poolId The target pool identifier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">448</td>
                                    <td class="row-source"><pre>  /// @param caller Current owner of the target pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">449</td>
                                    <td class="row-source"><pre>  /// @param data A snapshot of memory which contains the new value for </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">450</td>
                                    <td class="row-source"><pre>  /// &#39;poolGrowthPortion&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">451</td>
                                    <td class="row-source"><pre>  event ModifyPoolGrowthPortion(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">452</td>
                                    <td class="row-source"><pre>    uint256 indexed poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">453</td>
                                    <td class="row-source"><pre>    address indexed caller,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">454</td>
                                    <td class="row-source"><pre>    bytes32 data</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">455</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">456</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">457</td>
                                    <td class="row-source"><pre>  /// @notice Emitted when the growth portions for a nofeeswap pool are synced</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">458</td>
                                    <td class="row-source"><pre>  /// with the protocol or sentinel contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">459</td>
                                    <td class="row-source"><pre>  /// @param poolId The target pool identifier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">460</td>
                                    <td class="row-source"><pre>  /// @param caller Current owner of the target pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">461</td>
                                    <td class="row-source"><pre>  /// @param data A snapshot of memory which contains the new values for </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">462</td>
                                    <td class="row-source"><pre>  /// &#39;maxPoolGrowthPortion&#39; and &#39;protocolGrowthPortion&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">463</td>
                                    <td class="row-source"><pre>  event UpdateGrowthPortions(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">464</td>
                                    <td class="row-source"><pre>    uint256 indexed poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">465</td>
                                    <td class="row-source"><pre>    address indexed caller,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">466</td>
                                    <td class="row-source"><pre>    bytes32 data</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">467</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">468</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_interfaces_ISentinel_sol" data-file-path="contracts\interfaces\ISentinel.sol" data-lines-active="0" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\interfaces\ISentinel.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 0</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {X47} from &quot;../utilities/X47.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>/// @notice Interface for the Sentinel contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>interface ISentinel {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>  /// @notice Gives the values of &#39;maxPoolGrowthPortion&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>  /// &#39;protocolGrowthPortion&#39; when called by the protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>  /// @param sentinelInput Data passed to sentinel contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>  /// @return maxPoolGrowthPortion The value for &#39;maxPoolGrowthPortion&#39;. If </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>  /// returns any value greater than &#39;oneX47&#39; then protocol slot&#39;s default</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>  /// values are used.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>  /// @return protocolGrowthPortion The value for &#39;protocolGrowthPortion&#39;. If</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>  /// returns any value greater than &#39;oneX47&#39; then protocol slot&#39;s default</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>  /// values are used.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>  function getGrowthPortions(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>    bytes calldata sentinelInput</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>  ) external returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>    X47 maxPoolGrowthPortion,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>    X47 protocolGrowthPortion</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>  /// @notice Called by nofeeswap to get authorization for a pool </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>  /// initialization.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>  /// @param sentinelInput Data passed to sentinel contract which is a snapshot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>  /// of nofeeswap&#39;s memory post initialization.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>  function authorizeInitialization(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>    bytes calldata sentinelInput</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>  ) external returns (bytes4 selector);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>  /// @notice Called by nofeeswap to get authorization for modification of a </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>  /// pool growth portion.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>  /// @param sentinelInput Data passed to sentinel contract which is a snapshot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>  /// of nofeeswap&#39;s memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>  function authorizeModificationOfPoolGrowthPortion(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>    bytes calldata sentinelInput</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>  ) external returns (bytes4 selector);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_interfaces_IStorageAccess_sol" data-file-path="contracts\interfaces\IStorageAccess.sol" data-lines-active="0" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\interfaces\IStorageAccess.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 0</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Credit to: https://github.com/Uniswap/v4-core/blob/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>// 80311e34080fee64b6fc6c916e9a51a437d0e482/src/interfaces/IExtsload.sol</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>/// @notice Interface to access any storage slot of Nofeeswap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>interface IStorageAccess {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>  /// @notice Provides access to a single Nofeeswap storage slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>  /// @param slot Key of slot to sload.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>  /// @return value The value of the slot as bytes32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>  function storageAccess(bytes32 slot) external view returns (bytes32 value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>  /// @notice Provides access to consecutive Nofeeswap storage slots.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>  /// @param startSlot Starting slot to be read.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>  /// @param nSlots Number of slots to be read.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>  /// @return values List of loaded values.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>  function storageAccess(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>    bytes32 startSlot,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>    uint256 nSlots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>  ) external view returns (bytes32[] memory values);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>  /// @notice Provides access to a given list of Nofeeswap storage slots.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>  /// @param slots List of slots to sload from.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>  /// @return values List of loaded values.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>  function storageAccess(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>    bytes32[] calldata slots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>  ) external view returns (bytes32[] memory values);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_interfaces_ITransientAccess_sol" data-file-path="contracts\interfaces\ITransientAccess.sol" data-lines-active="0" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\interfaces\ITransientAccess.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 0</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Credit to: https://github.com/Uniswap/v4-core/blob/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>// 80311e34080fee64b6fc6c916e9a51a437d0e482/src/interfaces/IExttload.sol</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>/// @notice Interface to access any transient storage slot of Nofeeswap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>interface ITransientAccess {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>  /// @notice Provides access to a single Nofeeswap transient storage slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>  /// @param slot Key of slot to tload.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>  /// @return value The value of the slot as bytes32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>  function transientAccess(bytes32 slot) external view returns (bytes32 value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>  /// @notice Provides access to consecutive Nofeeswap transient storage slots.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>  /// @param startSlot Starting slot to be read.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>  /// @param nSlots Number of slots to be read.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>  /// @return values List of loaded values.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>  function transientAccess(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>    bytes32 startSlot,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>    uint256 nSlots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>  ) external view returns (bytes32[] memory values);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>  /// @notice Provides access to a given list of Nofeeswap transient storage</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>  /// slots.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>  /// @param slots List of slots to tload from.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>  /// @return values List of loaded values.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>  function transientAccess(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>    bytes32[] calldata slots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>  ) external view returns (bytes32[] memory values);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_Calldata_sol" data-file-path="contracts\utilities\Calldata.sol" data-lines-active="98" data-lines-covered="30">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(36, 90%, 50%, 0.15); color: hsl(36, 90%, 50%)">
                                30.0%
                            </span>
                            <span class="file-name">contracts\utilities\Calldata.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>30 / 98</strong> (30.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>  _swapInput_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>  _endOfStaticParams_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>  _hookInputByteCount_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>  _zeroForOne_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>  setMsgSender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>  setPoolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>  setSqrtOffset,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>  setSqrtInverseOffset,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>  setTag0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>  setTag1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>  setPoolGrowthPortion,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>  setCurve,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>  setHookData,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>  setHookDataByteCount,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>  setFreeMemoryPointer,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>  setHookInputByteCount,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>  setKernel,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>  setLogPriceMin,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>  setLogPriceMax,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>  setLogPriceMinOffsetted,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>  setLogPriceMaxOffsetted,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>  setShares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>  setAmountSpecified,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>  setLogPriceLimit,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>  setCrossThreshold</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>} from &quot;./Memory.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>import {getLogOffsetFromPoolId, derivePoolId} from &quot;./PoolId.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>import {Index} from &quot;./Index.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>import {X47, oneX47} from &quot;./X47.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>  X59,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>  zeroX59,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>  minLogOffset,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>  maxLogOffset,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>  sixteenX59,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>  thirtyTwoX59</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>} from &quot;./X59.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>import {X127} from &quot;./X127.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>import {Tag} from &quot;./Tag.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>import {Curve} from &quot;./Curve.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>import {Kernel} from &quot;./Kernel.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>import {KernelCompact} from &quot;./KernelCompact.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>import {readStorage, getDynamicParamsSlot} from &quot;./Storage.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>  PoolExists,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>  LogOffsetOutOfRange,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>  TagsOutOfOrder,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>  InvalidGrowthPortion,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>  LogPriceOutOfRange,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>  InvalidNumberOfShares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>  CurveLengthIsZero,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>  PoolIdCannotBeZero,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>  HookDataTooLong</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>} from &quot;./Errors.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>/// @notice Reads the inputs of the external function &#39;initialize&#39; and places</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>/// each in the appropriate memory location. Then, the free memory pointer is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>/// set.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>/// @return kernelCompact The memory pointer for the given &#39;kernelCompact&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>/// Observe that &#39;kernel&#39;, &#39;kernelCompact&#39;, &#39;curve&#39;, and &#39;hookData&#39; are loaded</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>/// in memory in this order. Hence, the place of &#39;kernelCompact&#39; is not</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>/// constant and depends on the size of &#39;kernel&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>function readInitializeInput() view returns (KernelCompact kernelCompact) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>  // Calldata layout for &#39;initialize&#39; is as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>  // &#39;0x00&#39;: &#39;INofeeswapDelegatee.initialize.selector&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>  // &#39;0x04&#39;: &#39;unsaltedPoolId&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>  // &#39;0x24&#39;: &#39;tag0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>  // &#39;0x44&#39;: &#39;tag1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>  // &#39;0x64&#39;: &#39;poolGrowthPortion&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>  // &#39;0x84&#39;: &#39;calldata pointer to the beginning of kernelCompactArray - 0x04&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>  // &#39;0xA4&#39;: &#39;calldata pointer to the beginning of curveArray - 0x04&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>  // &#39;0xC4&#39;: &#39;calldata pointer to the beginning of hookData - 0x04&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>  // &#39;0x04 + calldataload(0x84)&#39;: &#39;kernelCompactArray&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>  // &#39;0x04 + calldataload(0xA4)&#39;: &#39;curveArray&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>  // &#39;0x04 + calldataload(0xC4)&#39;: &#39;hookData&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>  // &#39;msg.sender&#39; is placed in memory to be passed to hook via calldata.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>  setMsgSender(msg.sender);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>  {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>    // &#39;unsaltedPoolId&#39; is read from calldata and used to derive poolId which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>    // will be placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>    uint256 poolId;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>    {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>      uint256 unsaltedPoolId;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>        unsaltedPoolId := calldataload(4)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>      poolId = derivePoolId(unsaltedPoolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>    setPoolId(poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>    // Check &#39;poolId != 0&#39;.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>    require(poolId != 0, PoolIdCannotBeZero());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>    // Verifies whether the pool already exists or not.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>    require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>      // The first slot of dynamic parameters contains the &#39;logPriceCurrent&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>      // which is always nonzero after initialization.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>      readStorage(getDynamicParamsSlot(poolId)) == 0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>      PoolExists(poolId)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>    // Throws if &#39;qOffset&#39; is out of range.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>    X59 qOffset = getLogOffsetFromPoolId(poolId);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>    require(qOffset &gt; minLogOffset, LogOffsetOutOfRange(qOffset));</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>    require(qOffset &lt; maxLogOffset, LogOffsetOutOfRange(qOffset));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>    // &#39;sqrtOffset&#39; and &#39;sqrtInverseOffset&#39; are calculated and stored in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>    // memory.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>    setSqrtOffset(qOffset.logToSqrtOffset());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>    // The subtraction is safe due to the prior check.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>    setSqrtInverseOffset((zeroX59 - qOffset).logToSqrtOffset());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>  {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>    // &#39;tag0&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>    Tag tag0;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>      tag0 := calldataload(36)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>    setTag0(tag0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>    // &#39;tag1&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>    Tag tag1;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>      tag1 := calldataload(68)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>    setTag1(tag1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>    // Throws if the two tags are out of order.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>    require(tag1 &gt; tag0, TagsOutOfOrder(tag0, tag1));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>  {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>    // &#39;poolGrowthPortion&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>    X47 poolGrowthPortion;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>      poolGrowthPortion := calldataload(100)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>    // Throws if &#39;poolGrowthPortion&#39; is greater than &#39;oneX47&#39;.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>    require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>      poolGrowthPortion &lt;= oneX47,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>      InvalidGrowthPortion(poolGrowthPortion)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>    setPoolGrowthPortion(poolGrowthPortion);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>  {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>    // This is the pointer referring to the start of the kernel in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>    Kernel kernel;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>    // This value refers to the start of &#39;kernelCompactArray&#39; in calldata.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>    uint256 kernelCompactStart;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>    // The byte count of &#39;kernelCompact&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>    uint256 kernelCompactByteCount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>      kernelCompactStart := add(0x04, calldataload(0x84))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>      // kernel starts immediately after static parameters in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>      kernel := _endOfStaticParams_</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>      // The number of bytes to be occupied by &#39;kernelCompact&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>      kernelCompactByteCount := shl(5, calldataload(kernelCompactStart))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>      // Each breakpoint occupies 80-bits in &#39;kernelCompact&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>      // Each breakpoint occupies 512-bits in &#39;kernel&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>      // Hence, &#39;512 * calldataload(kernelCompactStart) / 80&#39; is an upper </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>      // bound on the number of slots to be occupied by &#39;kernel&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>      // And, &#39;32 * (512 * calldataload(kernelCompactStart) / 80)&#39; is an upper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>      // bound on the number of bytes to be occupied by &#39;kernel&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>      // Since &#39;kernelCompact&#39; comes immediately after &#39;kernel&#39; in memory, we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>      // need to set its memory pointer accordingly.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>      kernelCompact := add(kernel, shl(5, div(kernelCompactByteCount, 5)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>    setKernel(kernel);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>    {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>      // This is the pointer referring to the start of the curve sequence in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>      // memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>      Curve curve;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>      // This value refers to the start of &#39;curveArray&#39; in calldata.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>      uint256 curveStart;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>      // The byte count of the curve sequence.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>      uint256 curveByteCount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>        curveStart := add(0x04, calldataload(0xA4))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>        // &#39;curve&#39; appears after &#39;kernelCompact&#39; in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>        curve := add(kernelCompact, kernelCompactByteCount)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>        // The number of bytes to be occupied by &#39;curve&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>        curveByteCount := shl(5, calldataload(curveStart))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>      require(curveByteCount &gt;= 32, CurveLengthIsZero());</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>      setCurve(curve);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>      {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>        // This is the pointer referring to the start of hookData in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>        uint256 hookData;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>        </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>        // The byte count of &#39;hookData&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>        uint256 hookDataByteCount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>        // The total number of bytes of the memory snapshot to be used as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>        // input for the hook contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>        uint256 hookInputByteCount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre>        </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>        // The free memory pointer which is set at the end.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>        uint256 freeMemoryPointer;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre>          // This value refers to the start of &#39;hookData&#39; in calldata (the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>          // length slot).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>          let hookDataStart := add(0x04, calldataload(0xC4))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>          // &#39;hookData&#39; appears after &#39;curve&#39; in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre>          // 8 bytes are added to seperate the curve sequence from hook data.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>          hookData := add(add(curve, curveByteCount), 8)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>          // The number of bytes to be occupied by &#39;hookData&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>          hookDataByteCount := calldataload(hookDataStart)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>          // &#39;freeMemoryPointer&#39; appears after &#39;hookData&#39; in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>          freeMemoryPointer := add(hookData, hookDataByteCount)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre>          // The total number of bytes to be given to the hook as input.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>          // 32 is subtracted to exclude the &#39;_hookInputByteCount_&#39; slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre>          hookInputByteCount := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre>            sub(sub(freeMemoryPointer, _hookInputByteCount_), 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre>          // Data is copied from calldata to memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre>          calldatacopy(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>            kernelCompact,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre>            // The length slot of &#39;kernelCompactArray&#39; is excluded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre>            add(kernelCompactStart, 32),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>            kernelCompactByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>          )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre>          calldatacopy(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre>            curve,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>            // The length slot of &#39;curveArray&#39; is excluded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre>            add(curveStart, 32),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre>            curveByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre>          )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre>          calldatacopy(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre>            hookData,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">257</td>
                                    <td class="row-source"><pre>            // The length slot of &#39;hookData&#39; is excluded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">258</td>
                                    <td class="row-source"><pre>            add(hookDataStart, 32),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">259</td>
                                    <td class="row-source"><pre>            hookDataByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">260</td>
                                    <td class="row-source"><pre>          )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">261</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">262</td>
                                    <td class="row-source"><pre>        setHookData(hookData);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">263</td>
                                    <td class="row-source"><pre>        require(</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">264</td>
                                    <td class="row-source"><pre>          hookDataByteCount &lt;= type(uint16).max,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">265</td>
                                    <td class="row-source"><pre>          HookDataTooLong(hookDataByteCount)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">266</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">267</td>
                                    <td class="row-source"><pre>        setHookDataByteCount(uint16(hookDataByteCount));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">268</td>
                                    <td class="row-source"><pre>        setHookInputByteCount(hookInputByteCount);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">269</td>
                                    <td class="row-source"><pre>        setFreeMemoryPointer(freeMemoryPointer);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">270</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">271</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">272</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">273</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">274</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">275</td>
                                    <td class="row-source"><pre>/// @notice Reads inputs of the external function &#39;modifyPosition&#39; and places</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">276</td>
                                    <td class="row-source"><pre>/// each in the appropriate memory location.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">277</td>
                                    <td class="row-source"><pre>function readModifyPositionInput() view {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">278</td>
                                    <td class="row-source"><pre>  // Calldata layout for &#39;modifyPosition&#39; is as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">279</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">280</td>
                                    <td class="row-source"><pre>  // &#39;0x00&#39;: &#39;INofeeswapDelegatee.modifyPosition.selector&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">281</td>
                                    <td class="row-source"><pre>  // &#39;0x04&#39;: &#39;poolId&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">282</td>
                                    <td class="row-source"><pre>  // &#39;0x24&#39;: &#39;logPriceMin&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">283</td>
                                    <td class="row-source"><pre>  // &#39;0x44&#39;: &#39;logPriceMax&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">284</td>
                                    <td class="row-source"><pre>  // &#39;0x64&#39;: &#39;shares&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">285</td>
                                    <td class="row-source"><pre>  // &#39;0x84&#39;: &#39;calldata pointer to the beginning of hookData - 0x04&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">286</td>
                                    <td class="row-source"><pre>  // &#39;0x04 + calldataload(0x84)&#39;: &#39;hookData&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">287</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">288</td>
                                    <td class="row-source"><pre>  // &#39;msg.sender&#39; is placed in memory to be passed to hook as calldata.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">289</td>
                                    <td class="row-source"><pre>  setMsgSender(msg.sender);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">290</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">291</td>
                                    <td class="row-source"><pre>  {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">292</td>
                                    <td class="row-source"><pre>    // &#39;poolId&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">293</td>
                                    <td class="row-source"><pre>    uint256 poolId;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">294</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">295</td>
                                    <td class="row-source"><pre>      poolId := calldataload(4)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">296</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">297</td>
                                    <td class="row-source"><pre>    setPoolId(poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">298</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">299</td>
                                    <td class="row-source"><pre>    // Normalized log price values are calculated next.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">300</td>
                                    <td class="row-source"><pre>    X59 shift = getLogOffsetFromPoolId(poolId) - sixteenX59;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">301</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">302</td>
                                    <td class="row-source"><pre>    // &#39;logPriceMin&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">303</td>
                                    <td class="row-source"><pre>    X59 logPriceMin;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">304</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">305</td>
                                    <td class="row-source"><pre>      logPriceMin := calldataload(36)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">306</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">307</td>
                                    <td class="row-source"><pre>    setLogPriceMin(logPriceMin);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">308</td>
                                    <td class="row-source"><pre>    X59 qMin = logPriceMin - shift;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">309</td>
                                    <td class="row-source"><pre>    require(qMin &gt; zeroX59, LogPriceOutOfRange(logPriceMin));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">310</td>
                                    <td class="row-source"><pre>    require(qMin &lt; thirtyTwoX59, LogPriceOutOfRange(logPriceMin));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">311</td>
                                    <td class="row-source"><pre>    setLogPriceMinOffsetted(qMin);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">312</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">313</td>
                                    <td class="row-source"><pre>    // &#39;logPriceMax&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">314</td>
                                    <td class="row-source"><pre>    X59 logPriceMax;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">315</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">316</td>
                                    <td class="row-source"><pre>      logPriceMax := calldataload(68)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">317</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">318</td>
                                    <td class="row-source"><pre>    setLogPriceMax(logPriceMax);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">319</td>
                                    <td class="row-source"><pre>    X59 qMax = logPriceMax - shift;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">320</td>
                                    <td class="row-source"><pre>    require(qMax &gt; zeroX59, LogPriceOutOfRange(logPriceMax));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">321</td>
                                    <td class="row-source"><pre>    require(qMax &lt; thirtyTwoX59, LogPriceOutOfRange(logPriceMax));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">322</td>
                                    <td class="row-source"><pre>    setLogPriceMaxOffsetted(qMax);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">323</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">324</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">325</td>
                                    <td class="row-source"><pre>  {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">326</td>
                                    <td class="row-source"><pre>    // The number of shares to be minted/burned is read from calldata capped by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">327</td>
                                    <td class="row-source"><pre>    // &#39;-type(int128).max&#39; and &#39;+type(int128).max&#39;, and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">328</td>
                                    <td class="row-source"><pre>    int256 shares;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">329</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">330</td>
                                    <td class="row-source"><pre>      shares := calldataload(100)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">331</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">332</td>
                                    <td class="row-source"><pre>    // Checks the number of shares.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">333</td>
                                    <td class="row-source"><pre>    require(shares &lt;= type(int128).max, InvalidNumberOfShares(shares));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">334</td>
                                    <td class="row-source"><pre>    require(shares &gt;= 0 - type(int128).max, InvalidNumberOfShares(shares));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">335</td>
                                    <td class="row-source"><pre>    require(shares != 0, InvalidNumberOfShares(shares));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">336</td>
                                    <td class="row-source"><pre>    setShares(shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">337</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">338</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">339</td>
                                    <td class="row-source"><pre>  {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">340</td>
                                    <td class="row-source"><pre>    // This is the pointer referring to the start of the curve sequence in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">341</td>
                                    <td class="row-source"><pre>    // memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">342</td>
                                    <td class="row-source"><pre>    Curve curve;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">343</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">344</td>
                                    <td class="row-source"><pre>    // This is the pointer referring to the start of hookData in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">345</td>
                                    <td class="row-source"><pre>    uint256 hookData;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">346</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">347</td>
                                    <td class="row-source"><pre>    // The byte count of &#39;hookData&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">348</td>
                                    <td class="row-source"><pre>    uint256 hookDataByteCount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">349</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">350</td>
                                    <td class="row-source"><pre>    // The total number of bytes of the memory snapshot to be used as input for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">351</td>
                                    <td class="row-source"><pre>    // the hook contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">352</td>
                                    <td class="row-source"><pre>    uint256 hookInputByteCount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">353</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">354</td>
                                    <td class="row-source"><pre>    // The free memory pointer which is set at the end.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">355</td>
                                    <td class="row-source"><pre>    uint256 freeMemoryPointer;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">356</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">357</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">358</td>
                                    <td class="row-source"><pre>      // This value refers to the start of &#39;hookData&#39; in calldata (the length</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">359</td>
                                    <td class="row-source"><pre>      // slot).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">360</td>
                                    <td class="row-source"><pre>      let hookDataStart := add(0x04, calldataload(0x84))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">361</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">362</td>
                                    <td class="row-source"><pre>      // 32 bytes are reserved for the first slot of the curve sequence and no</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">363</td>
                                    <td class="row-source"><pre>      // member of kernel is loaded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">364</td>
                                    <td class="row-source"><pre>      curve := _endOfStaticParams_</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">365</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">366</td>
                                    <td class="row-source"><pre>      // &#39;hookData&#39; appears immediately after.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">367</td>
                                    <td class="row-source"><pre>      hookData := add(_endOfStaticParams_, 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">368</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">369</td>
                                    <td class="row-source"><pre>      // The number of bytes to be occupied by &#39;hookData&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">370</td>
                                    <td class="row-source"><pre>      hookDataByteCount := calldataload(hookDataStart)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">371</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">372</td>
                                    <td class="row-source"><pre>      // &#39;freeMemoryPointer&#39; appears after &#39;hookData&#39; in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">373</td>
                                    <td class="row-source"><pre>      freeMemoryPointer := add(hookData, hookDataByteCount)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">374</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">375</td>
                                    <td class="row-source"><pre>      // The total number of bytes to be given to the hook as input.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">376</td>
                                    <td class="row-source"><pre>      hookInputByteCount := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">377</td>
                                    <td class="row-source"><pre>        sub(sub(freeMemoryPointer, _hookInputByteCount_), 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">378</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">379</td>
                                    <td class="row-source"><pre>      // Data is copied from calldata to memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">380</td>
                                    <td class="row-source"><pre>      calldatacopy(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">381</td>
                                    <td class="row-source"><pre>        hookData,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">382</td>
                                    <td class="row-source"><pre>        // The length slot of &#39;hookData&#39; is excluded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">383</td>
                                    <td class="row-source"><pre>        add(hookDataStart, 32),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">384</td>
                                    <td class="row-source"><pre>        hookDataByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">385</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">386</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">387</td>
                                    <td class="row-source"><pre>    setCurve(curve);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">388</td>
                                    <td class="row-source"><pre>    setHookData(hookData);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">389</td>
                                    <td class="row-source"><pre>    require(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">390</td>
                                    <td class="row-source"><pre>      hookDataByteCount &lt;= type(uint16).max,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">391</td>
                                    <td class="row-source"><pre>      HookDataTooLong(hookDataByteCount)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">392</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">393</td>
                                    <td class="row-source"><pre>    setHookDataByteCount(uint16(hookDataByteCount));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">394</td>
                                    <td class="row-source"><pre>    setHookInputByteCount(hookInputByteCount);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">395</td>
                                    <td class="row-source"><pre>    setFreeMemoryPointer(freeMemoryPointer);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">396</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">397</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">398</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">399</td>
                                    <td class="row-source"><pre>/// @notice Reads inputs of the external function &#39;donate&#39; and places each in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">400</td>
                                    <td class="row-source"><pre>/// the appropriate memory location.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">401</td>
                                    <td class="row-source"><pre>function readDonateInput() view {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">402</td>
                                    <td class="row-source"><pre>  // Calldata layout for &#39;donate&#39; is as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">403</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">404</td>
                                    <td class="row-source"><pre>  // &#39;0x00&#39;: &#39;INofeeswapDelegatee.donate.selector&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">405</td>
                                    <td class="row-source"><pre>  // &#39;0x04&#39;: &#39;poolId&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">406</td>
                                    <td class="row-source"><pre>  // &#39;0x24&#39;: &#39;shares&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">407</td>
                                    <td class="row-source"><pre>  // &#39;0x44&#39;: &#39;calldata pointer to the beginning of hookData - 0x04&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">408</td>
                                    <td class="row-source"><pre>  // &#39;0x04 + calldataload(0x44)&#39;: &#39;hookData&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">409</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">410</td>
                                    <td class="row-source"><pre>  // &#39;msg.sender&#39; is placed in memory to be passed to hook as calldata.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">411</td>
                                    <td class="row-source"><pre>  setMsgSender(msg.sender);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">412</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">413</td>
                                    <td class="row-source"><pre>  {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">414</td>
                                    <td class="row-source"><pre>    // &#39;poolId&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">415</td>
                                    <td class="row-source"><pre>    uint256 poolId;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">416</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">417</td>
                                    <td class="row-source"><pre>      poolId := calldataload(4)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">418</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">419</td>
                                    <td class="row-source"><pre>    setPoolId(poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">420</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">421</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">422</td>
                                    <td class="row-source"><pre>  {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">423</td>
                                    <td class="row-source"><pre>    // The number of shares to be minted/burned is read from calldata capped by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">424</td>
                                    <td class="row-source"><pre>    // &#39;+type(int128).max&#39;, and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">425</td>
                                    <td class="row-source"><pre>    int256 shares;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">426</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">427</td>
                                    <td class="row-source"><pre>      shares := calldataload(36)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">428</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">429</td>
                                    <td class="row-source"><pre>    require(shares &lt;= type(int128).max, InvalidNumberOfShares(shares));</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">430</td>
                                    <td class="row-source"><pre>    require(shares &gt; 0, InvalidNumberOfShares(shares));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">431</td>
                                    <td class="row-source"><pre>    setShares(shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">432</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">433</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">434</td>
                                    <td class="row-source"><pre>  {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">435</td>
                                    <td class="row-source"><pre>    // This is the pointer referring to the start of the curve sequence in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">436</td>
                                    <td class="row-source"><pre>    // memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">437</td>
                                    <td class="row-source"><pre>    Curve curve;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">438</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">439</td>
                                    <td class="row-source"><pre>    // This is the pointer referring to the start of hookData in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">440</td>
                                    <td class="row-source"><pre>    uint256 hookData;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">441</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">442</td>
                                    <td class="row-source"><pre>    // The byte count of &#39;hookData&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">443</td>
                                    <td class="row-source"><pre>    uint256 hookDataByteCount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">444</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">445</td>
                                    <td class="row-source"><pre>    // The total number of bytes of the memory snapshot to be used as input for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">446</td>
                                    <td class="row-source"><pre>    // the hook contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">447</td>
                                    <td class="row-source"><pre>    uint256 hookInputByteCount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">448</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">449</td>
                                    <td class="row-source"><pre>    // The free memory pointer which is set at the end.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">450</td>
                                    <td class="row-source"><pre>    uint256 freeMemoryPointer;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">451</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">452</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">453</td>
                                    <td class="row-source"><pre>      // This value refers to the start of &#39;hookData&#39; in calldata (the length</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">454</td>
                                    <td class="row-source"><pre>      // slot).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">455</td>
                                    <td class="row-source"><pre>      let hookDataStart := add(0x04, calldataload(0x44))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">456</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">457</td>
                                    <td class="row-source"><pre>      // 32 bytes are reserved for the first slot of the curve sequence and no</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">458</td>
                                    <td class="row-source"><pre>      // member of kernel is loaded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">459</td>
                                    <td class="row-source"><pre>      curve := _endOfStaticParams_</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">460</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">461</td>
                                    <td class="row-source"><pre>      // &#39;hookData&#39; appears immediately after.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">462</td>
                                    <td class="row-source"><pre>      hookData := add(_endOfStaticParams_, 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">463</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">464</td>
                                    <td class="row-source"><pre>      // The number of bytes to be occupied by &#39;hookData&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">465</td>
                                    <td class="row-source"><pre>      hookDataByteCount := calldataload(hookDataStart)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">466</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">467</td>
                                    <td class="row-source"><pre>      // &#39;freeMemoryPointer&#39; appears after &#39;hookData&#39; in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">468</td>
                                    <td class="row-source"><pre>      freeMemoryPointer := add(hookData, hookDataByteCount)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">469</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">470</td>
                                    <td class="row-source"><pre>      // The total number of bytes to be given to the hook as input.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">471</td>
                                    <td class="row-source"><pre>      hookInputByteCount := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">472</td>
                                    <td class="row-source"><pre>        sub(sub(freeMemoryPointer, _hookInputByteCount_), 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">473</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">474</td>
                                    <td class="row-source"><pre>      // Data is copied from calldata to memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">475</td>
                                    <td class="row-source"><pre>      calldatacopy(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">476</td>
                                    <td class="row-source"><pre>        hookData,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">477</td>
                                    <td class="row-source"><pre>        // The length slot of &#39;hookData&#39; is excluded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">478</td>
                                    <td class="row-source"><pre>        add(hookDataStart, 32),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">479</td>
                                    <td class="row-source"><pre>        hookDataByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">480</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">481</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">482</td>
                                    <td class="row-source"><pre>    setCurve(curve);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">483</td>
                                    <td class="row-source"><pre>    setHookData(hookData);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">484</td>
                                    <td class="row-source"><pre>    require(</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">485</td>
                                    <td class="row-source"><pre>      hookDataByteCount &lt;= type(uint16).max,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">486</td>
                                    <td class="row-source"><pre>      HookDataTooLong(hookDataByteCount)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">487</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">488</td>
                                    <td class="row-source"><pre>    setHookDataByteCount(uint16(hookDataByteCount));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">489</td>
                                    <td class="row-source"><pre>    setHookInputByteCount(hookInputByteCount);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">490</td>
                                    <td class="row-source"><pre>    setFreeMemoryPointer(freeMemoryPointer);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">491</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">492</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">493</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">494</td>
                                    <td class="row-source"><pre>/// @notice Reads the inputs of the external function &#39;modifyKernel&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">495</td>
                                    <td class="row-source"><pre>/// places each in the appropriate memory location.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">496</td>
                                    <td class="row-source"><pre>/// @return kernelCompact The memory pointer for the given &#39;kernelCompact&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">497</td>
                                    <td class="row-source"><pre>/// Observe that &#39;kernel&#39;, &#39;kernelCompact&#39;, &#39;curve&#39;, and &#39;hookData&#39; are loaded</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">498</td>
                                    <td class="row-source"><pre>/// in memory in this order. Hence, the place of &#39;kernelCompact&#39; is not</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">499</td>
                                    <td class="row-source"><pre>/// constant and depends on the size of &#39;kernel&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">500</td>
                                    <td class="row-source"><pre>function readModifyKernelInput() view returns (KernelCompact kernelCompact) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">501</td>
                                    <td class="row-source"><pre>  // Calldata layout for &#39;modifyKernel&#39; is as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">502</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">503</td>
                                    <td class="row-source"><pre>  // &#39;0x00&#39;: &#39;INofeeswapDelegatee.modifyKernel.selector&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">504</td>
                                    <td class="row-source"><pre>  // &#39;0x04&#39;: &#39;poolId&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">505</td>
                                    <td class="row-source"><pre>  // &#39;0x24&#39;: &#39;calldata pointer to the beginning of kernelCompactArray - 0x04&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">506</td>
                                    <td class="row-source"><pre>  // &#39;0x44&#39;: &#39;calldata pointer to the beginning of hookData - 0x04&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">507</td>
                                    <td class="row-source"><pre>  // &#39;0x04 + calldataload(0x24)&#39;: &#39;kernelCompactArray&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">508</td>
                                    <td class="row-source"><pre>  // &#39;0x04 + calldataload(0x44)&#39;: &#39;hookData&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">509</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">510</td>
                                    <td class="row-source"><pre>  // &#39;msg.sender&#39; is placed in memory to be passed to hook as calldata.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">511</td>
                                    <td class="row-source"><pre>  setMsgSender(msg.sender);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">512</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">513</td>
                                    <td class="row-source"><pre>  // &#39;poolId&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">514</td>
                                    <td class="row-source"><pre>  uint256 poolId;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">515</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">516</td>
                                    <td class="row-source"><pre>    poolId := calldataload(4)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">517</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">518</td>
                                    <td class="row-source"><pre>  setPoolId(poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">519</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">520</td>
                                    <td class="row-source"><pre>  // This is the pointer referring to the start of the kernel in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">521</td>
                                    <td class="row-source"><pre>  Kernel kernel;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">522</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">523</td>
                                    <td class="row-source"><pre>  // This value refers to the start of &#39;kernelCompactArray&#39; in calldata.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">524</td>
                                    <td class="row-source"><pre>  uint256 kernelCompactStart;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">525</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">526</td>
                                    <td class="row-source"><pre>  // The byte count of &#39;kernelCompact&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">527</td>
                                    <td class="row-source"><pre>  uint256 kernelCompactByteCount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">528</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">529</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">530</td>
                                    <td class="row-source"><pre>    kernelCompactStart := add(0x04, calldataload(0x24))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">531</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">532</td>
                                    <td class="row-source"><pre>    // kernel starts immediately after static parameters in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">533</td>
                                    <td class="row-source"><pre>    kernel := _endOfStaticParams_</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">534</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">535</td>
                                    <td class="row-source"><pre>    // The number of bytes to be occupied by &#39;kernelCompact&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">536</td>
                                    <td class="row-source"><pre>    kernelCompactByteCount := shl(5, calldataload(kernelCompactStart))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">537</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">538</td>
                                    <td class="row-source"><pre>    // Each breakpoint occupies 80-bits in kernelCompact.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">539</td>
                                    <td class="row-source"><pre>    // Each breakpoint occupies 512-bits in kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">540</td>
                                    <td class="row-source"><pre>    // Hence, &#39;512 * calldataload(kernelCompactStart) / 80&#39; is an upper </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">541</td>
                                    <td class="row-source"><pre>    // bound for the number of slots to be occupied by &#39;kernel&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">542</td>
                                    <td class="row-source"><pre>    // And, &#39;32 * (512 * calldataload(kernelCompactStart) / 80)&#39; is an upper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">543</td>
                                    <td class="row-source"><pre>    // bound for the number of bytes to be occupied by &#39;kernel&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">544</td>
                                    <td class="row-source"><pre>    // Since &#39;kernelCompact&#39; comes immediately after &#39;kernel&#39; in memory, we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">545</td>
                                    <td class="row-source"><pre>    // need to set its memory pointer accordingly:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">546</td>
                                    <td class="row-source"><pre>    kernelCompact := add(kernel, shl(5, div(kernelCompactByteCount, 5)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">547</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">548</td>
                                    <td class="row-source"><pre>  setKernel(kernel);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">549</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">550</td>
                                    <td class="row-source"><pre>  // This is the pointer referring to the start of hookData in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">551</td>
                                    <td class="row-source"><pre>  uint256 hookData;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">552</td>
                                    <td class="row-source"><pre>  </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">553</td>
                                    <td class="row-source"><pre>  // The byte count of &#39;hookData&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">554</td>
                                    <td class="row-source"><pre>  uint256 hookDataByteCount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">555</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">556</td>
                                    <td class="row-source"><pre>  // The total number of bytes of the memory snapshot to be used as input for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">557</td>
                                    <td class="row-source"><pre>  // the hook contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">558</td>
                                    <td class="row-source"><pre>  uint256 hookInputByteCount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">559</td>
                                    <td class="row-source"><pre>  </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">560</td>
                                    <td class="row-source"><pre>  // The free memory pointer which is set at the end.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">561</td>
                                    <td class="row-source"><pre>  uint256 freeMemoryPointer;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">562</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">563</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">564</td>
                                    <td class="row-source"><pre>    // This value refers to the start of &#39;hookData&#39; in calldata (the length</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">565</td>
                                    <td class="row-source"><pre>    // slot).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">566</td>
                                    <td class="row-source"><pre>    let hookDataStart := add(0x04, calldataload(0x44))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">567</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">568</td>
                                    <td class="row-source"><pre>    // &#39;hookData&#39; appears after &#39;kernelCompact&#39; in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">569</td>
                                    <td class="row-source"><pre>    hookData := add(kernelCompact, kernelCompactByteCount)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">570</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">571</td>
                                    <td class="row-source"><pre>    // The number of bytes to be occupied by &#39;hookData&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">572</td>
                                    <td class="row-source"><pre>    hookDataByteCount := calldataload(hookDataStart)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">573</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">574</td>
                                    <td class="row-source"><pre>    // &#39;freeMemoryPointer&#39; appears after &#39;hookData&#39; in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">575</td>
                                    <td class="row-source"><pre>    freeMemoryPointer := add(hookData, hookDataByteCount)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">576</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">577</td>
                                    <td class="row-source"><pre>    // The total number of bytes to be given to the hook as input.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">578</td>
                                    <td class="row-source"><pre>    // 32 is subtracted to exclude the &#39;_hookInputByteCount_&#39; slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">579</td>
                                    <td class="row-source"><pre>    hookInputByteCount := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">580</td>
                                    <td class="row-source"><pre>      sub(sub(freeMemoryPointer, _hookInputByteCount_), 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">581</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">582</td>
                                    <td class="row-source"><pre>    // Data is copied from calldata to memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">583</td>
                                    <td class="row-source"><pre>    calldatacopy(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">584</td>
                                    <td class="row-source"><pre>      kernelCompact,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">585</td>
                                    <td class="row-source"><pre>      // The length slot of &#39;kernelCompactArray&#39; is excluded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">586</td>
                                    <td class="row-source"><pre>      add(kernelCompactStart, 32),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">587</td>
                                    <td class="row-source"><pre>      kernelCompactByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">588</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">589</td>
                                    <td class="row-source"><pre>    calldatacopy(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">590</td>
                                    <td class="row-source"><pre>      hookData,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">591</td>
                                    <td class="row-source"><pre>      // The length slot of &#39;hookData&#39; is excluded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">592</td>
                                    <td class="row-source"><pre>      add(hookDataStart, 32),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">593</td>
                                    <td class="row-source"><pre>      hookDataByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">594</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">595</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">596</td>
                                    <td class="row-source"><pre>  setHookData(hookData);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">597</td>
                                    <td class="row-source"><pre>  require(</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">598</td>
                                    <td class="row-source"><pre>    hookDataByteCount &lt;= type(uint16).max,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">599</td>
                                    <td class="row-source"><pre>    HookDataTooLong(hookDataByteCount)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">600</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">601</td>
                                    <td class="row-source"><pre>  setHookDataByteCount(uint16(hookDataByteCount));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">602</td>
                                    <td class="row-source"><pre>  setHookInputByteCount(hookInputByteCount);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">603</td>
                                    <td class="row-source"><pre>  setFreeMemoryPointer(freeMemoryPointer);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">604</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">605</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">606</td>
                                    <td class="row-source"><pre>/// @notice Reads inputs of the external function &#39;modifyPoolGrowthPortion&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">607</td>
                                    <td class="row-source"><pre>/// places each in the appropriate memory location.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">608</td>
                                    <td class="row-source"><pre>function readModifyPoolGrowthPortionInput() view {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">609</td>
                                    <td class="row-source"><pre>  // Calldata layout for &#39;modifyKernel&#39; is as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">610</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">611</td>
                                    <td class="row-source"><pre>  // &#39;0x00&#39;: &#39;INofeeswapDelegatee.modifyPoolGrowthPortion.selector&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">612</td>
                                    <td class="row-source"><pre>  // &#39;0x04&#39;: &#39;poolId&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">613</td>
                                    <td class="row-source"><pre>  // &#39;0x24&#39;: &#39;poolGrowthPortion&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">614</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">615</td>
                                    <td class="row-source"><pre>  // &#39;msg.sender&#39; is placed in memory to be passed to sentinel as calldata.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">616</td>
                                    <td class="row-source"><pre>  setMsgSender(msg.sender);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">617</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">618</td>
                                    <td class="row-source"><pre>  // &#39;poolId&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">619</td>
                                    <td class="row-source"><pre>  uint256 poolId;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">620</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">621</td>
                                    <td class="row-source"><pre>    poolId := calldataload(4)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">622</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">623</td>
                                    <td class="row-source"><pre>  setPoolId(poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">624</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">625</td>
                                    <td class="row-source"><pre>  {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">626</td>
                                    <td class="row-source"><pre>    // &#39;poolGrowthPortion&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">627</td>
                                    <td class="row-source"><pre>    X47 poolGrowthPortion;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">628</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">629</td>
                                    <td class="row-source"><pre>      poolGrowthPortion := calldataload(36)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">630</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">631</td>
                                    <td class="row-source"><pre>    require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">632</td>
                                    <td class="row-source"><pre>      poolGrowthPortion &lt;= oneX47,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">633</td>
                                    <td class="row-source"><pre>      InvalidGrowthPortion(poolGrowthPortion)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">634</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">635</td>
                                    <td class="row-source"><pre>    setPoolGrowthPortion(poolGrowthPortion);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">636</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">637</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">638</td>
                                    <td class="row-source"><pre>  // The total number of bytes of the memory snapshot to be used as input for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">639</td>
                                    <td class="row-source"><pre>  // the sentinel contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">640</td>
                                    <td class="row-source"><pre>  uint256 hookInputByteCount;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">641</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">642</td>
                                    <td class="row-source"><pre>    // The total number of bytes to be given to the sentinel as input.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">643</td>
                                    <td class="row-source"><pre>    hookInputByteCount := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">644</td>
                                    <td class="row-source"><pre>      sub(sub(_endOfStaticParams_, _hookInputByteCount_), 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">645</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">646</td>
                                    <td class="row-source"><pre>  setHookInputByteCount(hookInputByteCount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">647</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">648</td>
                                    <td class="row-source"><pre>  // Free memory appears immediately after staticParams.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">649</td>
                                    <td class="row-source"><pre>  setFreeMemoryPointer(_endOfStaticParams_);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">650</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">651</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">652</td>
                                    <td class="row-source"><pre>/// @notice Reads inputs of the external function &#39;updateGrowthPortions&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">653</td>
                                    <td class="row-source"><pre>/// places each in the appropriate memory location.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">654</td>
                                    <td class="row-source"><pre>function readUpdateGrowthPortionsInput() pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">655</td>
                                    <td class="row-source"><pre>  // Calldata layout for &#39;updateGrowthPortions&#39; is as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">656</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">657</td>
                                    <td class="row-source"><pre>  // &#39;0x00&#39;: &#39;INofeeswapDelegatee.updateGrowthPortions.selector&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">658</td>
                                    <td class="row-source"><pre>  // &#39;0x04&#39;: &#39;poolId&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">659</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">660</td>
                                    <td class="row-source"><pre>  // &#39;poolId&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">661</td>
                                    <td class="row-source"><pre>  uint256 poolId;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">662</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">663</td>
                                    <td class="row-source"><pre>    poolId := calldataload(4)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">664</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">665</td>
                                    <td class="row-source"><pre>  setPoolId(poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">666</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">667</td>
                                    <td class="row-source"><pre>  // The total number of bytes of the memory snapshot to be used as input for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">668</td>
                                    <td class="row-source"><pre>  // the sentinel contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">669</td>
                                    <td class="row-source"><pre>  uint256 hookInputByteCount;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">670</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">671</td>
                                    <td class="row-source"><pre>    // The total number of bytes to be given to the sentinel as input.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">672</td>
                                    <td class="row-source"><pre>    hookInputByteCount := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">673</td>
                                    <td class="row-source"><pre>      sub(sub(_endOfStaticParams_, _hookInputByteCount_), 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">674</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">675</td>
                                    <td class="row-source"><pre>  setHookInputByteCount(hookInputByteCount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">676</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">677</td>
                                    <td class="row-source"><pre>  // Free memory appears immediately after staticParams.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">678</td>
                                    <td class="row-source"><pre>  setFreeMemoryPointer(_endOfStaticParams_);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">679</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">680</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">681</td>
                                    <td class="row-source"><pre>/// @notice Reads the inputs of the external function &#39;swap&#39; and places each in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">682</td>
                                    <td class="row-source"><pre>/// the appropriate memory location.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">683</td>
                                    <td class="row-source"><pre>function readSwapInput() view {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">684</td>
                                    <td class="row-source"><pre>  // Calldata layout for &#39;swap&#39; is as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">685</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">686</td>
                                    <td class="row-source"><pre>  // &#39;0x00&#39;: &#39;INofeeswap.swap.selector&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">687</td>
                                    <td class="row-source"><pre>  // &#39;0x04&#39;: &#39;poolId&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">688</td>
                                    <td class="row-source"><pre>  // &#39;0x24&#39;: &#39;amountSpecified&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">689</td>
                                    <td class="row-source"><pre>  // &#39;0x44&#39;: &#39;logPriceLimit&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">690</td>
                                    <td class="row-source"><pre>  // &#39;0x64&#39;: &#39;zeroForOne&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">691</td>
                                    <td class="row-source"><pre>  // &#39;0x84&#39;: &#39;calldata pointer to the beginning of hookData - 0x04&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">692</td>
                                    <td class="row-source"><pre>  // &#39;0x04 + calldataload(0x84)&#39;: &#39;hookData&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">693</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">694</td>
                                    <td class="row-source"><pre>  // &#39;msg.sender&#39; is placed in memory to be passed to hook as calldata.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">695</td>
                                    <td class="row-source"><pre>  setMsgSender(msg.sender);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">696</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">697</td>
                                    <td class="row-source"><pre>  // &#39;poolId&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">698</td>
                                    <td class="row-source"><pre>  uint256 poolId;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">699</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">700</td>
                                    <td class="row-source"><pre>    poolId := calldataload(4)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">701</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">702</td>
                                    <td class="row-source"><pre>  setPoolId(poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">703</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">704</td>
                                    <td class="row-source"><pre>  // &#39;amountSpecified&#39; is read from calldata, capped by &#39;-type(int128).max&#39; and </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">705</td>
                                    <td class="row-source"><pre>  // &#39;+type(int128).max&#39;, transformed to X127, and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">706</td>
                                    <td class="row-source"><pre>  X127 amountSpecified;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">707</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">708</td>
                                    <td class="row-source"><pre>    amountSpecified := calldataload(36)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">709</td>
                                    <td class="row-source"><pre>    if slt(amountSpecified, sub(0, 0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">710</td>
                                    <td class="row-source"><pre>      amountSpecified := sub(0, 0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">711</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">712</td>
                                    <td class="row-source"><pre>    if sgt(amountSpecified, 0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">713</td>
                                    <td class="row-source"><pre>      amountSpecified := 0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">714</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">715</td>
                                    <td class="row-source"><pre>    amountSpecified := mul(amountSpecified, shl(127, 1))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">716</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">717</td>
                                    <td class="row-source"><pre>  setAmountSpecified(amountSpecified);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">718</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">719</td>
                                    <td class="row-source"><pre>  // &#39;logPriceLimit&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">720</td>
                                    <td class="row-source"><pre>  X59 logPriceLimit;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">721</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">722</td>
                                    <td class="row-source"><pre>    logPriceLimit := calldataload(68)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">723</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">724</td>
                                    <td class="row-source"><pre>  setLogPriceLimit(logPriceLimit);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">725</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">726</td>
                                    <td class="row-source"><pre>  // &#39;crossThreshold&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">727</td>
                                    <td class="row-source"><pre>  uint256 crossThreshold;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">728</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">729</td>
                                    <td class="row-source"><pre>    crossThreshold := shr(128, calldataload(100))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">730</td>
                                    <td class="row-source"><pre>    if gt(crossThreshold, 0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">731</td>
                                    <td class="row-source"><pre>      crossThreshold := 0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">732</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">733</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">734</td>
                                    <td class="row-source"><pre>  setCrossThreshold(crossThreshold);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">735</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">736</td>
                                    <td class="row-source"><pre>  // &#39;zeroForOne&#39; is read from calldata, capped by &#39;2&#39; and placed in memory.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">737</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">738</td>
                                    <td class="row-source"><pre>    let zeroForOne := shr(128, calldataload(116))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">739</td>
                                    <td class="row-source"><pre>    if gt(zeroForOne, 2) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">740</td>
                                    <td class="row-source"><pre>      zeroForOne := 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">741</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">742</td>
                                    <td class="row-source"><pre>    mstore8(_zeroForOne_, zeroForOne)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">743</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">744</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">745</td>
                                    <td class="row-source"><pre>  {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">746</td>
                                    <td class="row-source"><pre>    // This is the pointer referring to the start of the kernel in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">747</td>
                                    <td class="row-source"><pre>    Kernel kernel;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">748</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">749</td>
                                    <td class="row-source"><pre>    // This is the pointer referring to the start of hookData in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">750</td>
                                    <td class="row-source"><pre>    uint256 hookData;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">751</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">752</td>
                                    <td class="row-source"><pre>    // The byte count of &#39;hookData&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">753</td>
                                    <td class="row-source"><pre>    uint256 hookDataByteCount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">754</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">755</td>
                                    <td class="row-source"><pre>    // The total number of bytes of the memory snapshot to be used as input for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">756</td>
                                    <td class="row-source"><pre>    // the hook contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">757</td>
                                    <td class="row-source"><pre>    uint256 hookInputByteCount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">758</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">759</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">760</td>
                                    <td class="row-source"><pre>      // This value refers to the start of &#39;hookData&#39; in calldata (the length</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">761</td>
                                    <td class="row-source"><pre>      // slot).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">762</td>
                                    <td class="row-source"><pre>      let hookDataStart := add(0x04, calldataload(0x84))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">763</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">764</td>
                                    <td class="row-source"><pre>      // &#39;hookData&#39; appears immediately after static parameters.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">765</td>
                                    <td class="row-source"><pre>      hookData := _endOfStaticParams_</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">766</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">767</td>
                                    <td class="row-source"><pre>      // The number of bytes to be occupied by &#39;hookData&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">768</td>
                                    <td class="row-source"><pre>      hookDataByteCount := calldataload(hookDataStart)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">769</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">770</td>
                                    <td class="row-source"><pre>      // &#39;kernel&#39; appears immediately after &#39;hookData&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">771</td>
                                    <td class="row-source"><pre>      kernel := add(hookData, hookDataByteCount)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">772</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">773</td>
                                    <td class="row-source"><pre>      // The total number of bytes to be given to the &#39;preSwap&#39; hook as input.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">774</td>
                                    <td class="row-source"><pre>      // 32 is subtracted to exclude the &#39;_hookInputByteCount_&#39; slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">775</td>
                                    <td class="row-source"><pre>      hookInputByteCount := sub(sub(kernel, _hookInputByteCount_), 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">776</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">777</td>
                                    <td class="row-source"><pre>      // Data is copied from calldata to memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">778</td>
                                    <td class="row-source"><pre>      calldatacopy(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">779</td>
                                    <td class="row-source"><pre>        hookData,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">780</td>
                                    <td class="row-source"><pre>        // The length slot of &#39;hookData&#39; is excluded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">781</td>
                                    <td class="row-source"><pre>        add(hookDataStart, 32),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">782</td>
                                    <td class="row-source"><pre>        hookDataByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">783</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">784</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">785</td>
                                    <td class="row-source"><pre>    setHookData(hookData);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">786</td>
                                    <td class="row-source"><pre>    require(</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">787</td>
                                    <td class="row-source"><pre>      hookDataByteCount &lt;= type(uint16).max,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">788</td>
                                    <td class="row-source"><pre>      HookDataTooLong(hookDataByteCount)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">789</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">790</td>
                                    <td class="row-source"><pre>    setHookDataByteCount(uint16(hookDataByteCount));</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">791</td>
                                    <td class="row-source"><pre>    setHookInputByteCount(hookInputByteCount);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">792</td>
                                    <td class="row-source"><pre>    setKernel(kernel);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">793</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">794</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">795</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">796</td>
                                    <td class="row-source"><pre>/// @notice Reads input of the external functions &#39;collectPool&#39; and </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">797</td>
                                    <td class="row-source"><pre>/// &#39;collectProtocol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">798</td>
                                    <td class="row-source"><pre>function readCollectInput() pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">799</td>
                                    <td class="row-source"><pre>  // Calldata layout is as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">800</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">801</td>
                                    <td class="row-source"><pre>  // &#39;0x00&#39;: function selector</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">802</td>
                                    <td class="row-source"><pre>  // &#39;0x04&#39;: &#39;poolId&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">803</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">804</td>
                                    <td class="row-source"><pre>  // &#39;poolId&#39; is read from calldata and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">805</td>
                                    <td class="row-source"><pre>  uint256 poolId;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">806</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">807</td>
                                    <td class="row-source"><pre>    poolId := calldataload(4)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">808</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">809</td>
                                    <td class="row-source"><pre>  setPoolId(poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">810</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">811</td>
                                    <td class="row-source"><pre>  // Determines the largest used memory slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">812</td>
                                    <td class="row-source"><pre>  setFreeMemoryPointer(_swapInput_);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">813</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_Curve_sol" data-file-path="contracts\utilities\Curve.sol" data-lines-active="1" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\Curve.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 1</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>  _spacing_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>  getCurveLength,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>  setLogPriceCurrent,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>  setCurveLength</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>} from &quot;./Memory.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>  Index,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>  zeroIndex,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>  oneIndex,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>  twoIndex,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>  maxCurveIndex</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>} from &quot;./Index.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>import {PriceLibrary} from &quot;./Price.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>  X59,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>  min,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>  max,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>  zeroX59,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>  thirtyTwoX59,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>  minLogSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>} from &quot;./X59.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>  LogSpacingIsTooSmall,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>  BlankIntervalsShouldBeAvoided,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>  InvalidCurveArrangement,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>  CurveIndexOutOfRange</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>} from &quot;./Errors.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>// The curve sequence comprises 64 bit logarithmic prices in the form of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>//  &#39;(2 ** 59) * (16 + qHistorical)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>// where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>//  &#39;qHistorical := log(pHistorical / pOffset)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>// Hence, each slot of the curve sequence consists of up to four members. The</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>// curve sequence should have at least two members. The first and the second</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>// members are &#39;qLower&#39; and &#39;qUpper&#39; (i.e., boundaries of the active liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>// interval) with the order depending on the pool&#39;s history. The last member is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>// always &#39;qCurrent&#39;. Consider the following curve sequence:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>//  &#39;q[0], q[1], q[2], ..., q[l - 1]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>// where &#39;l&#39; is the number of members. In order for the above sequence to be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>// considered valid, we should have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>//  &#39;min(q[i - 1], q[i - 2]) &lt; q[i] &lt; max(q[i - 1], q[i - 2])&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>// This ordering rule is verified upon initialization of any pool and it is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>// preserved by each amendment to the curve sequence.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>type Curve is uint256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>using PriceLibrary for uint16;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>using CurveLibrary for Curve global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>library CurveLibrary {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>  /// @notice Returns the member of the curve sequence corresponding to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>  /// given index.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>  /// Index out-of-range should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>  function member(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>    Curve curve,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>    Index index</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>    X59 q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>      // Each member of the curve sequence is &#39;64 bits == 8 bytes&#39; which is why</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>      // we are shifting index by &#39;3&#39; bits (i.e., we are multiplying index by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>      // &#39;8 == 2 ** 3&#39;). We load the memory slot whose most significant 64 bits</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>      // host the member that we are interested in. Then, we shift the content</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>      // by 192 bits to the right in order to discard the remaining bits.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>      //       ----------------------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>      //       | 64 bit member to be loaded | 192 additional bits |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>      //       +---------------------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>      //       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>      //    pointer == curve + (index &lt;&lt; 3)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>      // The addition is safe because index out-of-range is avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>      q := shr(192, mload(add(curve, shl(3, index))))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>  /// @notice Returns the leftmost and rightmost members of the curve sequence.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>  function boundaries(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>    Curve curve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>    X59 qLower,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>    X59 qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>    // The first and the second members of the curve sequence are loaded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>    // Index-out-of-range is not possible because the curve sequence has at</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>    // least two members.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>    qLower = curve.member(zeroIndex);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>    qUpper = curve.member(oneIndex);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>    // The two boundaries are arranged in order.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>    // Signed comparison is valid because both values are nonnegative and </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>    // do not exceed &#39;2 ** 64&#39; since each one is loaded from 64 bits of memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>    (qLower, qUpper) = (qUpper &lt;= qLower) ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>                       (qUpper, qLower) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>                       (qLower, qUpper);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>  /// @notice Validates an initial curve provided by the pool creator.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>  function validate(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>    Curve curve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>    X59 qLower,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>    X59 qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>    // The first and the second members of the curve sequence to be verified</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>    // are loaded. The curve sequence is read from an &#39;uint256[]&#39; calldata</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>    // array, whose length is non-zero due to the custom error</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>    // &#39;CurveLengthIsZero()&#39;. Hence, index out of range is not possible at this</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>    // point.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>    X59 q0 = curve.member(zeroIndex);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>    X59 q1 = curve.member(oneIndex);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>    // The output of &#39;member&#39; is always non-negative and never exceeds </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>    // &#39;2 ** 64&#39; (read from 64 bits of memory). Hence, signed comparison is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>    // valid.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>    (qLower, qUpper) = (q0 &lt;= q1) ? (q0, q1) : (q1, q0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>    // Underflow is not possible due to the above rearrangement of &#39;qLower&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>    // &#39;qUpper&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>    X59 qSpacing = qUpper - qLower;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>    // This is a one time calculation of &#39;sqrtSpacing&#39; and </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>    // &#39;sqrtInverseSpacing&#39;. They will be used later for swaps.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>    _spacing_.storePrice(qSpacing);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>    // Since both sides are non-negative and less than &#39;2 ** 64&#39;, all three </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>    // signed comparisons are valid.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>    require(qSpacing &gt;= minLogSpacing, LogSpacingIsTooSmall(qSpacing));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>    require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>      qLower &gt; qSpacing,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>      BlankIntervalsShouldBeAvoided(qLower, qUpper)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>    // Underflow is not possible because &#39;qSpacing&#39; does not exceed &#39;64&#39; bits.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>    // Hence, &#39;qSpacing &lt;= (2 ** 64) - 1 &lt; thirtyTwoX59&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>    require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>      qUpper &lt; thirtyTwoX59 - qSpacing,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>      BlankIntervalsShouldBeAvoided(qLower, qUpper)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>    Index length = twoIndex;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>    while (true) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>      // This may be an out-of-range access which is intentional, because we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>      // break before using &#39;q2&#39; if &#39;length&#39; is out of range.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>      X59 q2 = curve.member(length);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>      // During initialization of a pool, the provided &#39;curve&#39; is always</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>      // followed by at least &#39;64&#39; bits of &#39;0&#39;. Hence, this indicates that we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>      // have reached the end of the curve.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>      if (q2 == zeroX59) break;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>      // Here, we are checking the requirement:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>      //  &#39;min(q0, q1) &lt; q2 &lt; max(q0, q1)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>      // The output of &#39;member&#39; is always non-negative and never exceeds 64</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>      // bits (loaded from 64 bits of memory). Hence signed comparisons are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>      // valid.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>      if ((q2 &lt;= q0) || (q1 &lt;= q2)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>        if ((q2 &lt;= q1) || (q0 &lt;= q2)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>          revert InvalidCurveArrangement(q0, q1, q2);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>      // The two most recent members are shifted so that a new member can be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>      // loaded as &#39;q2&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>      q0 = q1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>      q1 = q2;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>      // This addition is safe and never exceeds the &#39;2 ** 256 - 1&#39; limit.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>      length = length + oneIndex;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>    // The length of the given curve should not exceed &#39;maxCurveIndex&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>    require(length &lt;= maxCurveIndex, CurveIndexOutOfRange(length));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>    // &#39;q1&#39; is the last valid member of the curve and therefore, it is set in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>    // memory as &#39;qCurrent&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>    setLogPriceCurrent(q1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>    // The &#39;length&#39; of the curve is stored in its appropriate memory location.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>    // Due to the above check, this value is less than &#39;2 ** 16&#39; and can be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>    // safely stored in the allocated 2 bytes of memory space.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>    setCurveLength(length);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>  /// @notice Generates a new curve with two members and stores its memory</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>  /// pointer in the appropriate memory location.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>  /// &#39;qCurrent&#39; and &#39;qOther&#39; should be positive and smaller than </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>  /// &#39;thirtyTwoX59&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>  function newCurve(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre>    Curve curve,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>    X59 qCurrent,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>    X59 qOther</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>  ) internal pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>      mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>        curve,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>        or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>          // &#39;qOther&#39; is written in the first place.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>          shl(192, qOther),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>          // &#39;qCurrent&#39; is written in the second place.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre>          shl(128, qCurrent)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre>    // The new length is stored in the allocated memory location.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>    setCurveLength(twoIndex);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>  /// @notice Amends the curve by adding a new member.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre>  /// @param q is the given logarithmic price to be added to the curve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>  /// sequence.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre>  /// &#39;q&#39; must be positive and less than &#39;2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>  function amend(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>    Curve curve,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre>    X59 q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>  ) internal pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>    // The first and second members of the curve are loaded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>    // Index out of range is not possible because the curve has at least two </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre>    // members.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>    X59 q0 = curve.member(zeroIndex);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre>    X59 q1 = curve.member(oneIndex);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre>    // If &#39;q&#39; is not within the current active interval, then a new curve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre>    // sequence is constructed. Signed comparison is valid because &#39;q0&#39;, &#39;q1&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre>    // and &#39;q&#39; are nonnegative and do not exceed 64 bits.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>    if (q &lt;= min(q0, q1)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre>      newCurve(curve, min(q0, q1), max(q0, q1));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre>      return;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>    if (max(q0, q1) &lt;= q) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre>      newCurve(curve, max(q0, q1), min(q0, q1));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre>      return;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre>    // The length of the curve is loaded from the memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre>    Index length = getCurveLength();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre>    // Every member of the curve is exhausted until either the following rule</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">257</td>
                                    <td class="row-source"><pre>    // is violated or runs out of members:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">258</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">259</td>
                                    <td class="row-source"><pre>    // &#39;min(q[k - 1], q[k - 2]) &lt; q[k] &lt; max(q[k - 1], q[k - 2])&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">260</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">261</td>
                                    <td class="row-source"><pre>    // Then, &#39;q&#39; is written in the corresponding place and the rest of that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">262</td>
                                    <td class="row-source"><pre>    // slot is cleared.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">263</td>
                                    <td class="row-source"><pre>    Index index = oneIndex;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">264</td>
                                    <td class="row-source"><pre>    while (true) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">265</td>
                                    <td class="row-source"><pre>      // Is &#39;q&#39; between &#39;q0&#39; and &#39;q1&#39;? If so, we proceed forward, otherwise,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">266</td>
                                    <td class="row-source"><pre>      // &#39;q&#39; is written in place of &#39;q1&#39; and the rest of that slot is cleared.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">267</td>
                                    <td class="row-source"><pre>      // Signed comparisons are valid because &#39;q0&#39;, &#39;q1&#39;, and &#39;q&#39; are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">268</td>
                                    <td class="row-source"><pre>      // non-negative and do not exceed 64 bits.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">269</td>
                                    <td class="row-source"><pre>      if ((q0 &lt; q1) ? (q &lt; q1) : (q1 &lt; q)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">270</td>
                                    <td class="row-source"><pre>        // This addition is safe and never exceeds the &#39;2 ** 256 - 1&#39; limit.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">271</td>
                                    <td class="row-source"><pre>        index = index + oneIndex;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">272</td>
                                    <td class="row-source"><pre>        q0 = q1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">273</td>
                                    <td class="row-source"><pre>        if (index &lt; length) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">274</td>
                                    <td class="row-source"><pre>          // Index out-of-range is not possible due to the above check.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">275</td>
                                    <td class="row-source"><pre>          q1 = curve.member(index);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">276</td>
                                    <td class="row-source"><pre>        } else {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">277</td>
                                    <td class="row-source"><pre>          break;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">278</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">279</td>
                                    <td class="row-source"><pre>      } else {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">280</td>
                                    <td class="row-source"><pre>        break;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">281</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">282</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">283</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">284</td>
                                    <td class="row-source"><pre>    // &#39;q&#39; is added to the end.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">285</td>
                                    <td class="row-source"><pre>    // This is not an out-of-range addition because one additional slot is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">286</td>
                                    <td class="row-source"><pre>    // always reserved for the amendment of the curve. A maximum of 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">287</td>
                                    <td class="row-source"><pre>    // amendments occur per swap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">288</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">289</td>
                                    <td class="row-source"><pre>      mstore(add(curve, shl(3, index)), shl(192, q))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">290</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">291</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">292</td>
                                    <td class="row-source"><pre>    // &#39;index + oneIndex&#39; must not exceed &#39;maxIndex&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">293</td>
                                    <td class="row-source"><pre>    require(index &lt; maxCurveIndex, CurveIndexOutOfRange(index));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">294</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">295</td>
                                    <td class="row-source"><pre>    // Lastly, &#39;curveLength&#39; is updated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">296</td>
                                    <td class="row-source"><pre>    // Due to the above check, this value is less than &#39;2 ** 16&#39; and can be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">297</td>
                                    <td class="row-source"><pre>    // safely stored in the allocated 2 bytes of memory space.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">298</td>
                                    <td class="row-source"><pre>    setCurveLength(index + oneIndex);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">299</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">300</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_Errors_sol" data-file-path="contracts\utilities\Errors.sol" data-lines-active="0" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\Errors.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 0</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {Index} from &quot;./Index.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {X15} from &quot;./X15.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {X47} from &quot;./X47.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>import {X59} from &quot;./X59.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>import {X111} from &quot;./X111.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>import {X127} from &quot;./X127.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>import {X208} from &quot;./X208.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>import {X216} from &quot;./X216.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>import {Tag} from &quot;./Tag.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>/// @notice Thrown in case of overflow when attempting to calculate</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>/// &#39;(a * b) / denominator&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>error MulDivOverflow(uint256 a, uint256 b, uint256 denominator);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>/// @notice Thrown in case of overflow or underflow when attempting to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>/// calculate &#39;a + b&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>error SafeAddFailed(X127 a, X127 b);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>/// @notice Thrown when balance exceeds &#39;type(uint128).max&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>error BalanceOverflow(uint256 balance);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>/// @notice Thrown when safe cast into an int256 overflows.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>error SafeCastOverflow(uint256 value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the given &#39;qSpacing&#39; is less than &#39;minLogSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>error LogSpacingIsTooSmall(X59 qSpacing);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to initialize a curve sequence on blank</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>/// intervals.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>error BlankIntervalsShouldBeAvoided(X59 qLower, X59 qUpper);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>/// @notice Thrown when &#39;curveLength&#39; is zero upon initialization.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>error CurveLengthIsZero();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>/// @notice Each member of the curve sequence should be in-between the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>/// preceding two members. Thrown when a given initial curve sequence violates</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>/// this rule.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>error InvalidCurveArrangement(X59 q0, X59 q1, X59 q2);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>/// @notice Thrown when &#39;curveLength&#39; is out of range.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>error CurveIndexOutOfRange(Index length);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>/// @notice Thrown in case of overflow when attempting to calculate </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>/// &#39;amount := ceiling(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>///     shares *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>///     (getZeroForOne() ? sqrtOffset : sqrtInverseOffset) * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>///      multiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>///     ------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>///       2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>///  )&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>error SafeOutOfRangeAmountOverflow(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>  X127 sqrtOffsetOrSqrtInverseOffset,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>  X208 growthMultiplier,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>  int256 shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>/// @notice Thrown in case of overflow when attempting to calculate </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>/// &#39;amount := ceiling(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>///     (zeroOrOne ? sqrtOffset : sqrtInverseOffset) * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>///      liquidity      integral</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>///     ----------- * -------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>///       2 ** 111     outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>///  )&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>error SafeInRangeAmountOverflow(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>  X127 sqrtOffsetOrSqrtInverseOffset,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>  X216 integral,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>  X111 liquidity,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>  X216 outgoingMax,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>  uint256 outgoingMaxModularInverse</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the second horizontal coordinate of a given kernel is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>/// &#39;0&#39;. In this case, we have a vertical jump at the origin which limits</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>/// liquidity growth.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>error SecondHorizontalCoordinateIsZero();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>/// @notice The horizontal coordinates should be monotonically non-decreasing.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>error NonMonotonicHorizontalCoordinates(X59 q_i, X59 q_j);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>/// @notice The vertical coordinates should be monotonically non-decreasing.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>error NonMonotonicVerticalCoordinates(X15 c_i, X15 c_j);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>/// @notice There should not be repetitive points.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>error RepetitiveKernelPoints(X15 c_i, X59 q_i);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the horizontal coordinates of a non-vertical and </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>/// non-horizontal segment are closer than &#39;2 ** 32&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>error SlopeTooHigh(X59 q_i, X59 q_j);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the horizontal coordinates of a given &#39;kernelCompact&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>/// exceeds &#39;qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>error HorizontalCoordinatesMayNotExceedLogSpacing(X59 q_j, X59 qSpacing);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>/// @notice There should not be three repetitive horizontal coordinates. A </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>/// vertical jump (i.e., discontinuity) is permitted and can be constructed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>/// via two repetitive horizontal coordinates. However, three repetitive</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>/// horizontal coordinates are always redundant and should be avoided.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>error RepetitiveHorizontalCoordinates(X59 q_i);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>/// @notice There should not be three repetitive vertical coordinates. A </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>/// horizontal segment (i.e., constant range) is permitted and can be </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>/// constructed via two repetitive vertical coordinates. However, three</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>/// repetitive vertical coordinates are always redundant and should be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>/// avoided.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>error RepetitiveVerticalCoordinates(X15 c_i);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>/// @notice Thrown when &#39;kernelLength&#39; is out of range.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>error KernelIndexOutOfRange(Index length);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>/// @notice The last vertical coordinate should be equal to &#39;oneX15&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>error LastVerticalCoordinateMismatch(X15 c_j);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>/// @notice Thrown when growth exceeds maximum permitted value of &#39;maxGrowth&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>error GrowthOverflow();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>/// @notice Thrown when accrued growth portion values exceed &#39;2 ** 104 - 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>error AccruedGrowthPortionOverflow(X127 accruedValue);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>/// @notice Thrown when given flags are invalid or not consistent with hook.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>error InvalidFlags(uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the numerical search for outgoing target fails which </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>/// should never heappen.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>error SearchingForOutgoingTargetFailed();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the numerical search for incoming target fails which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>/// should never heappen.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>error SearchingForIncomingTargetFailed();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the numerical search for overshoot fails which should</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>/// never heappen.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>error SearchingForOvershootFailed();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>/// @notice Thrown if attempting to unlock the protocol while already unlocked.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>error AlreadyUnlocked(address currentCaller);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>/// @notice Thrown when any of the following methods are invoked prior to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>/// protocol being unlocked:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswap.clear&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswap.take&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswap.settle&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswap.transferTransientBalanceFrom&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswap.modifyBalance&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswap.swap&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswapDelegatee.modifyPosition&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswapDelegatee.donate&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>error ProtocolIsLocked();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to perform the following operations on a </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>/// pool which is locked:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswap.swap&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswapDelegatee.modifyPosition&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswapDelegatee.donate&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswapDelegatee.modifyKernel&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswapDelegatee.modifyPoolGrowthPortion&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswapDelegatee.updateGrowthPortions&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswapDelegatee.collectPool&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>///   &#39;INofeeswapDelegatee.collectProtocol&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>error PoolIsLocked(uint256 poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the deployment of static parameters fail.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>error DeploymentFailed();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the method &#39;redeployStaticParamsAndKernel&#39; is run</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>/// externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>error CannotRedeployStaticParamsAndKernelExternally();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to sync protocol&#39;s reserve of native token.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>error NativeTokenCannotBeSynced();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the spender allowance for a tag is insufficient.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>error InsufficientPermission(address spender, Tag tag);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the total number of shares accross all liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>/// intervals exceed &#39;2 ** 127 - 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>error SharesGrossOverflow(int256 sharesGross);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to access a pool which does not exist.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>error PoolDoesNotExist(uint256 poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the owner balance for a tag is insufficient.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>error InsufficientBalance(address owner, Tag tag);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>/// @notice Throws when Sentinel response is invalid.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>error InvalidSentinelResponse(bytes4 response);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the given &#39;zeroForOne&#39; is not in agreement with </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>/// &#39;logPriceLimitOffsetted&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>error InvalidDirection(X59 current, X59 limit);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to initialize a pool that already exists.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>error PoolExists(uint256 poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>/// @notice Thrown when &#39;log(pOffset)&#39; is not within the range &#39;[-89, +89]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>error LogOffsetOutOfRange(X59 qOffset);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the given tags are not in the correct order, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>/// &#39;tag0 &lt; tag1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>error TagsOutOfOrder(Tag tag0, Tag tag1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>/// @notice Thrown when a given growth portion is greater than one.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>error InvalidGrowthPortion(X47 poolGrowthPortion);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre>/// @notice Thrown when a given logarithmic price does not belong to the range</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>/// &#39;[log(pOffset) - 16 + 1 / (2 ** 59), log(pOffset) + 16 - 1 / (2 ** 59)]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>error LogPriceOutOfRange(X59 logPrice);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to mint/burn a position with zero shares or</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre>/// when the number of shares does not belong to </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>/// &#39;[- type(int128).max, type(int128).max]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>error InvalidNumberOfShares(int256 shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to initialize a pool with &#39;poolId == 0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre>error PoolIdCannotBeZero();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to access protocol operations via an</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>/// unauthorized address.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>error OnlyByProtocol(address attemptingAddress, address protocolAddress);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to access pool operations via an</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>/// unauthorized address.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>error OnlyByPoolOwner(address attemptingAddress, address poolOwnerAddress);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to mint/burn a position with invalid</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre>/// lower bound which is not equal to interval boundaries modulo &#39;qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre>error LogPriceMinIsNotSpaced(X59 logPriceMin);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to mint/burn a position with invalid</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre>/// upper bound which is not equal to interval boundaries modulo &#39;qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>error LogPriceMaxIsNotSpaced(X59 logPriceMax);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to mint/burn a position with invalid</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>/// lower bound which is not greater than &#39;qSpacing&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>error LogPriceMinIsInBlankArea(X59 logPriceMin);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to mint/burn a position with invalid</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>/// lower bound which is not less than &#39;thirtyTwoX59 - qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre>error LogPriceMaxIsInBlankArea(X59 logPriceMax);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the given logPrices for a position are not in the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre>/// correct order.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre>error LogPricesOutOfOrder(X59 logPriceMin, X59 logPriceMax);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">257</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">258</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting donate to a pool whose donate flag is not </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">259</td>
                                    <td class="row-source"><pre>/// active.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">260</td>
                                    <td class="row-source"><pre>error DonateIsNotAllowed(uint256 poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">261</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">262</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to perform a donate to an empty interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">263</td>
                                    <td class="row-source"><pre>error CannotDonateToEmptyInterval();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">264</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">265</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to change an immutable kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">266</td>
                                    <td class="row-source"><pre>error ImmutableKernel(uint256 poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">267</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">268</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to change an immutable poolGrowthPortion.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">269</td>
                                    <td class="row-source"><pre>error ImmutablePoolGrowthPortion(uint256 poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">270</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">271</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to make a delegate call to the protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">272</td>
                                    <td class="row-source"><pre>error NoDelegateCall(address context);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">273</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">274</td>
                                    <td class="row-source"><pre>/// @notice Thrown when transient balances are not cleared.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">275</td>
                                    <td class="row-source"><pre>error OutstandingAmount();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">276</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">277</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to transfer NofeeAssets to address 0.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">278</td>
                                    <td class="row-source"><pre>error CannotTransferToAddressZero();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">279</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">280</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the amount to be cleared is not equal to the transient</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">281</td>
                                    <td class="row-source"><pre>/// balance of &#39;msg.sender&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">282</td>
                                    <td class="row-source"><pre>error NotEqualToTransientBalance(int256 currentBalance);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">283</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">284</td>
                                    <td class="row-source"><pre>/// @notice Thrown when the size of &#39;hookData&#39; exceeds &#39;type(uint16).max&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">285</td>
                                    <td class="row-source"><pre>error HookDataTooLong(uint256 hookDataByteCount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">286</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">287</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to transfer ownership to address 0.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">288</td>
                                    <td class="row-source"><pre>error AdminCannotBeAddressZero();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">289</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">290</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to settle a tag with nonzero &#39;msg.value&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">291</td>
                                    <td class="row-source"><pre>error MsgValueIsNonZero(uint256 msgValue);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">292</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">293</td>
                                    <td class="row-source"><pre>/// @notice Thrown when attempting to mint a position after burning it in the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">294</td>
                                    <td class="row-source"><pre>/// same transaction.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">295</td>
                                    <td class="row-source"><pre>error CannotMintAfterBurning(uint256 poolId, X59 qMin, X59 qMax);</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_Events_sol" data-file-path="contracts\utilities\Events.sol" data-lines-active="0" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\Events.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 0</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {ISentinel} from &quot;../interfaces/ISentinel.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {INofeeswap} from &quot;../interfaces/INofeeswap.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>  _staticParams_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>  _modifyPositionInput_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>  _endOfModifyPosition_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>  _poolGrowthPortion_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>  _maxPoolGrowthPortion_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>  _growth_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>  getPoolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>  getTag0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>  getTag1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>  getHookData,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>  getCurve,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>  getCurveLength</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>} from &quot;./Memory.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>import {getProtocolOwner} from &quot;./Storage.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>import {KernelCompact} from &quot;./KernelCompact.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>import {Tag} from &quot;./Tag.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>import {Curve} from &quot;./Curve.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>import {Index} from &quot;./Index.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>import {X47} from &quot;./X47.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>function emitTransferEvent(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>  address caller,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>  address from,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>  address to,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  Tag tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>  uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>  emit INofeeswap.Transfer(caller, from, to, tag, amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>function emitOperatorSetEvent(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>  address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>  address operator,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>  bool approved</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>  emit INofeeswap.OperatorSet(owner, operator, approved);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>function emitApprovalEvent(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>  address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>  address spender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>  Tag tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>  uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>  emit INofeeswap.Approval(owner, spender, tag, amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>function emitModifyDoubleBalanceEvent(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>  address caller,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>  address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>  Tag tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>  int256 increment,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>  uint256 balance</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>  emit INofeeswap.ModifyDoubleBalanceEvent(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>    caller,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>    owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>    tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>    increment,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>    balance</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>function emitPoolCollectionEvent(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>  uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>  address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>  uint256 amount0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>  uint256 amount1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>  emit INofeeswap.PoolCollection(poolId, owner, amount0, amount1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>function emitProtocolCollectionEvent(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>  uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>  uint256 amount0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>  uint256 amount1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>  emit INofeeswap.ProtocolCollection(poolId, amount0, amount1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>function emitModifyProtocolEvent(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>  uint256 newProtocol</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>  emit INofeeswap.ModifyProtocol(getProtocolOwner(newProtocol), newProtocol);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>function emitModifySentinelEvent(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>  ISentinel oldSentinel,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>  ISentinel newSentinel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>  emit INofeeswap.ModifySentinel(oldSentinel, newSentinel);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>function emitModifyPoolOwnerEvent(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>  uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>  address oldOwner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>  address newOwner</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>  emit INofeeswap.ModifyPoolOwner(poolId, oldOwner, newOwner);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>function emitInitializeEvent() {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>  uint256 poolId = getPoolId();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>  Tag tag0 = getTag0();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>  Tag tag1 = getTag1();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>  uint256 hookData = getHookData();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>  bytes32 selector = INofeeswap.Initialize.selector;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>    // The byte count of the data to be emitted which does not include the abi</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>    // offset and length slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>    // The subtraction is safe because &#39;hookData&#39; is always ahead of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>    // &#39;_staticParams_&#39; per &#39;Calldata.sol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>    let size := sub(hookData, _staticParams_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>    // This slot should be populated with the abi offset. Hence, we cache its</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>    // current content so that it can be written back. Then we store a &#39;0x20&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>    // abi offset for the data to be emitted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>    // The subtractions are safe because both values are constants.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>    let content0 := mload(sub(_staticParams_, 64))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>    mstore(sub(_staticParams_, 64), 0x20)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>    // This slot should be populated with &#39;size&#39;. Hence, we cache its current</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>    // content so that it can be written back. Then we store a &#39;size&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>    // The subtractions are safe because both values are constants.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>    let content1 := mload(sub(_staticParams_, 32))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>    mstore(sub(_staticParams_, 32), size)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>    // The number of bytes to be emitted should be divisible by &#39;32&#39;. If</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>    // &#39;32 * ceiling(size / 32)&#39; goes beyond &#39;size&#39;, then the extra bytes</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>    // should be equal to zero. Hence, we cache the content of this slot, so</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>    // that it can be restored after being zeroed. We then write zero in this</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>    // slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>    let content2 := mload(hookData)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>    mstore(hookData, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>    // Here, we calculate &#39;32 * ceiling(size / 32)&#39; which is the actual number</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>    // of bytes to be given as input to &#39;log4&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>    let module := mod(size, 0x20)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>    if gt(module, 0) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>      size := add(sub(size, module), 0x20)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>    log4(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>      // During initialization, &#39;staticParams&#39;, &#39;kernel&#39;, &#39;kernelCompact&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>      // &#39;curve&#39;, and &#39;hookData&#39; appear in this order in memory. Hence, the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>      // beginning of event data is &#39;_staticParams_&#39; which points to the start</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>      // of &#39;staticParams&#39; and the end of event data is &#39;hookData&#39; which points</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>      // to the end of &#39;curve&#39;. &#39;64&#39; is subtracted in order to include the abi</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>      // offset and &#39;size&#39; slots.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>      sub(_staticParams_, 64),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>      // As argued above, &#39;hookData - _staticParams_&#39; is the number of bytes to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>      // be emitted. &#39;64&#39; is added in order to include the abi offset and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>      // &#39;size&#39; slots.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>      add(size, 64),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>      selector,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>      poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>      tag0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>      tag1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>    // Now we restore all of the cached content.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>    mstore(sub(_staticParams_, 64), content0)    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>    mstore(sub(_staticParams_, 32), content1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>    mstore(hookData, content2)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>function emitModifyPositionEvent() {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>  uint256 poolId = getPoolId();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>  bytes32 selector = INofeeswap.ModifyPosition.selector;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>    // The number of bytes to be emitted should be divisible by &#39;32&#39;. Since</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>    // &#39;32 * ceiling((_endOfModifyPosition_ - _modifyPositionInput_) / 32)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>    // goes beyond &#39;_endOfModifyPosition_ - _modifyPositionInput_&#39;, the extra</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>    // bytes should be equal to zero. Hence, we cache the content of this slot,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>    // so that it can be restored after being zeroed. We then write zero in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>    // this slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>    let content := mload(_endOfModifyPosition_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>    mstore(_endOfModifyPosition_, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>    log3(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>      // As described in &#39;Memory.sol&#39;, in order to include all of the above</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>      // seven parameters, the beginning of event data should be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>      // &#39;_modifyPositionInput_&#39; and the end of event data should be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>      // &#39;_endOfModifyPosition_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>      _modifyPositionInput_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>      // As argued above, &#39;_endOfModifyPosition_ - _modifyPositionInput_&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>      // the number of bytes to be emitted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>      // &#39;16&#39; is added because we want the number of bytes to be emitted to be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>      // divisible by &#39;32&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>      add(sub(_endOfModifyPosition_, _modifyPositionInput_), 16),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>      selector,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>      poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>      caller()</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>    // Now we restore the cached content.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>    mstore(_endOfModifyPosition_, content)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>function emitDonateEvent() {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>  uint256 poolId = getPoolId();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>  bytes32 selector = INofeeswap.Donate.selector;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>    // We copy zeros to the end of &#39;growth&#39; and emit the total &#39;32&#39; bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>    let content := mload(add(_growth_, 16))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>    mstore(add(_growth_, 16), 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>    // As described in &#39;Memory.sol&#39;, the pointer &#39;_growth_&#39; points to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>    // memory slot whose most significant &#39;128&#39; bits host &#39;growth&#39;. Hence,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre>    // the beginning of event data should be &#39;_growth_&#39; and the size of event</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>    // data should be exactly &#39;32&#39; bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>    log3(_growth_, 32, selector, poolId, caller())</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>    // Now we restore the cached content.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre>    mstore(add(_growth_, 16), content)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>function emitSwapEvent() {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre>  uint256 poolId = getPoolId();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>  Curve curve = getCurve();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre>  Index curveLength = getCurveLength();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>  bytes32 selector = INofeeswap.Swap.selector;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre>    // The end of the curve sequence is calculated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>    let endOfCurve := add(curve, shl(3, curveLength))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>    // We copy &#39;growth&#39; to the end of &#39;curve&#39; and emit the total &#39;32&#39; bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre>    let content := mload(endOfCurve)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>    mcopy(endOfCurve, _growth_, 16)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre>    log3(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre>      // The subtraction is safe because the curve sequence has at least &#39;2&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre>      // members at all times.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>      // Each member of the curve sequence is &#39;64 bits == 8 bytes&#39; which is why</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre>      // we shift &#39;curveLength - 2&#39; by &#39;3&#39; bits (i.e., we are multiplying this</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre>      // value by &#39;8 == 2 ** 3&#39;). We load the memory slot whose most</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>      // significant 128 bits host the last two members of the curve sequence.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre>      //       ------------------------------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre>      //       | 64 bits overshoot | 64 bits target | 128 additional bits |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>      //       +-----------------------------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre>      //       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre>      //    pointer == curve + ((curveLength - 2) &lt;&lt; 3)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre>      // The addition is safe because we do not exceed the length of the curve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre>      // sequence.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">257</td>
                                    <td class="row-source"><pre>      sub(endOfCurve, 16),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">258</td>
                                    <td class="row-source"><pre>      // 32 bytes is 128 bits which covers exactly two members of the curve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">259</td>
                                    <td class="row-source"><pre>      // sequence and the &#39;growth&#39; that we have just copied.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">260</td>
                                    <td class="row-source"><pre>      32,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">261</td>
                                    <td class="row-source"><pre>      selector,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">262</td>
                                    <td class="row-source"><pre>      poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">263</td>
                                    <td class="row-source"><pre>      caller()</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">264</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">265</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">266</td>
                                    <td class="row-source"><pre>    // Now we restore the cached content.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">267</td>
                                    <td class="row-source"><pre>    mstore(endOfCurve, content)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">268</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">269</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">270</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">271</td>
                                    <td class="row-source"><pre>function emitModifyKernelEvent() {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">272</td>
                                    <td class="row-source"><pre>  uint256 poolId = getPoolId();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">273</td>
                                    <td class="row-source"><pre>  bytes32 selector = INofeeswap.ModifyKernel.selector;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">274</td>
                                    <td class="row-source"><pre>  uint256 hookData = getHookData();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">275</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">276</td>
                                    <td class="row-source"><pre>    // The byte count of the data to be emitted which does not include the abi</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">277</td>
                                    <td class="row-source"><pre>    // offset and length slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">278</td>
                                    <td class="row-source"><pre>    // The subtraction is safe because &#39;hookData&#39; is always ahead of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">279</td>
                                    <td class="row-source"><pre>    // &#39;_staticParams_&#39; per &#39;Calldata.sol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">280</td>
                                    <td class="row-source"><pre>    let size := sub(hookData, _staticParams_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">281</td>
                                    <td class="row-source"><pre>    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">282</td>
                                    <td class="row-source"><pre>    // This slot should be populated with the abi offset. Hence, we cache its</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">283</td>
                                    <td class="row-source"><pre>    // current content so that it can be written back. Then we store a &#39;0x20&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">284</td>
                                    <td class="row-source"><pre>    // abi offset for the data to be emitted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">285</td>
                                    <td class="row-source"><pre>    // The subtractions are safe because both values are constants.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">286</td>
                                    <td class="row-source"><pre>    let content0 := mload(sub(_staticParams_, 64))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">287</td>
                                    <td class="row-source"><pre>    mstore(sub(_staticParams_, 64), 0x20)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">288</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">289</td>
                                    <td class="row-source"><pre>    // This slot should be populated with &#39;size&#39;. Hence, we cache its current</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">290</td>
                                    <td class="row-source"><pre>    // content so that it can be written back. Then we store a &#39;size.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">291</td>
                                    <td class="row-source"><pre>    // The subtractions are safe because both values are constants.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">292</td>
                                    <td class="row-source"><pre>    let content1 := mload(sub(_staticParams_, 32))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">293</td>
                                    <td class="row-source"><pre>    mstore(sub(_staticParams_, 32), size)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">294</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">295</td>
                                    <td class="row-source"><pre>    // The number of bytes to be emitted should be divisible by &#39;32&#39;. If</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">296</td>
                                    <td class="row-source"><pre>    // &#39;32 * ceiling(size / 32)&#39; goes beyond &#39;size&#39;, then the extra bytes</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">297</td>
                                    <td class="row-source"><pre>    // should be equal to zero. Hence, we cache the content of this slot, so</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">298</td>
                                    <td class="row-source"><pre>    // that it can be restored after being zeroed. We then write zero in this</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">299</td>
                                    <td class="row-source"><pre>    // slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">300</td>
                                    <td class="row-source"><pre>    let content2 := mload(hookData)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">301</td>
                                    <td class="row-source"><pre>    mstore(hookData, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">302</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">303</td>
                                    <td class="row-source"><pre>    // Here, we calculate &#39;32 * ceiling(size / 32)&#39; which is the actual number</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">304</td>
                                    <td class="row-source"><pre>    // of bytes to be given as input to &#39;log4&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">305</td>
                                    <td class="row-source"><pre>    let module := mod(size, 0x20)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">306</td>
                                    <td class="row-source"><pre>    if gt(module, 0) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">307</td>
                                    <td class="row-source"><pre>      size := add(sub(size, module), 0x20)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">308</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">309</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">310</td>
                                    <td class="row-source"><pre>    log3(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">311</td>
                                    <td class="row-source"><pre>      // During modifyKernel, &#39;staticParams&#39;, &#39;kernel&#39;, &#39;kernelCompact&#39;, and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">312</td>
                                    <td class="row-source"><pre>      // &#39;hookData&#39; appear in this order in memory. Hence, the beginning of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">313</td>
                                    <td class="row-source"><pre>      // event data is &#39;_staticParams_&#39; which points to the start of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">314</td>
                                    <td class="row-source"><pre>      // &#39;staticParams&#39; and the end of event data is &#39;hookData&#39; which points</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">315</td>
                                    <td class="row-source"><pre>      // to the end of &#39;kernelCompact&#39;. &#39;64&#39; is subtracted in order to include</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">316</td>
                                    <td class="row-source"><pre>      // the abi offset and &#39;size&#39; slots.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">317</td>
                                    <td class="row-source"><pre>      sub(_staticParams_, 64),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">318</td>
                                    <td class="row-source"><pre>      // As argued above, &#39;hookData - _staticParams_&#39; is the number of bytes to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">319</td>
                                    <td class="row-source"><pre>      // be emitted. &#39;64&#39; is added in order to include the abi offset and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">320</td>
                                    <td class="row-source"><pre>      // &#39;size&#39; slots.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">321</td>
                                    <td class="row-source"><pre>      add(size, 64),      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">322</td>
                                    <td class="row-source"><pre>      selector,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">323</td>
                                    <td class="row-source"><pre>      poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">324</td>
                                    <td class="row-source"><pre>      caller()</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">325</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">326</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">327</td>
                                    <td class="row-source"><pre>    // Now we restore all of the cached content.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">328</td>
                                    <td class="row-source"><pre>    mstore(sub(_staticParams_, 64), content0)    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">329</td>
                                    <td class="row-source"><pre>    mstore(sub(_staticParams_, 32), content1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">330</td>
                                    <td class="row-source"><pre>    mstore(hookData, content2)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">331</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">332</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">333</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">334</td>
                                    <td class="row-source"><pre>function emitModifyPoolGrowthPortionEvent() {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">335</td>
                                    <td class="row-source"><pre>  uint256 poolId = getPoolId();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">336</td>
                                    <td class="row-source"><pre>  bytes32 selector = INofeeswap.ModifyPoolGrowthPortion.selector;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">337</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">338</td>
                                    <td class="row-source"><pre>    // We copy zeros to the end of &#39;poolGrowthPortion&#39; and emit the total &#39;32&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">339</td>
                                    <td class="row-source"><pre>    // bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">340</td>
                                    <td class="row-source"><pre>    let content := mload(add(_poolGrowthPortion_, 6))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">341</td>
                                    <td class="row-source"><pre>    mstore(add(_poolGrowthPortion_, 6), 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">342</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">343</td>
                                    <td class="row-source"><pre>    // As described in &#39;Memory.sol&#39;, the pointer &#39;_poolGrowthPortion_&#39; points</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">344</td>
                                    <td class="row-source"><pre>    // to the memory slot whose most significant &#39;48&#39; bits host</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">345</td>
                                    <td class="row-source"><pre>    // &#39;poolGrowthPortion&#39;. Hence, the beginning of event data should be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">346</td>
                                    <td class="row-source"><pre>    // &#39;_poolGrowthPortion_&#39; and the size of event data should be exactly &#39;32&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">347</td>
                                    <td class="row-source"><pre>    // bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">348</td>
                                    <td class="row-source"><pre>    log3(_poolGrowthPortion_, 32, selector, poolId, caller())</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">349</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">350</td>
                                    <td class="row-source"><pre>    // Now we restore the cached content.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">351</td>
                                    <td class="row-source"><pre>    mstore(add(_poolGrowthPortion_, 6), content)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">352</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">353</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">354</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">355</td>
                                    <td class="row-source"><pre>function emitUpdateGrowthPortionsEvent() {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">356</td>
                                    <td class="row-source"><pre>  uint256 poolId = getPoolId();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">357</td>
                                    <td class="row-source"><pre>  bytes32 selector = INofeeswap.UpdateGrowthPortions.selector;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">358</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">359</td>
                                    <td class="row-source"><pre>    // We copy zeros to the end of &#39;protocolGrowthPortion&#39; and emit the total</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">360</td>
                                    <td class="row-source"><pre>    // &#39;32&#39; bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">361</td>
                                    <td class="row-source"><pre>    let content := mload(add(_maxPoolGrowthPortion_, 12))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">362</td>
                                    <td class="row-source"><pre>    mstore(add(_maxPoolGrowthPortion_, 12), 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">363</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">364</td>
                                    <td class="row-source"><pre>    // As described in &#39;Memory.sol&#39;, the pointer &#39;_maxPoolGrowthPortion_&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">365</td>
                                    <td class="row-source"><pre>    // points to the memory slot whose most significant &#39;48&#39; bits host</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">366</td>
                                    <td class="row-source"><pre>    // &#39;maxPoolGrowthPortion&#39;. The next &#39;48&#39; bits that appear immediately after</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">367</td>
                                    <td class="row-source"><pre>    // &#39;maxPoolGrowthPortion&#39; host &#39;protocolGrowthPortion&#39;. Hence, the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">368</td>
                                    <td class="row-source"><pre>    // beginning of event data should be &#39;_maxPoolGrowthPortion_&#39; and the size</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">369</td>
                                    <td class="row-source"><pre>    // of event data should be exactly &#39;32&#39; bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">370</td>
                                    <td class="row-source"><pre>    log3(_maxPoolGrowthPortion_, 32, selector, poolId, caller())</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">371</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">372</td>
                                    <td class="row-source"><pre>    // Now we restore the cached content.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">373</td>
                                    <td class="row-source"><pre>    mstore(add(_maxPoolGrowthPortion_, 12), content)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">374</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">375</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_FullMath_sol" data-file-path="contracts\utilities\FullMath.sol" data-lines-active="3" data-lines-covered="1">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(39, 90%, 50%, 0.15); color: hsl(39, 90%, 50%)">
                                33.0%
                            </span>
                            <span class="file-name">contracts\utilities\FullMath.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>1 / 3</strong> (33.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {MulDivOverflow} from &quot;./Errors.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>/// @title Contains 512-bit multiplication and division functions</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>/// Credit to Remco Bloemen under MIT license https://xn--2-umb.com/21/muldiv</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>/// for several functions in this library.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>library FullMathLibrary {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>  ///                           _____   _____   _____</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>  /// @notice 512-bit addition &#39;r1 r0 = a1 a0 + b1 b0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>  /// Overflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>  /// @param a0 Least significant 256 bits of the first number.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>  /// @param a1 Most significant 256 bits of the first number.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>  /// @param b0 Least significant 256 bits of the second number.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>  /// @param b1 Most significant 256 bits of the second number.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>  /// @return r0 Least significant 256 bits of the addition.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>  /// @return r1 Most significant 256 bits of the addition.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>  function add512(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>    uint256 a0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>    uint256 a1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>    uint256 b0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>    uint256 b1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>    uint256 r0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>    uint256 r1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>    //      s0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>    //      a1 a0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>    // +    b1 b0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>    // -----------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>    //      r1 r0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>    // where &#39;s0 := lt(r0, a0)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>      r0 := add(a0, b0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>      r1 := add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>        add(a1, b1),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>        // &#39;r0 &lt; a0&#39; indicates that the addition &#39;a0 + b0&#39; has overflowed. In</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>        // this case &#39;1&#39; needs to be added to the most significant 256 bits of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>        // the output.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>        lt(r0, a0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>  ///                              _____   _____   _____</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>  /// @notice 512-bit subtraction &#39;r1 r0 = a1 a0 - b1 b0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>  /// Underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>  /// @param a0 Least significant 256 bits of the minuend.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>  /// @param a1 Most significant 256 bits of the minuend.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>  /// @param b0 Least significant 256 bits of the subtrahend.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>  /// @param b1 Most significant 256 bits of the subtrahend.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>  /// @return r0 Least significant 256 bits of the subtraction.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>  /// @return r1 Most significant 256 bits of the subtraction.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>  function sub512(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>    uint256 a0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>    uint256 a1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>    uint256 b0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>    uint256 b1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>    uint256 r0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>    uint256 r1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>    //      a1 a0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>    // -    b1 b0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>    // -----------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>    //      s1 r0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>    // -    s0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>    // -----------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>    //      r1 r0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>    // where &#39;s0 := lt(a0, b0)&#39; and &#39;s1 := (a1 - b1) % (2 ** 256)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>      r0 := sub(a0, b0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>      r1 := sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>        sub(a1, b1),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>        // &#39;a0 &lt; b0&#39; indicates that the subtraction &#39;a0 - b0&#39; has underflowed.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>        // In this case &#39;1&#39; needs to be subtracted from the most significant</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>        // 256 bits of the output.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>        lt(a0, b0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>  ///                           ___________</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>  /// @notice 512-bit multiply &#39;prod1 prod0 = a * b&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>  /// @param a The multiplicand.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>  /// @param b The multiplier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>  /// @return prod0 Least significant 256 bits of the product.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>  /// @return prod1 Most significant 256 bits of the product.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>  function mul512(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>    uint256 a,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>    uint256 b</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>    uint256 prod0, </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>    uint256 prod1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>      // &#39;mm := a * b - (2 ** 256 - 1) * q&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>      let mm := mulmod(a, b, not(0))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>      // &#39;prod0 := a * b - (2 ** 256) * p&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>      prod0 := mul(a, b)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>      prod1 := sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>        // &#39;mm - prod0 == q&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>        sub(mm, prod0),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>        //               a * b                 a * b</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>        // p == floor(----------) &lt;= floor(--------------) == q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>        //             2 ** 256             2 ** 256 - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>        // On the other hand, since</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>        //      a * b          a * b                  a * b</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>        // -------------- - ---------- == ----------------------------- &lt; 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>        //  2 ** 256 - 1     2 ** 256      (2 ** 256) * (2 ** 256 - 1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>        // we have &#39;q - p &lt;= 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>        // Hence, either &#39;p == q&#39; or &#39;p == q - 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>        // If &#39;p == q&#39;, then &#39;mm - prod0 == q &gt;= 0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>        // If &#39;p == q - 1&#39;, then &#39;prod0 - mm == (2 ** 256) - q &gt; 0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>        // Since &#39;p == q&#39; and &#39;p == q - 1&#39; are mutually exclusive, we can argue</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>        // that:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>        // &#39;p == q&#39; if and only if &#39;mm &gt;= prod0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>        // &#39;p == q - 1&#39; if and only if &#39;mm &lt; prod0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>        // Hence, in the latter case, we should subtract by &#39;1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>        lt(mm, prod0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>  /// @notice Calculates (a * b) / denominator when </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>  /// &#39;a * b &lt; denominator * (denominator - 1)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>  /// @param a The multiplicand.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>  /// @param b The multiplier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>  /// @param denominator The divisor.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>  /// @return result &#39;(a * b) / denominator&#39;.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>  function cheapMulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>    uint256 a,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>    uint256 b,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>    uint256 denominator</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>    uint256 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>      result := sub(denominator, 1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>      // &#39;s := a * b - q * (denominator - 1)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>      // &#39;r := a * b - p * denominator&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>      // &#39;s - r == p * denominator == p&#39; [mod (denominator - 1)]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>      result := addmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>        mulmod(a, b, result),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>        // This subtraction is safe because </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>        // &#39;(a * b) % denominator &lt;= denominator - 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>        sub(result, mulmod(a, b, denominator)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>        result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>      // Notice that &#39;result &lt;= denominator - 1&#39; and because of the input</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>      // requirement, we have &#39;p = (a * b) / denominator &lt;= denominator - 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>      // Hence, &#39;result == s - r == p&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>  /// @notice Calculates the modular inverse of an odd number modulo &#39;2 ** 256&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>  /// Input should be odd.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>  /// @param value The number whose modular inverse to be calculated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>  /// @return inverse A 256-bit inverse satisfying</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>  /// &#39;value * inverse == 1&#39; [mod 2 ** 256].</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>  function modularInverse(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>    uint256 value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>    uint256 inverse</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>    unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>      // Compute the inverse by starting with a seed that is correct for four</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>      // bits. That is, &#39;value * inverse = 1&#39; [mod 2 ** 4].</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>      inverse = 3 * value ^ 2;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>      // Now use Newton-Raphson iterations to improve the precision. Thanks to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>      // Hensel&#39;s lifting lemma, this also works in modular arithmetic,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>      // doubling the correct bits in each step.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>      inverse *= 2 - value * inverse;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>      inverse *= 2 - value * inverse;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>      inverse *= 2 - value * inverse;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>      inverse *= 2 - value * inverse;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>      inverse *= 2 - value * inverse;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>      inverse *= 2 - value * inverse;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>  ///                          ________</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>  /// @notice 768-bit multiply q2 q1 q0 = a * b * c</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>  /// @param a The multiplicand.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>  /// @param b The first multiplier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>  /// @param c The second multiplier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>  /// @return q0 Least significant 256 bits of the product.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>  /// @return q1 Middle 256 bits of the product.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>  /// @return q2 Most significant 256 bits of the product.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>  function mul768(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>    uint256 a,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>    uint256 b,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre>    uint256 c</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>    uint256 q0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>    uint256 q1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>    uint256 q2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>    //          a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>    // x        b</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>    // -----------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>    //      q1 q0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>    // x        c</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre>    // -----------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>    //   ss </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>    //      mm q0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre>    // + q2 q1  0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>    // -----------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre>    //   q2 q1 q0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>    uint256 mm;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre>    (q0, q1) = mul512(a, b);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>    (q1, q2) = mul512(q1, c);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre>    (q0, mm) = mul512(q0, c);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre>      q1 := add(q1, mm)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>      // &#39;q1 &lt; mm&#39; indicates that the above addition has overflowed (i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>      // &#39;ss == 1&#39;) and hence, &#39;1&#39; needs to be added to the most significant</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre>      // 256 bits of the product.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>      q2 := add(q2, lt(q1, mm))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>  /// @notice Calculates </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre>  ///         a * b * c</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre>  /// &#39;min(----------------, 2 ** 216 - 1)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre>  ///       d * (2 ** 143)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>  /// with full precision when &#39;a * b * c != 0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre>  /// @param a The multiplicand.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre>  /// @param b The first multiplier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>  /// @param c The second multiplier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>  /// @param d The denominator.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre>  /// @param roundUp Whether to round up the result.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre>  /// @return result The output value &#39;(a * b * c) / (d * (2 ** 143))&#39; which is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>  /// capped by &#39;2 ** 216 - 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre>  function mulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre>    uint256 a,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre>    uint256 b,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre>    uint256 c,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre>    uint256 d,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">257</td>
                                    <td class="row-source"><pre>    bool roundUp</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">258</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">259</td>
                                    <td class="row-source"><pre>    uint256 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">260</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">261</td>
                                    <td class="row-source"><pre>    unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">262</td>
                                    <td class="row-source"><pre>      // ________</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">263</td>
                                    <td class="row-source"><pre>      // q2 q1 q0 = a * b * c</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">264</td>
                                    <td class="row-source"><pre>      (uint256 q0, uint256 q1, uint256 q2) = mul768(a, b, c);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">265</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">266</td>
                                    <td class="row-source"><pre>      // If &#39;q2 &gt;= (1 &lt;&lt; 103)&#39;, then the output is greater than or equal to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">267</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">268</td>
                                    <td class="row-source"><pre>      //  (2 ** 103) * (2 ** 256) * (2 ** 256)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">269</td>
                                    <td class="row-source"><pre>      // -------------------------------------- == 2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">270</td>
                                    <td class="row-source"><pre>      //        (2 ** 256) * (2 ** 143)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">271</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">272</td>
                                    <td class="row-source"><pre>      // In this case, &#39;2 ** 216 - 1&#39; should be returned.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">273</td>
                                    <td class="row-source"><pre>      if (q2 &gt;= (1 &lt;&lt; 103)) return ((1 &lt;&lt; 216) - 1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">274</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">275</td>
                                    <td class="row-source"><pre>      // Divide the numerator by &#39;2 ** 143&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">276</td>
                                    <td class="row-source"><pre>      (q2, q1) = (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">277</td>
                                    <td class="row-source"><pre>        (q2 &lt;&lt; 113) | (q1 &gt;&gt; 143),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">278</td>
                                    <td class="row-source"><pre>        (q1 &lt;&lt; 113) | (q0 &gt;&gt; 143)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">279</td>
                                    <td class="row-source"><pre>      );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">280</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">281</td>
                                    <td class="row-source"><pre>      // Calculating the remainder of the numerator modulo &#39;d&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">282</td>
                                    <td class="row-source"><pre>      uint256 r;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">283</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">284</td>
                                    <td class="row-source"><pre>        r := addmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">285</td>
                                    <td class="row-source"><pre>          addmod(q1, q2, d), // (q1 + q2) % d</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">286</td>
                                    <td class="row-source"><pre>          mulmod(q2, not(0), d), // (q2 * (2 ** 256 - 1)) % d</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">287</td>
                                    <td class="row-source"><pre>          d</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">288</td>
                                    <td class="row-source"><pre>        ) // (q1 + q2 * (2 ** 256)) % d</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">289</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">290</td>
                                    <td class="row-source"><pre>      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">291</td>
                                    <td class="row-source"><pre>      //                         _____</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">292</td>
                                    <td class="row-source"><pre>      // &#39;r&#39; is subtracted from &#39;q2 q1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">293</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">294</td>
                                    <td class="row-source"><pre>        // &#39;q1 &lt; r&#39; indicates that the subtraction &#39;q1 - r&#39; underflows.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">295</td>
                                    <td class="row-source"><pre>        // In this case &#39;1&#39; needs to be subtracted from q2.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">296</td>
                                    <td class="row-source"><pre>        q2 := sub(q2, lt(q1, r))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">297</td>
                                    <td class="row-source"><pre>        q1 := sub(q1, r)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">298</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">299</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">300</td>
                                    <td class="row-source"><pre>      // Determines whether to return &#39;2 ** 216 - 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">301</td>
                                    <td class="row-source"><pre>      //                _____</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">302</td>
                                    <td class="row-source"><pre>      // Check whether &#39;q2 q1 &gt;= (2 ** 256) * d&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">303</td>
                                    <td class="row-source"><pre>      if (q2 &gt;= d) return ((1 &lt;&lt; 216) - 1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">304</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">305</td>
                                    <td class="row-source"><pre>      // &#39;d&#39; is factored into an odd part and a power of two. </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">306</td>
                                    <td class="row-source"><pre>      // Then, the numerator is divided by the power of two.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">307</td>
                                    <td class="row-source"><pre>      {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">308</td>
                                    <td class="row-source"><pre>        // This is the largest power of two that &#39;d&#39; is divisible by.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">309</td>
                                    <td class="row-source"><pre>        uint256 twos = (0 - d) &amp; d;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">310</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">311</td>
                                    <td class="row-source"><pre>          // Dividing &#39;d&#39; by &#39;twos&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">312</td>
                                    <td class="row-source"><pre>          d := div(d, twos)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">313</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">314</td>
                                    <td class="row-source"><pre>          //           _____</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">315</td>
                                    <td class="row-source"><pre>          // Dividing &#39;q2 q1&#39; by &#39;twos&#39; and storing the least significant &#39;256&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">316</td>
                                    <td class="row-source"><pre>          // bits in &#39;q1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">317</td>
                                    <td class="row-source"><pre>          q1 := or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">318</td>
                                    <td class="row-source"><pre>            div(q1, twos), // &#39;q1 / (2 ** k)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">319</td>
                                    <td class="row-source"><pre>            mul(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">320</td>
                                    <td class="row-source"><pre>              q2,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">321</td>
                                    <td class="row-source"><pre>              add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">322</td>
                                    <td class="row-source"><pre>                div(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">323</td>
                                    <td class="row-source"><pre>                  sub(0, twos), // &#39;2 ** 256 - 2 ** k&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">324</td>
                                    <td class="row-source"><pre>                  twos // &#39;2 ** k&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">325</td>
                                    <td class="row-source"><pre>                ), // &#39;2 ** (256 - k) - 1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">326</td>
                                    <td class="row-source"><pre>                1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">327</td>
                                    <td class="row-source"><pre>              ) // &#39;(2 ** (256 - k)) % (2 ** 256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">328</td>
                                    <td class="row-source"><pre>            ) // &#39;(q2 * (2 ** (256 - k))) % (2 ** 256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">329</td>
                                    <td class="row-source"><pre>          ) // &#39;(q2 * (2 ** (256 - k)) + q1 / (2 ** k)) % (2 ** 256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">330</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">331</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">332</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">333</td>
                                    <td class="row-source"><pre>      // The result can now be calculated precisely using modular inverse.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">334</td>
                                    <td class="row-source"><pre>      // Let &#39;di := modularInverse(d)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">335</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">336</td>
                                    <td class="row-source"><pre>      //  _____</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">337</td>
                                    <td class="row-source"><pre>      // &#39;q2 q1 == d * result&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">338</td>
                                    <td class="row-source"><pre>      // &#39;(2 ** 256) * q2 + q1 == d * result&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">339</td>
                                    <td class="row-source"><pre>      // &#39;di * (2 ** 256) * q2 + di * q1 == di * d * result&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">340</td>
                                    <td class="row-source"><pre>      // &#39;di * (2 ** 256) * q2 + di * q1 == ((2 ** 256) * k + 1) * result&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">341</td>
                                    <td class="row-source"><pre>      // &#39;di * q1 == result&#39; [mod 2 ** 256]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">342</td>
                                    <td class="row-source"><pre>      result = modularInverse(d) * q1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">343</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">344</td>
                                    <td class="row-source"><pre>      // If either of the remainders are positive, then the result should be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">345</td>
                                    <td class="row-source"><pre>      // rounded up.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">346</td>
                                    <td class="row-source"><pre>      if (roundUp) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">347</td>
                                    <td class="row-source"><pre>        if ((q0 &amp; 0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF) &gt; 0 || r &gt; 0) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">348</td>
                                    <td class="row-source"><pre>          ++result;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">349</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">350</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">351</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">352</td>
                                    <td class="row-source"><pre>      // Determines whether to return &#39;2 ** 216 - 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">353</td>
                                    <td class="row-source"><pre>      if (result &gt;= (1 &lt;&lt; 216)) return ((1 &lt;&lt; 216) - 1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">354</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">355</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">356</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">357</td>
                                    <td class="row-source"><pre>  /// @notice Calculates</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">358</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">359</td>
                                    <td class="row-source"><pre>  ///      a * b * c</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">360</td>
                                    <td class="row-source"><pre>  /// &#39;----------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">361</td>
                                    <td class="row-source"><pre>  ///   d * (2 ** 111)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">362</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">363</td>
                                    <td class="row-source"><pre>  /// with full precision. Overflows if the result exceeds &#39;type(int256).max&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">364</td>
                                    <td class="row-source"><pre>  /// &#39;e&#39; must be the modular inverse of &#39;d / (2 ** k)&#39; where &#39;k&#39; is the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">365</td>
                                    <td class="row-source"><pre>  /// largest power of two within &#39;d&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">366</td>
                                    <td class="row-source"><pre>  /// We should have &#39;a * b * c != 0&#39; and &#39;d != 0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">367</td>
                                    <td class="row-source"><pre>  /// @param a The multiplicand.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">368</td>
                                    <td class="row-source"><pre>  /// @param b The first multiplier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">369</td>
                                    <td class="row-source"><pre>  /// @param c The second multiplier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">370</td>
                                    <td class="row-source"><pre>  /// @param d The denominator.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">371</td>
                                    <td class="row-source"><pre>  /// @param e Modular inverse of the odd part of the denominator.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">372</td>
                                    <td class="row-source"><pre>  /// @param roundUp Whether to round up the result.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">373</td>
                                    <td class="row-source"><pre>  /// @return result The output value &#39;(a * b * c) / (d * (2 ** 111))&#39; if there</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">374</td>
                                    <td class="row-source"><pre>  /// is no overflow.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">375</td>
                                    <td class="row-source"><pre>  /// @return overflow Whether the result overflows.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">376</td>
                                    <td class="row-source"><pre>  function mulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">377</td>
                                    <td class="row-source"><pre>    uint256 a,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">378</td>
                                    <td class="row-source"><pre>    uint256 b,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">379</td>
                                    <td class="row-source"><pre>    uint256 c,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">380</td>
                                    <td class="row-source"><pre>    uint256 d,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">381</td>
                                    <td class="row-source"><pre>    uint256 e,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">382</td>
                                    <td class="row-source"><pre>    bool roundUp</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">383</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">384</td>
                                    <td class="row-source"><pre>    uint256 result,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">385</td>
                                    <td class="row-source"><pre>    bool overflow</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">386</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">387</td>
                                    <td class="row-source"><pre>    unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">388</td>
                                    <td class="row-source"><pre>      // ________</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">389</td>
                                    <td class="row-source"><pre>      // q2 q1 q0 = a * b * c</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">390</td>
                                    <td class="row-source"><pre>      (uint256 q0, uint256 q1, uint256 q2) = mul768(a, b, c);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">391</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">392</td>
                                    <td class="row-source"><pre>      // If &#39;q2 &gt;= (1 &lt;&lt; 111)&#39;, then the output is greater than or equal to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">393</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">394</td>
                                    <td class="row-source"><pre>      //  (2 ** 111) * (2 ** 256) * (2 ** 256)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">395</td>
                                    <td class="row-source"><pre>      // -------------------------------------- == 2 ** 256</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">396</td>
                                    <td class="row-source"><pre>      //        (2 ** 256) * (2 ** 111)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">397</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">398</td>
                                    <td class="row-source"><pre>      // In this case, we return overflow.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">399</td>
                                    <td class="row-source"><pre>      if (q2 &gt;= (1 &lt;&lt; 111)) return (0, true);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">400</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">401</td>
                                    <td class="row-source"><pre>      // Divide the numerator by &#39;2 ** 111&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">402</td>
                                    <td class="row-source"><pre>      (q2, q1) = (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">403</td>
                                    <td class="row-source"><pre>        (q2 &lt;&lt; 145) | (q1 &gt;&gt; 111),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">404</td>
                                    <td class="row-source"><pre>        (q1 &lt;&lt; 145) | (q0 &gt;&gt; 111)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">405</td>
                                    <td class="row-source"><pre>      );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">406</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">407</td>
                                    <td class="row-source"><pre>      // Calculating the remainder of the numerator modulo &#39;d&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">408</td>
                                    <td class="row-source"><pre>      uint256 r;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">409</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">410</td>
                                    <td class="row-source"><pre>        r := addmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">411</td>
                                    <td class="row-source"><pre>          addmod(q1, q2, d), // (q1 + q2) % d</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">412</td>
                                    <td class="row-source"><pre>          mulmod(q2, not(0), d), // (q2 * (2 ** 256 - 1)) % d</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">413</td>
                                    <td class="row-source"><pre>          d</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">414</td>
                                    <td class="row-source"><pre>        ) // (q1 + q2 * (2 ** 256)) % d</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">415</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">416</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">417</td>
                                    <td class="row-source"><pre>      //                         _____</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">418</td>
                                    <td class="row-source"><pre>      // &#39;r&#39; is subtracted from &#39;q2 q1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">419</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">420</td>
                                    <td class="row-source"><pre>        // &#39;q1 &lt; r&#39; indicates that the subtraction &#39;q1 - r&#39; underflowes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">421</td>
                                    <td class="row-source"><pre>        // In this case &#39;1&#39; needs to be subtracted from q2.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">422</td>
                                    <td class="row-source"><pre>        q2 := sub(q2, lt(q1, r))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">423</td>
                                    <td class="row-source"><pre>        q1 := sub(q1, r)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">424</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">425</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">426</td>
                                    <td class="row-source"><pre>      // Determines whether to return overflow.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">427</td>
                                    <td class="row-source"><pre>      // The following equality is satisfied if and only if</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">428</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">429</td>
                                    <td class="row-source"><pre>      //      a * b * c</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">430</td>
                                    <td class="row-source"><pre>      // &#39;---------------- &gt;= (2 ** 256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">431</td>
                                    <td class="row-source"><pre>      //   d * (2 ** 111)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">432</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">433</td>
                                    <td class="row-source"><pre>      if (q2 &gt;= d) return (0, true);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">434</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">435</td>
                                    <td class="row-source"><pre>      // &#39;d&#39; is factored into an odd part and a power of two and the numerator</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">436</td>
                                    <td class="row-source"><pre>      // is divided by the power of two.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">437</td>
                                    <td class="row-source"><pre>      d = (0 - d) &amp; d;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">438</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">439</td>
                                    <td class="row-source"><pre>        q1 := or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">440</td>
                                    <td class="row-source"><pre>          div(q1, d), // q1 / (2 ** k)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">441</td>
                                    <td class="row-source"><pre>          mul(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">442</td>
                                    <td class="row-source"><pre>            q2,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">443</td>
                                    <td class="row-source"><pre>            add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">444</td>
                                    <td class="row-source"><pre>              div(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">445</td>
                                    <td class="row-source"><pre>                sub(0, d), // &#39;2 ** 256 - 2 ** k&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">446</td>
                                    <td class="row-source"><pre>                d // &#39;2 ** k&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">447</td>
                                    <td class="row-source"><pre>              ), // &#39;2 ** (256 - k) - 1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">448</td>
                                    <td class="row-source"><pre>              1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">449</td>
                                    <td class="row-source"><pre>            ) // &#39;(2 ** (256 - k)) % (2 ** 256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">450</td>
                                    <td class="row-source"><pre>          ) // &#39;(q2 * (2 ** (256 - k))) % (2 ** 256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">451</td>
                                    <td class="row-source"><pre>        ) // &#39;(q2 * (2 ** (256 - k)) + q1 / (2 ** k)) % (2 ** 256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">452</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">453</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">454</td>
                                    <td class="row-source"><pre>      // The result can now be calculated precisely using &#39;e&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">455</td>
                                    <td class="row-source"><pre>      //  _____</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">456</td>
                                    <td class="row-source"><pre>      // &#39;q2 q1 == d * result&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">457</td>
                                    <td class="row-source"><pre>      // &#39;(2 ** 256) * q2 + q1 == d * result&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">458</td>
                                    <td class="row-source"><pre>      // &#39;e * (2 ** 256) * q2 + e * q1 == e * d * result&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">459</td>
                                    <td class="row-source"><pre>      // &#39;e * (2 ** 256) * q2 + e * q1 == ((2 ** 256) * k + 1) * result&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">460</td>
                                    <td class="row-source"><pre>      // &#39;e * q1 == result&#39; [mod 2 ** 256]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">461</td>
                                    <td class="row-source"><pre>      result = e * q1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">462</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">463</td>
                                    <td class="row-source"><pre>      // If either of the remainders are positive, then the result should be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">464</td>
                                    <td class="row-source"><pre>      // rounded up.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">465</td>
                                    <td class="row-source"><pre>      if (roundUp) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">466</td>
                                    <td class="row-source"><pre>        if ((q0 &amp; 0x7FFFFFFFFFFFFFFFFFFFFFFFFFFF) &gt; 0 || r &gt; 0) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">467</td>
                                    <td class="row-source"><pre>          ++result;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">468</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">469</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">470</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">471</td>
                                    <td class="row-source"><pre>      // Determines whether to overflow.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">472</td>
                                    <td class="row-source"><pre>      if (result &gt;= (1 &lt;&lt; 255)) return (0, true);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">473</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">474</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">475</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">476</td>
                                    <td class="row-source"><pre>  /// @notice Calculates floor((a * b) / denominator) with full precision.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">477</td>
                                    <td class="row-source"><pre>  /// Overflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">478</td>
                                    <td class="row-source"><pre>  /// @param a The multiplicand</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">479</td>
                                    <td class="row-source"><pre>  /// @param b The multiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">480</td>
                                    <td class="row-source"><pre>  /// @param denominator The divisor</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">481</td>
                                    <td class="row-source"><pre>  /// @return result The 256-bit result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">482</td>
                                    <td class="row-source"><pre>  function mulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">483</td>
                                    <td class="row-source"><pre>    uint256 a,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">484</td>
                                    <td class="row-source"><pre>    uint256 b,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">485</td>
                                    <td class="row-source"><pre>    uint256 denominator</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">486</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">487</td>
                                    <td class="row-source"><pre>    uint256 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">488</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">489</td>
                                    <td class="row-source"><pre>    unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">490</td>
                                    <td class="row-source"><pre>      //                   ___________</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">491</td>
                                    <td class="row-source"><pre>      // 512-bit multiply &#39;prod1 prod0 = a * b&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">492</td>
                                    <td class="row-source"><pre>      // Compute the product mod 2**256 and mod 2 ** 256 - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">493</td>
                                    <td class="row-source"><pre>      // then use the Chinese Remainder Theorem to reconstruct</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">494</td>
                                    <td class="row-source"><pre>      // the 512 bit result. The result is stored in two 256</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">495</td>
                                    <td class="row-source"><pre>      // variables such that product = prod1 * (2 ** 256) + prod0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">496</td>
                                    <td class="row-source"><pre>      (uint256 prod0, uint256 prod1) = mul512(a, b);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">497</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">498</td>
                                    <td class="row-source"><pre>      // Short circuit 256 by 256 division</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">499</td>
                                    <td class="row-source"><pre>      // This saves gas when a * b is small, at the cost of making the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">500</td>
                                    <td class="row-source"><pre>      // large case a bit more expensive. Depending on your use case you</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">501</td>
                                    <td class="row-source"><pre>      // may want to remove this short circuit and always go through the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">502</td>
                                    <td class="row-source"><pre>      // 512 bit path.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">503</td>
                                    <td class="row-source"><pre>      if (prod1 == 0) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">504</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">505</td>
                                    <td class="row-source"><pre>          result := div(prod0, denominator)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">506</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">507</td>
                                    <td class="row-source"><pre>        return result;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">508</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">509</td>
                                    <td class="row-source"><pre>      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">510</td>
                                    <td class="row-source"><pre>      ///////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">511</td>
                                    <td class="row-source"><pre>      // 512 by 256 division.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">512</td>
                                    <td class="row-source"><pre>      ///////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">513</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">514</td>
                                    <td class="row-source"><pre>      //                                                        ___________</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">515</td>
                                    <td class="row-source"><pre>      // Make division exact by subtracting the remainder from &#39;prod1 prod0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">516</td>
                                    <td class="row-source"><pre>      // Compute remainder using mulmod</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">517</td>
                                    <td class="row-source"><pre>      // Note mulmod(_, _, 0) == 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">518</td>
                                    <td class="row-source"><pre>      uint256 remainder;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">519</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">520</td>
                                    <td class="row-source"><pre>        remainder := mulmod(a, b, denominator)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">521</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">522</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">523</td>
                                    <td class="row-source"><pre>      // Subtract 256 bit number from 512 bit number</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">524</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">525</td>
                                    <td class="row-source"><pre>        prod1 := sub(prod1, gt(remainder, prod0))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">526</td>
                                    <td class="row-source"><pre>        prod0 := sub(prod0, remainder)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">527</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">528</td>
                                    <td class="row-source"><pre>      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">529</td>
                                    <td class="row-source"><pre>      // Factor powers of two out of denominator</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">530</td>
                                    <td class="row-source"><pre>      // Compute largest power of two-divisor of denominator.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">531</td>
                                    <td class="row-source"><pre>      // Always &gt;= 1 unless the denominator is zero, then twos is zero.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">532</td>
                                    <td class="row-source"><pre>      uint256 twos = (0 - denominator) &amp; denominator;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">533</td>
                                    <td class="row-source"><pre>      // Divide denominator by power of two</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">534</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">535</td>
                                    <td class="row-source"><pre>        denominator := div(denominator, twos)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">536</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">537</td>
                                    <td class="row-source"><pre>      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">538</td>
                                    <td class="row-source"><pre>      //         ___________</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">539</td>
                                    <td class="row-source"><pre>      // Divide &#39;prod1 prod0&#39; by the factors of two</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">540</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">541</td>
                                    <td class="row-source"><pre>        prod0 := div(prod0, twos)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">542</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">543</td>
                                    <td class="row-source"><pre>      // Shift in bits from prod1 into prod0. For this we need</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">544</td>
                                    <td class="row-source"><pre>      // to flip `twos` such that it is 2**256 / twos.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">545</td>
                                    <td class="row-source"><pre>      // If twos is zero, then it becomes one</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">546</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">547</td>
                                    <td class="row-source"><pre>        twos := add(div(sub(0, twos), twos), 1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">548</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">549</td>
                                    <td class="row-source"><pre>      prod0 |= prod1 * twos;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">550</td>
                                    <td class="row-source"><pre>      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">551</td>
                                    <td class="row-source"><pre>      // Invert denominator mod 2**256</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">552</td>
                                    <td class="row-source"><pre>      // Now that denominator is an odd number, it has an inverse</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">553</td>
                                    <td class="row-source"><pre>      // modulo 2**256 such that denominator * inv = 1 mod 2**256.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">554</td>
                                    <td class="row-source"><pre>      // Compute the inverse by starting with a seed that is correct</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">555</td>
                                    <td class="row-source"><pre>      // correct for four bits. That is, denominator * inv = 1 mod 2**4</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">556</td>
                                    <td class="row-source"><pre>      // If denominator is zero the inverse starts with 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">557</td>
                                    <td class="row-source"><pre>      // Now use Newton-Raphson iteration to improve the precision.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">558</td>
                                    <td class="row-source"><pre>      // Thanks to Hensel&#39;s lifting lemma, this also works in modular</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">559</td>
                                    <td class="row-source"><pre>      // arithmetic, doubling the correct bits in each step.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">560</td>
                                    <td class="row-source"><pre>      uint256 inv = modularInverse(denominator);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">561</td>
                                    <td class="row-source"><pre>      // If denominator is zero, inv is now 128</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">562</td>
                                    <td class="row-source"><pre>      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">563</td>
                                    <td class="row-source"><pre>      // Because the division is now exact we can divide by multiplying</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">564</td>
                                    <td class="row-source"><pre>      // with the modular inverse of the denominator. This will give us the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">565</td>
                                    <td class="row-source"><pre>      // correct result modulo 2**256. Since the preconditions guarantee</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">566</td>
                                    <td class="row-source"><pre>      // that the outcome is less than 2**256, this is the final result.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">567</td>
                                    <td class="row-source"><pre>      // We don&#39;t need to compute the high bits of the result and prod1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">568</td>
                                    <td class="row-source"><pre>      // is no longer required.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">569</td>
                                    <td class="row-source"><pre>      result = prod0 * inv;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">570</td>
                                    <td class="row-source"><pre>      return result;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">571</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">572</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">573</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">574</td>
                                    <td class="row-source"><pre>  /// @notice Calculates ceiling((a * b) / denominator) with full precision.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">575</td>
                                    <td class="row-source"><pre>  /// Overflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">576</td>
                                    <td class="row-source"><pre>  /// @param a The multiplicand</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">577</td>
                                    <td class="row-source"><pre>  /// @param b The multiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">578</td>
                                    <td class="row-source"><pre>  /// @param denominator The divisor</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">579</td>
                                    <td class="row-source"><pre>  /// @return result The 256-bit result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">580</td>
                                    <td class="row-source"><pre>  function mulDivRoundUp(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">581</td>
                                    <td class="row-source"><pre>    uint256 a,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">582</td>
                                    <td class="row-source"><pre>    uint256 b,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">583</td>
                                    <td class="row-source"><pre>    uint256 denominator</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">584</td>
                                    <td class="row-source"><pre>  ) internal pure returns (uint256 result) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">585</td>
                                    <td class="row-source"><pre>    result = mulDiv(a, b, denominator);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">586</td>
                                    <td class="row-source"><pre>    // The result is incremented if &#39;a * b&#39; is not divisible by &#39;denominator&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">587</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">588</td>
                                    <td class="row-source"><pre>      result := add(result, gt(mulmod(a, b, denominator), 0))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">589</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">590</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">591</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">592</td>
                                    <td class="row-source"><pre>  /// @notice Calculates floor((a * b) / denominator) with full precision.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">593</td>
                                    <td class="row-source"><pre>  /// Throws in case of overflow.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">594</td>
                                    <td class="row-source"><pre>  /// @param a The multiplicand</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">595</td>
                                    <td class="row-source"><pre>  /// @param b The multiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">596</td>
                                    <td class="row-source"><pre>  /// @param denominator The divisor</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">597</td>
                                    <td class="row-source"><pre>  /// @return result The 256-bit result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">598</td>
                                    <td class="row-source"><pre>  function safeMulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">599</td>
                                    <td class="row-source"><pre>    uint256 a,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">600</td>
                                    <td class="row-source"><pre>    uint256 b,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">601</td>
                                    <td class="row-source"><pre>    uint256 denominator</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">602</td>
                                    <td class="row-source"><pre>  ) internal pure returns (uint256 result) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">603</td>
                                    <td class="row-source"><pre>    (, uint256 prod1) = mul512(a, b);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">604</td>
                                    <td class="row-source"><pre>    require(prod1 &lt; denominator, MulDivOverflow(a, b, denominator));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">605</td>
                                    <td class="row-source"><pre>    result = mulDiv(a, b, denominator);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">606</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">607</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">608</td>
                                    <td class="row-source"><pre>  /// @notice Calculates ceiling((a * b) / denominator) with full precision.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">609</td>
                                    <td class="row-source"><pre>  /// Throws in case of overflow.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">610</td>
                                    <td class="row-source"><pre>  /// @param a The multiplicand</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">611</td>
                                    <td class="row-source"><pre>  /// @param b The multiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">612</td>
                                    <td class="row-source"><pre>  /// @param denominator The divisor</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">613</td>
                                    <td class="row-source"><pre>  /// @return result The 256-bit result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">614</td>
                                    <td class="row-source"><pre>  function safeMulDivRoundUp(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">615</td>
                                    <td class="row-source"><pre>    uint256 a,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">616</td>
                                    <td class="row-source"><pre>    uint256 b,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">617</td>
                                    <td class="row-source"><pre>    uint256 denominator</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">618</td>
                                    <td class="row-source"><pre>  ) internal pure returns (uint256 result) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">619</td>
                                    <td class="row-source"><pre>    // The result is incremented if &#39;a * b&#39; is not divisible by &#39;denominator&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">620</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">621</td>
                                    <td class="row-source"><pre>      result := gt(mulmod(a, b, denominator), 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">622</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">623</td>
                                    <td class="row-source"><pre>    result += safeMulDiv(a, b, denominator);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">624</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">625</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_Index_sol" data-file-path="contracts\utilities\Index.sol" data-lines-active="1" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\Index.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 1</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>// Type index is used to enumerate members of the curve and kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>type Index is uint256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>Index constant zeroIndex = Index.wrap(0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>Index constant oneIndex = Index.wrap(1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>Index constant twoIndex = Index.wrap(2);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>Index constant threeIndex = Index.wrap(3);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>Index constant maxCurveIndex = Index.wrap(type(uint16).max);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>Index constant maxKernelIndex = Index.wrap(1020);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>using {equals as ==, notEquals as !=} for Index global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>using {lessThan as &lt;, greaterThan as &gt;} for Index global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>using {lessThanOrEqualTo as &lt;=, greaterThanOrEqualTo as &gt;=} for Index global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>using {add as +, sub as -} for Index global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>function equals(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>  Index value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>  Index value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>    result := eq(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>function notEquals(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  Index value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>  Index value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>  return !(value0 == value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>function lessThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>  Index value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>  Index value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>    result := lt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>function greaterThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>  Index value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>  Index value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>    result := gt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>function lessThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>  Index value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>  Index value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>  return !(value0 &gt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>function greaterThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>  Index value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>  Index value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>  return !(value0 &lt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>// Overflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>function add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>  Index value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>  Index value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>  Index result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>    result := add(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>// Underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>function sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>  Index value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>  Index value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>  Index result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>    result := sub(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>function min(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>  Index value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>  Index value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>  Index result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>  return (value0 &lt; value1) ? value0 : value1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>function max(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>  Index value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>  Index value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>  Index result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>  return (value0 &lt; value1) ? value1 : value0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>library IndexLibrary {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>  /// @notice Returns the current 16-bit index of the curve or kernel under </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>  /// exploration given the corresponding pointer.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>  /// &#39;pointer&#39; should be a constant value.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>  function getIndex(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>    uint256 pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>    Index value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>      // First, the memory slot whose most significant 16 bits host the index</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>      // is loaded and then the least significant 240 bits are discarded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>      value := shr(240, mload(pointer))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>  /// @notice Increases a 16-bit index stored in memory by one, given a </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>  /// pointer. The new value for the index is then returned.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>  /// Overflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>  /// &#39;pointer&#39; should be a constant value.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>  function incrementIndex(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>    uint256 pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>    Index value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>      // Index is the most significant 16 bit. Hence, to increment it we need</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>      // to add the slot by &#39;2 ** 240&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>      value := add(mload(pointer), shl(240, 1))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>      mstore(pointer, value)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>      // Then, the least significant 240 bits are discarded and the resulting</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>      // value is returned.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>      value := shr(240, value)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>  /// @notice Decreases a 16-bit index stored in memory by one, given a </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>  /// pointer. The new value for the index is then returned.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>  /// Underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>  /// &#39;pointer&#39; should be a constant value.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>  function decrementIndex(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>    uint256 pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>    Index value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>      // Index is the most significant 16 bit. Hence, to decrement it we need</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>      // to subtract the slot by &#39;2 ** 240&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>      value := sub(mload(pointer), shl(240, 1))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>      mstore(pointer, value)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>      // Then, the least significant 240 bits are discarded and the resulting</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>      // value is returned.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>      value := shr(240, value)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_Kernel_sol" data-file-path="contracts\utilities\Kernel.sol" data-lines-active="1" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\Kernel.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 1</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {Index, zeroIndex} from &quot;./Index.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {X15} from &quot;./X15.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {X59} from &quot;./X59.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>import {X216, oneX216} from &quot;./X216.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>import {PriceLibrary} from &quot;./Price.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>using PriceLibrary for uint16;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>using PriceLibrary for uint256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>// For every pool, the kernel function &#39;k : [0, qSpacing] -&gt; [0, 1]&#39; represents</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>// a monotonically non-decreasing piece-wise linear function whose breakpoints</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>// are listed in the storage smart contract. Let &#39;m + 1&#39; denote the number</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>// of these breakpoints. For every integer &#39;0 &lt;= i &lt;= m&#39; the i-th breakpoint of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>// the kernel represents the pair &#39;(b[i], c[i])&#39; where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>//  &#39;0 == b[0] &lt;  b[1] &lt;= b[2] &lt;= ... &lt;= b[m - 1] &lt;  b[m] == qSpacing&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>//  &#39;0 == c[0] &lt;= c[1] &lt;= c[2] &lt;= ... &lt;= c[m - 1] &lt;= c[m] == 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>// Each breakpoint occupies 64 bytes, in which:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>//  - the &#39;X15&#39; representation of &#39;(2 ** 15) * c[i]&#39; occupies 2 bytes,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>//  - the &#39;X59&#39; representation of &#39;(2 ** 59) * b[i]&#39; occupies 8 bytes,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>//  - the &#39;X216&#39; representation of &#39;(2 ** 216) * exp(- b[i] / 2)&#39; occupies 27</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>//    bytes,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>//  - the &#39;X216&#39; representation of &#39;(2 ** 216) * exp(- 16 + b[i] / 2)&#39; occupies</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>//    27 bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>// The above-mentioned layout is illustrated as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>//                      A 512 bit kernel breakpoint</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>//  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>//  |  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>//  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>//  |  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>//  |  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>//  |  |        |                             (2 ** 216) * exp(- 16 + b[i] / 2)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>//  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>//  |  |          (2 ** 216) * exp(- b[i] / 2)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>//  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>//  |    (2 ** 59) * b[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>//   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>//    (2 ** 15) * c[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>// Consider the following list of kernel breakpoints:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>//  &#39;(b[0], c[0]), (b[1], c[1]), (b[2], c[2]), ..., (b[m], c[m])&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>// and for every integer &#39;0 &lt; i &lt;= m&#39;, define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>//  &#39;k_i : [0, qSpacing] -&gt; [0, 1]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>// as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>//  &#39;k_i(q) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>//    /            c[i] - c[i - 1]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>//   | c[i - 1] + ----------------- * (q - b[i - 1])  if  b[i - 1] &lt; q &lt; b[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>//   |             b[i] - b[i - 1]                                           &#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>//   | 0                                              otherwise</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>//    \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>// which means that if &#39;b[i - 1] == b[i]&#39;, then &#39;k_i(q) := 0&#39;. Now, the kernel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>// function</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>//  &#39;k : [0, qSpacing] -&gt; [0, 1]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>// is defined as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>//             m</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>//           -----</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>//           \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>//  &#39;k(q) := /     k_i(q)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>//           -----</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>//           i = 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>type Kernel is uint256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>using KernelLibrary for Kernel global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>library KernelLibrary {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>  /// @notice Returns the components of the kernel breakpoint which corresponds</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>  /// to the given index.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>  /// Index out of range should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>  function member(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>    Kernel kernel,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>    Index index</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>    X15 height,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>    X59 logShift,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>    X216 sqrtShift,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>    X216 sqrtInverseShift</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>    // If &#39;index&#39; is equal to 0, then this function should return </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>    // &#39;(zeroX15, zeroX59, oneX216, floor((2 ** 216) * exp(-16)))&#39;. Because the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>    // first member of kernelCompact is always &#39;(zeroX15, zeroX59)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>    if (index &gt; zeroIndex) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>      uint256 pointer;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>        // Each member of Kernel is &#39;64 == 2 ** 6&#39; bytes. Hence we shift</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>        // &#39;index&#39; by &#39;6&#39; digits which is equivalent to multiplying by &#39;64&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>        // The origin is omitted and handled separately. We subtract by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>        // &#39;62 = 8 + 27 + 27&#39; so that the pointer corresponding to </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>        // &#39;index == oneIndex&#39; follows this layout:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>        //        pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>        //      /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>        //     |        A 512 bit kernel breakpoint</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>        //  +--+--------+-----------------+-----------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>        //  |  | 8 byte |     27 byte     |     27 byte     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>        //  +--+--------+-----------------+-----------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>        //  |  |        |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>        //  |  |        |                  \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>        //  |  |        |                   (2 ** 216) * exp(- 16 + b[i] / 2)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>        //  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>        //  |  |          (2 ** 216) * exp(- b[i] / 2)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>        //  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>        //  |    (2 ** 59) * b[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>        //   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>        //    (2 ** 15) * c[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>        pointer := add(kernel, sub(shl(6, index), 62))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>      // Now that &#39;pointer&#39; points to a price with height according to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>      // above layout, all four values are loaded from memory using</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>      // &#39;PriceLibrary&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>      height = pointer.height();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>      logShift = pointer.log();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>      sqrtShift = pointer.sqrt(false);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>      sqrtInverseShift = pointer.sqrt(true);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>    } else {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>      // &#39;height&#39; and &#39;logShift&#39; are zero by default.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>      sqrtShift = oneX216;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>      sqrtInverseShift = X216.wrap(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>        0x0000000000000001E355BBAEE85CADA65F73F32E88FB3CC629B709109F57564D</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>      ); // floor((2 ** 216) * exp(-16))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>  /// @notice This function calculates the resultant of the logarithmic price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>  /// &#39;q&#39; which is stored in &#39;basePrice&#39; and the &#39;index&#39; breakpoint of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>  /// &#39;kernel&#39;. The resultant is then stored in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>  /// If &#39;left == false&#39;, the resulting log price is equal to </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>  ///  &#39;qResultant := q + b[index]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>  /// In this case we should have: &#39;0 &lt; q + b[index] &lt; 2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>  /// If &#39;left == true&#39;, the resulting log price is equal to </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>  ///  &#39;qResultant := q - b[index]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>  /// In this case we should have: &#39;0 &lt; q - b[index] &lt; 2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>  /// Index out of range should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>  /// &#39;resultant&#39; should not be less than &#39;34&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>  function impose(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>    Kernel kernel,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>    uint256 resultant,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>    uint256 basePrice,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>    Index index,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>    bool left</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>  ) internal pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>    // These four values correspond to the kernel&#39;s member.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>    (X15 height, X59 logShift, X216 sqrtShift, X216 sqrtInverseShift) = </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>      kernel.member(index);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>    // Addition or subtraction is safe due to the above requirements.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>    // The multiplication does not overflow because both values are loaded from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>    // 216 bits of memory. Hence, they are non-negative and are less than</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>    // oneX216.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>    // The requirements of &#39;mulDivByExpInv16&#39; are met because both values are </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>    // loaded from 216 bits of memory. Hence, they are non-negative and are </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>    // less than oneX216. Additionally, &#39;mulDivByExpInv16&#39; does not overflow</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>    // and fits within 216 bits, because if &#39;left == false&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>    // &#39;(basePrice.sqrt(true) ^ sqrtInverseShift) / (2 ** 216) == </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>    //  exp(- 16 - 16 + (basePrice.log() + logShift) / (2 ** 60)) / exp(-16)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>    //  == exp(- 16 + (basePrice.log() + logShift) / (2 ** 60)) &lt;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>    //  == exp(- 16 + (2 ** 64) / (2 ** 60)) &lt;= 1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>    // and if &#39;left == true&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>    // &#39;(basePrice.sqrt(false) ^ sqrtInverseShift) / (2 ** 216) == </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>    //  exp(-16 - (basePrice.log() - logShift) / (2 ** 60)) / exp(-16) == </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>    //  exp(- (basePrice.log() - logShift) / (2 ** 60)) &lt; exp(0) &lt;= 1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>    // Hence, the outcome of the multiplication and &#39;mulDivByExpInv16&#39; do not</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>    // exceed 216 bits.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>    (X59 logPrice, X216 sqrtPrice, X216 sqrtInversePrice) = left ? (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>      basePrice.log() - logShift,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>      basePrice.sqrt(false) ^ sqrtInverseShift,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>      basePrice.sqrt(true) * sqrtShift</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>    ) : (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>      basePrice.log() + logShift,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>      basePrice.sqrt(false) * sqrtShift,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>      basePrice.sqrt(true) ^ sqrtInverseShift</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre>    // The requirements of &#39;storePrice&#39; are satisfied due to the above</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>    // arguments and the input requirements.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>    resultant.storePrice(height, logPrice, sqrtPrice, sqrtInversePrice);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_KernelCompact_sol" data-file-path="contracts\utilities\KernelCompact.sol" data-lines-active="1" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\KernelCompact.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 1</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>  _spacing_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>  getKernel,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>  getKernelLength,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>  setKernelLength</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>} from &quot;./Memory.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>  Index,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>  zeroIndex,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>  oneIndex,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>  twoIndex,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>  maxKernelIndex</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>} from &quot;./Index.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>import {X15, oneX15} from &quot;./X15.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>import {X59, zeroX59, minLogStep} from &quot;./X59.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>import {X216} from &quot;./X216.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>import {PriceLibrary} from &quot;./Price.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>import {Kernel} from &quot;./Kernel.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>  SecondHorizontalCoordinateIsZero,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>  NonMonotonicHorizontalCoordinates,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>  NonMonotonicVerticalCoordinates,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>  RepetitiveKernelPoints,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>  SlopeTooHigh,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>  HorizontalCoordinatesMayNotExceedLogSpacing,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>  RepetitiveHorizontalCoordinates,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>  RepetitiveVerticalCoordinates,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  KernelIndexOutOfRange,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>  LastVerticalCoordinateMismatch</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>} from &quot;./Errors.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>using PriceLibrary for uint16;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>using PriceLibrary for uint256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>// For every pool, the kernel function &#39;k : [0, qSpacing] -&gt; [0, 1]&#39; represents</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>// a monotonically non-decreasing piece-wise linear function. Let &#39;m + 1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>// denote the number of these breakpoints. For every integer &#39;0 &lt;= i &lt;= m&#39; the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>// i-th breakpoint of the kernel represents the pair &#39;(b[i], c[i])&#39; where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>//  &#39;0 == b[0] &lt;  b[1] &lt;= b[2] &lt;= ... &lt;= b[m - 1] &lt;  b[m] == qSpacing&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>//  &#39;0 == c[0] &lt;= c[1] &lt;= c[2] &lt;= ... &lt;= c[m - 1] &lt;= c[m] == 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>// In its compact form, each breakpoint occupies 10 bytes, in which:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>//  - the &#39;X15&#39; representation of &#39;(2 ** 15) * c[i]&#39; occupies 2 bytes,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>//  - the &#39;X59&#39; representation of &#39;(2 ** 59) * b[i]&#39; occupies 8 bytes,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>// The above-mentioned layout is illustrated as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>//          A 80 bit kernel breakpoint</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>//  +--------+--------------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>//  | 2 byte |             8 byte             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>//  +--------+--------------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>//  |        |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>//  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>//  |          (2 ** 59) * b[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>//   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>//    (2 ** 15) * c[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>// These 80 bit breakpoints are compactly encoded in a &#39;uint256[]&#39; array and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>// given as input to &#39;initialize&#39; or &#39;modifyKernel&#39; methods.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>// The expanded form of kernel is calculated based on the given compact form</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>// and stored on the storage smart contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>type KernelCompact is uint256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>using KernelCompactLibrary for KernelCompact global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>library KernelCompactLibrary {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>  /// @notice Returns the breakpoint components corresponding to the given</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>  /// index of a compact kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>  /// Index out of range should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>  function member(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>    KernelCompact kernelCompact,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>    Index index</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>    X15 height,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>    X59 logShift</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>    // If &#39;index&#39; is equal to 0, then this function should return </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>    // &#39;(zeroX15, zeroX59)&#39;, because the first member of &#39;kernelCompact&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>    // always &#39;(zeroX15, zeroX59)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>    if (index &gt; zeroIndex) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>      uint256 pointer;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>        // Each member of &#39;kernelCompact&#39; is 10 bytes. 2 bytes for the &#39;height&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>        // and 8 bytes for the &#39;logShift&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>        // &#39;8 == 10 - 2&#39;. We move 2 bytes forward because &#39;priceLibrary&#39; uses</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>        // the following layout to read prices from the memory:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>        //          A 80 bit kernel breakpoint</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>        //              pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>        //            /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>        //  +--------+--------------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>        //  | 2 byte |             8 byte             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>        //  +--------+--------------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>        //  |        |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>        //  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>        //  |          (2 ** 59) * b[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>        //   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>        //    (2 ** 15) * c[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>        // In other words, the pointer to be used to access the &#39;height&#39; and </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>        // &#39;logShift&#39; should point to the end of &#39;height&#39; and the beginning of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>        // &#39;logShift&#39;. Since &#39;height&#39; occupies 2 bytes, we move 2 bytes forward</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>        // to point to the end of it. We move 10 bytes backward because the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>        // first breakpoint which is supposed to be &#39;(zeroX15, zeroX59)&#39; is </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>        // always omitted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>        // The addition and multiplication are safe because index out-of-range</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>        // is handled externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>        pointer := add(kernelCompact, sub(mul(10, index), 8))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>      // Now that we have the pointer, we can load both the &#39;height&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>      // &#39;logShift&#39; from the memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>      height = pointer.height();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>      logShift = pointer.log();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>  /// @notice Sqrt values are calculated and the kernel array is constructed.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>  function expand(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>    KernelCompact kernelCompact</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>  ) internal pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>    Index i = oneIndex;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>    uint256 pointer;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>    // This is the place in memory where the expanded kernel is stored.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>    Kernel kernel = getKernel();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>      // We move &#39;62 = 8 + 27 + 27&#39; bytes backward. When we later move 64 bytes</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>      // forward, the pointer would point to &#39;kernel + 2&#39; which follows this</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>      // layout:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>      //        pointer to the first price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>      //      /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>      //     |        A 512 bit kernel breakpoint</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>      //  +--+--------+-----------------+-----------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>      //  |  | 8 byte |     27 byte     |     27 byte     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>      //  +--+--------+-----------------+-----------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>      //  |  |        |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>      //  |  |        |                  \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>      //  |  |        |                   (2 ** 216) * exp(- 16 + b[i] / 2)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>      //  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>      //  |  |          (2 ** 216) * exp(- b[i] / 2)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>      //  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>      //  |    (2 ** 59) * b[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>      //   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>      //    (2 ** 15) * c[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>      pointer := sub(kernel, 62)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>    Index length = getKernelLength();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>    while (i &lt; length) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>      // We move 64 bytes forward because each member of kernel occupies </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>      // exactly 64 bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>      // The addition is safe because we do not go beyond the length of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>      // kernel which is calculated prior to calling this method by the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>      // function &#39;validate&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>      unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>        pointer = pointer + 64;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>      // &#39;height&#39; and &#39;logShift&#39; are loaded first.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>      // Index-out-of-range is not possible, because we do not go beyond the </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>      // length of the kernel which is calculated prior to calling this method</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>      // by the function &#39;validate&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>      (X15 c_i, X59 b_i) = kernelCompact.member(i);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>      // The requirements of &#39;exp&#39; are met because &#39;kernelCompact&#39; is validated</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>      // prior to calling this function. The custom errors</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>      // &#39;SecondHorizontalCoordinateIsZero&#39; and </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>      // &#39;NonMonotonicHorizontalCoordinates&#39; safeguard against any horizontal</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>      // coordinate being zero.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>      // On the other hand, the custom errors &#39;BlankIntervalsShouldBeAvoided&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>      // and &#39;HorizontalCoordinatesMayNotExceedLogSpacing&#39; safeguard against</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>      // any horizontal coordinate exceeding &#39;2 ** 64 - 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>      (X216 iSqrt, X216 iSqrtInverse) = b_i.exp();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>      // The requirements of &#39;storePrice&#39; are met because the custom errors</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>      // &#39;LastVerticalCoordinateMismatch&#39; and &#39;NonMonotonicVerticalCoordinates&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>      // safeguard against any vertical coordinate exceeding &#39;oneX15&#39;. As </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>      // discussed above, all horizontal coordinates are between &#39;0&#39; and </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>      // &#39;2 ** 64&#39;. The outputs of the function &#39;exp()&#39; never exceed &#39;oneX216&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>      // because both &#39;exp(- x / (2 ** 60))&#39; and  &#39;exp(-16 + x / (2 ** 60))&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>      // are positive and smaller than &#39;1&#39;. Lastly, since &#39;kernel&#39; always</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>      // appears after the end of static parameters, (i.e., </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>      // &#39;kernel &gt;= _endOfStaticParams_&#39;) the value of &#39;pointer&#39; is not less</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>      // than 32.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>      pointer.storePrice(c_i, b_i, iSqrt, iSqrtInverse);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>      // The addition is safe because we do not go beyond the length of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>      // kernel which is calculated prior to calling this method by the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>      // function &#39;validate&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>      i = i + oneIndex;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>  /// @notice Validates a given kernel for compliance.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>  function validate(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>    KernelCompact kernelCompact</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>  ) internal pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre>    X59 qSpacing = _spacing_.log();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>    // The length of any given &#39;kernelCompact&#39; is at least 2. The first member</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>    // is &#39;(zeroX15, zeroX59)&#39; which is omitted. The last member is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>    // &#39;(oneX15, qSpacing)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>    Index length = twoIndex;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>    // &#39;i&#39;, &#39;j&#39;, and &#39;k&#39; are indices representing consecutive members of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>    // the given &#39;kernelCompact&#39;, respectively.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>    Index i = zeroIndex;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>    Index j = oneIndex;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>    // The following two coordinates are zero by default to represent the first</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>    // member &#39;(zeroX15, zeroX59)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre>    X15 c_i;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>    X59 b_i;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>    // The second member of &#39;kernelCompact&#39; is loaded next. </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>    (X15 c_j, X59 b_j) = kernelCompact.member(j);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>    // The third member of &#39;kernelCompact&#39; is loaded next. &#39;k&#39; may be an out of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre>    // range index in which case its values will not be used. This is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>    // intentional, because the line &#39;if (b_j == qSpacing) break;&#39; appears</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre>    // prior to using &#39;k&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>    (X15 c_k, X59 b_k) = kernelCompact.member(length);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre>    // The second horizontal coordinate may not be zero. Remember that the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>    // first member of the kernel is &#39;(zeroX15, zeroX59)&#39;. If the second</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>    // horizontal coordinate is &#39;zeroX59&#39;, it means that we have a vertical</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>    // jump at the origin. This is not permitted because it would limit</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre>    // liquidity growth.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>    require(b_j != zeroX59, SecondHorizontalCoordinateIsZero());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre>    // A loop over every member of &#39;kernelCompact&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre>    while (true) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre>      // The horizontal coordinates should be monotonically nondecreasing. This</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre>      // is because we are inputting breakpoints from the left to the right and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>      // from the bottom to the top.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre>      require(b_i &lt;= b_j, NonMonotonicHorizontalCoordinates(b_i, b_j));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>      // The vertical coordinates should be monotonically nondecreasing. This</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>      // is because we are inputting breakpoints from the left to the right and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre>      // from the bottom to the top.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre>      require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>        c_i &lt;= c_j,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre>        NonMonotonicVerticalCoordinates(c_i, c_j)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre>      );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre>      // Repetitive breakpoints should be avoided.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre>      require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">257</td>
                                    <td class="row-source"><pre>        (b_i != b_j) || (c_i != c_j),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">258</td>
                                    <td class="row-source"><pre>        RepetitiveKernelPoints(c_i, b_i)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">259</td>
                                    <td class="row-source"><pre>      );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">260</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">261</td>
                                    <td class="row-source"><pre>      // If &#39;b_i == b_j&#39;, we have a vertical jump (discontinuity) which is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">262</td>
                                    <td class="row-source"><pre>      // permitted. If &#39;c_i == c_j&#39;, we have a flat segment which is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">263</td>
                                    <td class="row-source"><pre>      // also permitted. However, in case of a sloped segment, &#39;b_j - b_i&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">264</td>
                                    <td class="row-source"><pre>      // may not be less than &#39;minLogStep&#39; which corresponds to a price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">265</td>
                                    <td class="row-source"><pre>      // movement by a factor of approximately &#39;1.0000000075&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">266</td>
                                    <td class="row-source"><pre>      require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">267</td>
                                    <td class="row-source"><pre>        (b_i == b_j) || (c_i == c_j) || (b_j - b_i &gt;= minLogStep),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">268</td>
                                    <td class="row-source"><pre>        SlopeTooHigh(b_i, b_j)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">269</td>
                                    <td class="row-source"><pre>      );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">270</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">271</td>
                                    <td class="row-source"><pre>      // The kernel is characterized via a sequence of monotonically </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">272</td>
                                    <td class="row-source"><pre>      // non-decreasing horizontal coordinates from &#39;zeroX59&#39; to &#39;qSpacing&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">273</td>
                                    <td class="row-source"><pre>      // and a sequence of monotonically non-decreasing vertical coordinates</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">274</td>
                                    <td class="row-source"><pre>      // from &#39;zeroX15&#39; to &#39;oneX15&#39;. Hence, no horizontal coordinate may exceed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">275</td>
                                    <td class="row-source"><pre>      // &#39;qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">276</td>
                                    <td class="row-source"><pre>      require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">277</td>
                                    <td class="row-source"><pre>        b_j &lt;= qSpacing,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">278</td>
                                    <td class="row-source"><pre>        HorizontalCoordinatesMayNotExceedLogSpacing(b_j, qSpacing)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">279</td>
                                    <td class="row-source"><pre>      );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">280</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">281</td>
                                    <td class="row-source"><pre>      // &#39;b_j == qSpacing&#39; indicates that we have reached the end of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">282</td>
                                    <td class="row-source"><pre>      // &#39;kernelCompact&#39;. This is because the last member is supposed to be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">283</td>
                                    <td class="row-source"><pre>      // &#39;(oneX15, qSpacing)&#39; and the horizontal coordinates for all other</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">284</td>
                                    <td class="row-source"><pre>      // members should be less than &#39;qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">285</td>
                                    <td class="row-source"><pre>      if (b_j == qSpacing) break;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">286</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">287</td>
                                    <td class="row-source"><pre>      // A horizontal coordinate cannot be repeated twice. It may be repeated</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">288</td>
                                    <td class="row-source"><pre>      // once, which would indicate a vertical jump (kernel discontinuity).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">289</td>
                                    <td class="row-source"><pre>      require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">290</td>
                                    <td class="row-source"><pre>        (b_i != b_j) || (b_j != b_k),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">291</td>
                                    <td class="row-source"><pre>        RepetitiveHorizontalCoordinates(b_i)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">292</td>
                                    <td class="row-source"><pre>      );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">293</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">294</td>
                                    <td class="row-source"><pre>      // A vertical coordinate cannot be repeated twice. It may be repeated</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">295</td>
                                    <td class="row-source"><pre>      // once, which would indicate a flat segment.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">296</td>
                                    <td class="row-source"><pre>      require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">297</td>
                                    <td class="row-source"><pre>        (c_i != c_j) || (c_j != c_k),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">298</td>
                                    <td class="row-source"><pre>        RepetitiveVerticalCoordinates(c_i)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">299</td>
                                    <td class="row-source"><pre>      );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">300</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">301</td>
                                    <td class="row-source"><pre>      // We substitute &#39;i&#39; with &#39;j&#39; to move one step forward.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">302</td>
                                    <td class="row-source"><pre>      i = j;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">303</td>
                                    <td class="row-source"><pre>      c_i = c_j;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">304</td>
                                    <td class="row-source"><pre>      b_i = b_j;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">305</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">306</td>
                                    <td class="row-source"><pre>      // We substitute &#39;j&#39; with &#39;k&#39; to move one step forward.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">307</td>
                                    <td class="row-source"><pre>      j = length;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">308</td>
                                    <td class="row-source"><pre>      c_j = c_k;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">309</td>
                                    <td class="row-source"><pre>      b_j = b_k;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">310</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">311</td>
                                    <td class="row-source"><pre>      // &#39;length&#39; is incremented. The addition is safe because of the following</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">312</td>
                                    <td class="row-source"><pre>      // check.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">313</td>
                                    <td class="row-source"><pre>      length = length + oneIndex;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">314</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">315</td>
                                    <td class="row-source"><pre>      // The deployment code for static parameters and kernel reserves 2 bytes</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">316</td>
                                    <td class="row-source"><pre>      // for the byte count of the content to be deployed. Because of this</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">317</td>
                                    <td class="row-source"><pre>      // limit, we should have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">318</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">319</td>
                                    <td class="row-source"><pre>      // &#39;_endOfStaticParams_ - _staticParams_ + 64*(length - 1) + 1 &lt; 2 ** 16&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">320</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">321</td>
                                    <td class="row-source"><pre>      // where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">322</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">323</td>
                                    <td class="row-source"><pre>      // - &#39;64&#39; accounts for the number of bytes that each member of kernel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">324</td>
                                    <td class="row-source"><pre>      // occupies.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">325</td>
                                    <td class="row-source"><pre>      // - &#39;-1&#39; accounts for the omitted origin point.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">326</td>
                                    <td class="row-source"><pre>      // - &#39;+1&#39; accounts for a &#39;00&#39; padding byte.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">327</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">328</td>
                                    <td class="row-source"><pre>      // Hence:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">329</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">330</td>
                                    <td class="row-source"><pre>      // &#39;length &lt;= 1 + (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">331</td>
                                    <td class="row-source"><pre>      //    ((2 ** 16 - 1) - 1 - _endOfStaticParams_ + _staticParams_) / 64</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">332</td>
                                    <td class="row-source"><pre>      // ) == 1020&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">333</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">334</td>
                                    <td class="row-source"><pre>      require(length &lt;= maxKernelIndex, KernelIndexOutOfRange(length));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">335</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">336</td>
                                    <td class="row-source"><pre>      // &#39;k&#39; may be an out of range index in which case its values will not be </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">337</td>
                                    <td class="row-source"><pre>      // used. This is intentional, because the line</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">338</td>
                                    <td class="row-source"><pre>      // &#39;if (b_j == qSpacing) break;&#39; appears prior to using &#39;k&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">339</td>
                                    <td class="row-source"><pre>      (c_k, b_k) = kernelCompact.member(length);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">340</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">341</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">342</td>
                                    <td class="row-source"><pre>    // The last member of &#39;kernelCompact&#39; should be &#39;(oneX15, qSpacing)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">343</td>
                                    <td class="row-source"><pre>    // The loop is already broken at &#39;b_j == qSpacing&#39; and now we check the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">344</td>
                                    <td class="row-source"><pre>    // vertical coordinate.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">345</td>
                                    <td class="row-source"><pre>    require(c_j == oneX15, LastVerticalCoordinateMismatch(c_j));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">346</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">347</td>
                                    <td class="row-source"><pre>    // The length for &#39;kernel&#39; is set in memory. Due to the above check, this</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">348</td>
                                    <td class="row-source"><pre>    // value does not exceed &#39;maxKernelIndex&#39; and can be safely stored in the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">349</td>
                                    <td class="row-source"><pre>    // allocated 2 bytes of memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">350</td>
                                    <td class="row-source"><pre>    setKernelLength(length);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">351</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">352</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_Memory_sol" data-file-path="contracts\utilities\Memory.sol" data-lines-active="42" data-lines-covered="25">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(70, 90%, 45%, 0.15); color: hsl(70, 90%, 45%)">
                                59.0%
                            </span>
                            <span class="file-name">contracts\utilities\Memory.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>25 / 42</strong> (59.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>/// @dev Nofeeswap&#39;s memory layout.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>/// @notice Each &#39;uint16&#39; value is a memory pointer referring to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>/// corresponding value in memory. This file is generated using &#39;Memory.py&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>import {Tag} from &quot;./Tag.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>import {Index} from &quot;./Index.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>import {X15} from &quot;./X15.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>import {X23} from &quot;./X23.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>import {X47} from &quot;./X47.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>import {X59} from &quot;./X59.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>import {X111} from &quot;./X111.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>import {X127} from &quot;./X127.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>import {X208} from &quot;./X208.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>import {X216} from &quot;./X216.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>import {Curve} from &quot;./Curve.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>import {Kernel} from &quot;./Kernel.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>// Refers to the third slot of the memory which contains the free memory</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>// pointer.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>uint16 constant _freeMemoryPointer_ = 64;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>// Refers to the fourth slot of the memory which remains blank.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>uint16 constant _blank_ = 96;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>// When the protocol calls a hook or the sentinel contract, a snapshot of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>// memory (with &#39;_hookSelector_&#39; as the starting point) is sent to the target</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>// contract as calldata. Before calling the target contract, this 4 byte space</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>// is populated with the intended function selector of the target contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>uint16 constant _hookSelector_ = 128;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>// This space is populated with the abi offset &#39;0x20&#39; so that the hook or the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>// sentinel contract can decode the given calldata. This offset value points to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>// the slot that contains the byte count of the snapshot given to the hook or</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>// the sentinel contract</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>uint16 constant _hookInputHeader_ = 132;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>// This space is populated with the byte count of &#39;bytes calldata hookInput&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>// which is passed as input to the hook or the sentinel contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>uint16 constant _hookInputByteCount_ = 164;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>// &#39;msg.sender&#39; in the current execution context is placed in this space to be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>// passed to the hook or the sentinel contract. This way, the hook or the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>// sentinel contract have access to &#39;msg.sender&#39; in the prior execution</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>// context (i.e., in the context where the protocol is called).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>uint16 constant _msgSender_ = 196;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>// This space is dedicated to the identifier of the intended pool. The least</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>// significant 160 bits of this memory space refer to the hook address. The</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>// next 20 bits are referred to as flags that are used by the protocol to know</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>// which methods from &#39;IHook.sol&#39; should be invoked and what permissions are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>// activated. Flags are further explained in &#39;IHook.sol&#39;. The next 8 bits</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>// represent the natural logarithm of &#39;pOffset&#39; which must be greater than or</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>// equal to &#39;-89&#39; and less than or equal to &#39;89&#39; in &#39;int8&#39; representation</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>// (two&#39;s complement). Hence, &#39;pOffset&#39; is greater than or equal to &#39;exp(-89)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>// and less than or equal to &#39;exp(+89)&#39;. As will be discussed later, the price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>// of the pool is always greater than or equal to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>//  &#39;pOffset * exp(- 16 + 1 / (2 ** 59))&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>// and less than or equal to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>//  &#39;pOffset * exp(+ 16 - 1 / (2 ** 59))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>uint16 constant _poolId_ = 216;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>// How does a swap work?</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>// ----------------------------------------------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>// A swap in a pool can be interpreted as a change in that pool&#39;s price. There</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>// are two types of swaps:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>//  - If &#39;tag0&#39; is outgoing from the pool and &#39;tag1&#39; is incoming to the pool as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>//    a result of a swap, then the swap is price increasing, i.e., the price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>//    prior to the execution of the swap is lower than the price after the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>//    execution of the swap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>//  - If &#39;tag0&#39; is incoming to the pool and &#39;tag1&#39; is outgoing from the pool as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>//    a result of a swap, then the swap is price decreasing, i.e., the price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>//    prior to the execution of the swap is higher than the price after the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>//    execution of the swap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>// Let &#39;pOffset&#39; represent the offset price whose natural logarithm is encoded</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>// in &#39;poolId&#39; as described above (in the definition of &#39;poolId&#39;). The protocol</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>// offers liquidity providers (LPs) the flexibility to deposit their liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>// in a range of their choosing. To this end, the price horizon is partitioned</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>// into a number of liquidity intervals with equal length in the natural</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>// logarithmic scale. An LP may choose any consecutive range of liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>// intervals to deposit their liquidity. By doing so, the LP acquires a number</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>// of shares in every liquidity interval that belongs to the given range. The</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>// shares can be used later to withdraw liquidity along with any accumulated</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>// growth which is accrued as a result of swap and donate actions.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>// At each moment, a single one of the above-mentioned intervals is active to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>// which the current price of the pool belongs. Let &#39;pLower&#39; and &#39;pUpper&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>// respectively, denote the minimum and maximum price in the current active</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>// liquidity interval and define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>//  &#39;qLower := log(pLower / pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>//  &#39;qUpper := log(pUpper / pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>//  &#39;qSpacing := log(pUpper / pLower)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>// Then, for every integer &#39;j&#39;, the interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>//  &#39;[qLower + j * qSpacing, qUpper + j * qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>// is a valid liquidity interval if and only if:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>//  &#39;- 16 + 1 / (2 ** 59) + qSpacing &lt; qLower + j * qSpacing&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>// and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>//  &#39;qUpper + j * qSpacing &lt;= + 16 - 1 / (2 ** 59) - qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>// This includes the current active liquidity interval &#39;[qLower, qUpper]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>// which corresponds to &#39;j == 0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>// Every swap has the following input parameters:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>//  - &#39;logPriceLimit&#39;: This value is the natural logarithm of a price limit in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>//    &#39;X59&#39; representation. It imposes a constraint on the price of the pool</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>//    post execution of the swap. For price increasing swaps, &#39;logPriceLimit&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>//    serves as an upper bound, in which case the price of the pool must not</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>//    exceed &#39;exp(logPriceLimit / (2 ** 59))&#39;. For price decreasing swaps,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>//    &#39;logPriceLimit&#39; serves as a lower bound, in which case the price of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>//    pool must not subceed &#39;exp(logPriceLimit / (2 ** 59))&#39;. In both cases,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>//    once the price of the pool reaches &#39;exp(logPriceLimit / (2 ** 59))&#39;, the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>//    execution of the swap is halted. Put simply, no amount of tags are traded</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>//    with any price worst than &#39;exp(logPriceLimit / (2 ** 59))&#39; for the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>//    swapper.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>//  - &#39;zeroForOne&#39;: If &#39;zeroForOne == 0&#39;, then the swap is price increasing in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>//    which case &#39;tag0&#39; is outgoing from the pool and &#39;tag1&#39; is incoming to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>//    pool. If &#39;zeroForOne == 1&#39;, then the swap is price decreasing in which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>//    case &#39;tag0&#39; is incoming to the pool and &#39;tag1&#39; is outgoing from the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>//    Given any other value, the movement of the price is towards</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>//    &#39;logPriceLimit&#39;, i.e., the swap is price increasing if</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>//      &#39;pCurrent &lt; exp(logPriceLimit / (2 ** 59))&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>//    and the swap is price decreasing if</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>//      &#39;exp(logPriceLimit / (2 ** 59)) &lt; pCurrent&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>//    where &#39;pCurrent&#39; represents the current price of the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>//  - &#39;amountSpecified&#39;: If &#39;amountSpecified &gt; 0&#39; then &#39;amountSpecified&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>//    represents the amount of &#39;tag0&#39; (if the swap is price decreasing) or the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>//    amount of &#39;tag1&#39; (if the swap is price increasing) to be given to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>//    pool subject to the constraint imposed by &#39;logPriceLimit&#39;. If</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>//    &#39;amountSpecified &lt; 0&#39; then &#39;0 - amountSpecified&#39; represents the amount of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>//    &#39;tag0&#39; (if the swap is price increasing) or the amount of &#39;tag1&#39; (if the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>//    swap is price decreasing) to be taken from the pool. Define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>//      &#39;exactInput := amountSpecified &gt; 0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>//    which determines whether &#39;amountSpecified&#39; is incoming to the pool or</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>//    outgoing from the pool. Additionally, if &#39;zeroForOne == exactInput&#39;, then</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>//    &#39;amountSpecified&#39; is with respect to &#39;tag0&#39; and if</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>//    &#39;zeroForOne != exactInput&#39; then &#39;amountSpecified&#39; is with respect to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>//    &#39;tag1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>//  - &#39;crossThreshold&#39;: If large enough, a swap may involve transitioning from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>//    the active liquidity interval to other intervals. &#39;crossThreshold&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>//    imposes a lower bound on the total number of shares that should be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>//    available in any interval for the swapper to transact in that interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>//    For example, if &#39;crossThreshold == 0&#39;, which is the default, no minimum</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>//    number of shares is imposed. If &#39;crossThreshold == 100&#39;, there has to be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>//    at least 100 shares in the interval for the swap function to either swap</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>//    within or enter that interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>// Consider a hypothetical pool that satisfies</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>//  &#39;qLower &lt; qCurrent &lt; qUpper&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>// where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>//  &#39;qCurrent := log(pCurrent / pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>// and &#39;pCurrent&#39; is the current price of the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>// Consider a swap in this pool with the following parameters:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>//  &#39;logPriceLimit := (2 ** 59) * log(pLimit)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>//  &#39;zeroForOne := 1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>//  &#39;amountSpecified := +oo&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>//  &#39;crossThreshold := 0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>// where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>//  &#39;pLimit := exp(- 3 * qSpacing) * pCurrent&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>// and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>//  &#39;qLimit := log(pLimit / pOffset)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>// As explained later in this script, each of the above input parameters are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>// loaded from calldata, transformed to appropriate formats and then stored in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>// dedicated spaces in memory that are pointed to by the constant values</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>// &#39;_logPriceLimit_&#39;, &#39;_zeroForOne_&#39;, &#39;_amountSpecified_&#39;, and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>// &#39;_crossThreshold_&#39;, respectively. Additionally, prior to the execution</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>// of the swap, &#39;qLimit&#39; is calculated and stored in the memory space which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>// is pointed to by &#39;_logPriceLimitOffsetted_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>// In this example, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre>//  &#39;qLower - 3 * qSpacing &lt; qLimit &lt; qUpper - 3 * qSpacing&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>// which is illustrated as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>//             qLimit                                  qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>//               |                                         |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>//  ... &lt;--+-------------+-------------+-------------+-------------+--&gt; ...</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>// In the presence of liquidity, the further away &#39;qLimit&#39; is from &#39;qCurrent&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>// the larger the outgoing amount from the pool and the incoming amount to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>// pool are.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>// In the above example, the swap is price decreasing which means that &#39;tag0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>// is incoming to the pool and &#39;tag1&#39; is outgoing from the pool as a result of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre>// the swap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre>// Observe that &#39;qLimit&#39; is three intervals away from &#39;qCurrent&#39;. Hence, in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>// order to go from &#39;qCurrent&#39; to &#39;qLimit&#39; we need to transact in the following</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>// four intervals:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>//  &#39;[qLower - 0 * qSpacing, qUpper - 0 * qSpacing]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre>//  &#39;[qLower - 1 * qSpacing, qUpper - 1 * qSpacing]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>//  &#39;[qLower - 2 * qSpacing, qUpper - 2 * qSpacing]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre>//  &#39;[qLower - 3 * qSpacing, qUpper - 3 * qSpacing]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>// At each point throughout the execution of the swap, as we transition from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre>// each interval to the next one, the memory pointers &#39;_back_&#39; and &#39;_next_&#39; are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>// used in order to keep track of the boundaries for the current active</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>// interval. Each of these pointers refer to a memory space in which the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>// following two values are enclosed:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>//  &#39;qBack := log(pBack / pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre>//  &#39;qNext := log(pNext / pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre>// (among other values) where &#39;pBack&#39; is the boundary of the current active</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre>// liquidity interval in the opposite direction of the swap and &#39;pNext&#39; is the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre>// other boundary in the direction of the swap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre>// For price increasing swaps, the initial values for &#39;qBack&#39; and &#39;qNext&#39; are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre>// as follows</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>//  &#39;qBack := qLower&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre>//  &#39;qNext := qUpper&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>// However, in the present example, since the swap is price decreasing, these</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre>// initial values are:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre>//  &#39;qBack := qUpper&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre>//  &#39;qNext := qLower&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">257</td>
                                    <td class="row-source"><pre>// as illustrated here:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">258</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">259</td>
                                    <td class="row-source"><pre>//             qLimit                                   qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">260</td>
                                    <td class="row-source"><pre>//               |                                         |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">261</td>
                                    <td class="row-source"><pre>//  ... &lt;--+-------------+-------------+-------------+-------------+--&gt; ...</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">262</td>
                                    <td class="row-source"><pre>//                                                   |             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">263</td>
                                    <td class="row-source"><pre>//                                                 qNext         qBack</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">264</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">265</td>
                                    <td class="row-source"><pre>// As the price transitions to a new liquidity interval, the content of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">266</td>
                                    <td class="row-source"><pre>// memory spaces that are pointed to by &#39;_back_&#39; and &#39;_next_&#39; are updated</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">267</td>
                                    <td class="row-source"><pre>// accordingly.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">268</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">269</td>
                                    <td class="row-source"><pre>// Now, in order to perform this swap, we need to proceed as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">270</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">271</td>
                                    <td class="row-source"><pre>//  - The dynamic parameters of the pool are read from the protocol&#39;s storage</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">272</td>
                                    <td class="row-source"><pre>//    which include the followings:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">273</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">274</td>
                                    <td class="row-source"><pre>//    - &#39;sharesTotal&#39;: This is the total number of shares that are deposited in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">275</td>
                                    <td class="row-source"><pre>//      the current active liquidity interval &#39;[qLower, qUpper]&#39; across all</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">276</td>
                                    <td class="row-source"><pre>//      LPs. Consider an example where we have only two LP positions such that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">277</td>
                                    <td class="row-source"><pre>//      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">278</td>
                                    <td class="row-source"><pre>//      - The first position has 2 shares in every interval from &#39;qLower&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">279</td>
                                    <td class="row-source"><pre>//        &#39;qUpper + 2 * qSpacing&#39;, i.e., 2 shares in each of the intervals</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">280</td>
                                    <td class="row-source"><pre>//        &#39;[qLower, qUpper]&#39;, &#39;[qLower + qSpacing, qUpper + qSpacing]&#39;, and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">281</td>
                                    <td class="row-source"><pre>//        &#39;[qSpacing + 2 * qSpacing, qUpper + 2 * qSpacing]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">282</td>
                                    <td class="row-source"><pre>//      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">283</td>
                                    <td class="row-source"><pre>//      - The second position has 5 shares in every interval from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">284</td>
                                    <td class="row-source"><pre>//        &#39;qLower - qSpacing&#39; to &#39;qUpper + qSpacing&#39;, i.e., 5 shares in each of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">285</td>
                                    <td class="row-source"><pre>//        the intervals &#39;[qLower - qSpacing, qUpper - qSpacing]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">286</td>
                                    <td class="row-source"><pre>//        &#39;[qLower, qUpper]&#39;, and &#39;[qLower + qSpacing, qUpper + qSpacing]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">287</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">288</td>
                                    <td class="row-source"><pre>//      In this case, both LP positions include the active liquidity interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">289</td>
                                    <td class="row-source"><pre>//      &#39;[qLower, qUpper]&#39; which means that &#39;sharesTotal == 2 + 5 == 7&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">290</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">291</td>
                                    <td class="row-source"><pre>//    - &#39;growth&#39;: The amount of liquidity which is allocated to a single LP</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">292</td>
                                    <td class="row-source"><pre>//      share in the active interval increases as a result of a swap or a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">293</td>
                                    <td class="row-source"><pre>//      donation. We use this parameter to keep track of the amount of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">294</td>
                                    <td class="row-source"><pre>//      liquidity for each share. &#39;growth&#39; is stored in &#39;X111&#39; format and we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">295</td>
                                    <td class="row-source"><pre>//      always have &#39;growth &gt;= oneX111&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">296</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">297</td>
                                    <td class="row-source"><pre>//    - &#39;qCurrent&#39;: This is equal to &#39;log(pCurrent / pOffset)&#39; where &#39;pCurrent&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">298</td>
                                    <td class="row-source"><pre>//      is the current price of the pool prior to the execution of the swap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">299</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">300</td>
                                    <td class="row-source"><pre>//    - &#39;staticParamsStoragePointer&#39;: Certain information about the pool that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">301</td>
                                    <td class="row-source"><pre>//      never change (e.g., &#39;tag0&#39; and &#39;tag1&#39;) or do not change frequently are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">302</td>
                                    <td class="row-source"><pre>//      encoded in an external smart contract&#39;s bytecode. We refer to this</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">303</td>
                                    <td class="row-source"><pre>//      external smart contract as the storage smart contract of the pool. This</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">304</td>
                                    <td class="row-source"><pre>//      way, the encoded parameters can be accessed by reading the storage</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">305</td>
                                    <td class="row-source"><pre>//      smart contract&#39;s bytecode which is more gas efficient than accessing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">306</td>
                                    <td class="row-source"><pre>//      protocol&#39;s storage via &#39;sload&#39;. However, if we ever need to make any</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">307</td>
                                    <td class="row-source"><pre>//      modification, a new storage smart contract should be deployed with an</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">308</td>
                                    <td class="row-source"><pre>//      updated bytecode. Hence, the protocol needs to keep track of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">309</td>
                                    <td class="row-source"><pre>//      address for the storage smart contract associated with each pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">310</td>
                                    <td class="row-source"><pre>//      Instead of storing a 20-byte address for each pool, we calculate it</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">311</td>
                                    <td class="row-source"><pre>//      from &#39;staticParamsStoragePointer&#39; as further explained in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">312</td>
                                    <td class="row-source"><pre>//      &#39;Storage.sol&#39;. Hence, &#39;staticParamsStoragePointer&#39; is a 16-bit pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">313</td>
                                    <td class="row-source"><pre>//      which is used to derive the address of the storage smart contract from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">314</td>
                                    <td class="row-source"><pre>//      which additional information about the pool is read.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">315</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">316</td>
                                    <td class="row-source"><pre>//  - The curve sequence is read from the protocol&#39;s storage. The &#39;curve&#39; is a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">317</td>
                                    <td class="row-source"><pre>//    sequence containing historical prices in &#39;X59&#39; representation. It should</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">318</td>
                                    <td class="row-source"><pre>//    have at least two members. In other words, every  member of the curve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">319</td>
                                    <td class="row-source"><pre>//    sequence represents a historical price &#39;pHistorical&#39; which is stored in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">320</td>
                                    <td class="row-source"><pre>//    the form:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">321</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">322</td>
                                    <td class="row-source"><pre>//      &#39;(2 ** 59) * (16 + qHistorical)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">323</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">324</td>
                                    <td class="row-source"><pre>//    where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">325</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">326</td>
                                    <td class="row-source"><pre>//      &#39;qHistorical := log(pHistorical / pOffset)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">327</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">328</td>
                                    <td class="row-source"><pre>//    Hence, each member of the curve occupies exactly &#39;64&#39; bits as explained</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">329</td>
                                    <td class="row-source"><pre>//    in &#39;Curve.sol&#39;. This is because &#39;pHistorical&#39; satisfies</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">330</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">331</td>
                                    <td class="row-source"><pre>//      &#39;pOffset * exp(- 16 + 1 / (2 ** 59)) &lt;= pHistorical&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">332</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">333</td>
                                    <td class="row-source"><pre>//    and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">334</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">335</td>
                                    <td class="row-source"><pre>//      &#39;pHistorical &lt;= pOffset * exp(+ 16 - 1 / (2 ** 59))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">336</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">337</td>
                                    <td class="row-source"><pre>//    which conclude that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">338</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">339</td>
                                    <td class="row-source"><pre>//      &#39;1 &lt;= (2 ** 59) * (16 + qHistorical) &lt;= 2 ** 64 - 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">340</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">341</td>
                                    <td class="row-source"><pre>//    The first and the second members of the curve sequence correspond to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">342</td>
                                    <td class="row-source"><pre>//    boundaries of the current active liquidity interval (i.e., &#39;qLower&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">343</td>
                                    <td class="row-source"><pre>//    &#39;qUpper&#39;) with the order depending on the pool&#39;s history. The last member</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">344</td>
                                    <td class="row-source"><pre>//    of the curve represents the current price of the pool, i.e., &#39;qCurrent&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">345</td>
                                    <td class="row-source"><pre>//    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">346</td>
                                    <td class="row-source"><pre>//    Let &#39;l&#39; denote the number of members in the curve sequence. Since, we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">347</td>
                                    <td class="row-source"><pre>//    already know &#39;qCurrent&#39; from dynamic parameters, we can determine &#39;l&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">348</td>
                                    <td class="row-source"><pre>//    without having to load an entire length slot! In other words, we keep</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">349</td>
                                    <td class="row-source"><pre>//    reading members of the curve sequence from protocol&#39;s storage (four</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">350</td>
                                    <td class="row-source"><pre>//    members per slot) until we encounter &#39;qCurrent&#39; which is already known</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">351</td>
                                    <td class="row-source"><pre>//    from dynamic parameters. Then, &#39;l&#39; can be determined based on the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">352</td>
                                    <td class="row-source"><pre>//    position of &#39;qCurrent&#39; in the curve sequence.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">353</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">354</td>
                                    <td class="row-source"><pre>//    For every integer &#39;0 &lt;= i &lt; l&#39;, denote the (i + 1)-th historical price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">355</td>
                                    <td class="row-source"><pre>//    recorded by the curve sequence as &#39;p[i]&#39;. Additionally, to simplify the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">356</td>
                                    <td class="row-source"><pre>//    notations, the out-of-range price &#39;p[l]&#39; is assigned the same value as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">357</td>
                                    <td class="row-source"><pre>//    &#39;p[l - 1]&#39;. Now, for every integer &#39;0 &lt;= i &lt;= l&#39;, define also </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">358</td>
                                    <td class="row-source"><pre>//    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">359</td>
                                    <td class="row-source"><pre>//      &#39;q[i] := log(p[i] / pOffset)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">360</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">361</td>
                                    <td class="row-source"><pre>//    The curve sequence is constructed in such a way that for every</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">362</td>
                                    <td class="row-source"><pre>//    &#39;2 &lt;= i &lt; l&#39;, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">363</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">364</td>
                                    <td class="row-source"><pre>//      &#39;min(q[i - 1], q[i - 2]) &lt; q[i] &lt; max(q[i - 1], q[i - 2])&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">365</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">366</td>
                                    <td class="row-source"><pre>//    This ordering rule is verified upon initialization of any pool and it is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">367</td>
                                    <td class="row-source"><pre>//    preserved by every amendment to the curve sequence.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">368</td>
                                    <td class="row-source"><pre>//    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">369</td>
                                    <td class="row-source"><pre>//    In order to use the curve sequence, we need to define a number of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">370</td>
                                    <td class="row-source"><pre>//    functions. For every &#39;0 &lt;= i &lt;= l - 2&#39;, if &#39;q[i + 2] &lt; q[i]&#39; define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">371</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">372</td>
                                    <td class="row-source"><pre>//      &#39;w_i : [qLower, qUpper] -&gt; [0, qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">373</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">374</td>
                                    <td class="row-source"><pre>//    as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">375</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">376</td>
                                    <td class="row-source"><pre>//                  /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">377</td>
                                    <td class="row-source"><pre>//                 |  q - q[i + 1]  if q[i + 2] &lt; q &lt; q[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">378</td>
                                    <td class="row-source"><pre>//      &#39;w_i(q) := |                                       &#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">379</td>
                                    <td class="row-source"><pre>//                 |  0             otherwise</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">380</td>
                                    <td class="row-source"><pre>//                  \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">381</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">382</td>
                                    <td class="row-source"><pre>//    and if &#39;q[i] &lt; q[i + 2]&#39; define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">383</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">384</td>
                                    <td class="row-source"><pre>//      &#39;w_i : [qLower, qUpper] -&gt; [0, qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">385</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">386</td>
                                    <td class="row-source"><pre>//    as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">387</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">388</td>
                                    <td class="row-source"><pre>//                  /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">389</td>
                                    <td class="row-source"><pre>//                 |  q[i + 1] - q  if q[i] &lt; q &lt; q[i + 2]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">390</td>
                                    <td class="row-source"><pre>//      &#39;w_i(q) := |                                        &#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">391</td>
                                    <td class="row-source"><pre>//                 |  0             otherwise</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">392</td>
                                    <td class="row-source"><pre>//                  \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">393</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">394</td>
                                    <td class="row-source"><pre>//    Each of the above functions is regarded as a phase. Observe that the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">395</td>
                                    <td class="row-source"><pre>//    diagram for each of the phase is a compactly supported (i.e., equal to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">396</td>
                                    <td class="row-source"><pre>//    zero outside of a bounded interval) segment with either &#39;45&#39; or &#39;135&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">397</td>
                                    <td class="row-source"><pre>//    degrees angle. Define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">398</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">399</td>
                                    <td class="row-source"><pre>//      &#39;w : [qLower, qUpper] -&gt; [0, qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">400</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">401</td>
                                    <td class="row-source"><pre>//    as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">402</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">403</td>
                                    <td class="row-source"><pre>//               l - 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">404</td>
                                    <td class="row-source"><pre>//               -----</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">405</td>
                                    <td class="row-source"><pre>//               \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">406</td>
                                    <td class="row-source"><pre>//      &#39;w(q) := /     w_i(q).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">407</td>
                                    <td class="row-source"><pre>//               -----</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">408</td>
                                    <td class="row-source"><pre>//               i = 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">409</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">410</td>
                                    <td class="row-source"><pre>//    This function will be used to determine the distribution of liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">411</td>
                                    <td class="row-source"><pre>//    within the active interval &#39;[qLower, qUpper]&#39;. As we will discuss later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">412</td>
                                    <td class="row-source"><pre>//    in this script, the distribution of liquidity is modified with every swap</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">413</td>
                                    <td class="row-source"><pre>//    via amendments to the curve sequence and this process ensures liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">414</td>
                                    <td class="row-source"><pre>//    growth for the LPs without the need to charge fees.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">415</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">416</td>
                                    <td class="row-source"><pre>//    For example, let</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">417</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">418</td>
                                    <td class="row-source"><pre>//      &#39;q[0] := qUpper&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">419</td>
                                    <td class="row-source"><pre>//      &#39;q[1] := qLower&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">420</td>
                                    <td class="row-source"><pre>//      &#39;q[2]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">421</td>
                                    <td class="row-source"><pre>//      &#39;q[3] := qCurrent&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">422</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">423</td>
                                    <td class="row-source"><pre>//    represent the curve sequence. Then,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">424</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">425</td>
                                    <td class="row-source"><pre>//      &#39;w(q) := w_0(q) + w_1(q) + w_2(q)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">426</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">427</td>
                                    <td class="row-source"><pre>//    can be plotted as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">428</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">429</td>
                                    <td class="row-source"><pre>//            w(q)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">430</td>
                                    <td class="row-source"><pre>//              ^</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">431</td>
                                    <td class="row-source"><pre>//      spacing |                /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">432</td>
                                    <td class="row-source"><pre>//              |               /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">433</td>
                                    <td class="row-source"><pre>//              |              /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">434</td>
                                    <td class="row-source"><pre>//              |             /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">435</td>
                                    <td class="row-source"><pre>//              |            /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">436</td>
                                    <td class="row-source"><pre>//              |           /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">437</td>
                                    <td class="row-source"><pre>//              |          /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">438</td>
                                    <td class="row-source"><pre>//              |\</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">439</td>
                                    <td class="row-source"><pre>//              | \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">440</td>
                                    <td class="row-source"><pre>//              |  \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">441</td>
                                    <td class="row-source"><pre>//              |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">442</td>
                                    <td class="row-source"><pre>//              |        /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">443</td>
                                    <td class="row-source"><pre>//              |       /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">444</td>
                                    <td class="row-source"><pre>//              |      /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">445</td>
                                    <td class="row-source"><pre>//              |     /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">446</td>
                                    <td class="row-source"><pre>//            0 +----+----+-------+-&gt; q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">447</td>
                                    <td class="row-source"><pre>//           qLower  |    |       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">448</td>
                                    <td class="row-source"><pre>//                   |   q[2]   qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">449</td>
                                    <td class="row-source"><pre>//                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">450</td>
                                    <td class="row-source"><pre>//               qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">451</td>
                                    <td class="row-source"><pre>//    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">452</td>
                                    <td class="row-source"><pre>//    To summarize, reading the curve sequence from the protocol&#39;s storage</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">453</td>
                                    <td class="row-source"><pre>//    gives us access to &#39;qLower&#39;, &#39;qUpper&#39; and the function &#39;w&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">454</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">455</td>
                                    <td class="row-source"><pre>//    The curve sequence is defined for every inactive liquidity interval as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">456</td>
                                    <td class="row-source"><pre>//    well, although we do not need to keep track of them. For every integer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">457</td>
                                    <td class="row-source"><pre>//    &#39;j &gt; 0&#39;, the curve sequence associated with the interval:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">458</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">459</td>
                                    <td class="row-source"><pre>//      &#39;[qLower + j * qSpacing, qUpper + j * qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">460</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">461</td>
                                    <td class="row-source"><pre>//    is composed of only two members:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">462</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">463</td>
                                    <td class="row-source"><pre>//      &#39;q[0] := qUpper + j * qSpacing&#39; </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">464</td>
                                    <td class="row-source"><pre>//      &#39;q[1] := qLower + j * qSpacing&#39;. </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">465</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">466</td>
                                    <td class="row-source"><pre>//    Hence, the function</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">467</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">468</td>
                                    <td class="row-source"><pre>//      &#39;w : [qLower + j * qSpacing, qUpper + j * qSpacing] -&gt; [0, qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">469</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">470</td>
                                    <td class="row-source"><pre>//    corresponding to that interval is defined as:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">471</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">472</td>
                                    <td class="row-source"><pre>//      &#39;w(q) := q - qLower - j * qSpacing&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">473</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">474</td>
                                    <td class="row-source"><pre>//    which is consistent with the prior definition of &#39;w&#39; for the active</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">475</td>
                                    <td class="row-source"><pre>//    interval. Additionally, for every integer &#39;j &lt; 0&#39;, the curve sequence</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">476</td>
                                    <td class="row-source"><pre>//    associated with the interval:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">477</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">478</td>
                                    <td class="row-source"><pre>//      &#39;[qLower + j * qSpacing, qUpper + j * qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">479</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">480</td>
                                    <td class="row-source"><pre>//    is composed of only two members:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">481</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">482</td>
                                    <td class="row-source"><pre>//      &#39;q[0] := qLower + j * qSpacing&#39; </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">483</td>
                                    <td class="row-source"><pre>//      &#39;q[1] := qUpper + j * qSpacing&#39;. </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">484</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">485</td>
                                    <td class="row-source"><pre>//    Hence, the function</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">486</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">487</td>
                                    <td class="row-source"><pre>//      &#39;w : [qLower + j * qSpacing, qUpper + j * qSpacing] -&gt; [0, qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">488</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">489</td>
                                    <td class="row-source"><pre>//    corresponding to that interval is defined as:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">490</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">491</td>
                                    <td class="row-source"><pre>//      &#39;w(q) := qUpper + j * qSpacing - q&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">492</td>
                                    <td class="row-source"><pre>//    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">493</td>
                                    <td class="row-source"><pre>//    which is also consistent with our prior definition.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">494</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">495</td>
                                    <td class="row-source"><pre>//    After reading the curve sequence for the active interval, we store</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">496</td>
                                    <td class="row-source"><pre>//    &#39;qBack&#39; and &#39;qNext&#39; in their dedicated memory spaces in order to keep</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">497</td>
                                    <td class="row-source"><pre>//    track of the boundaries of the active liquidity interval. In the present</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">498</td>
                                    <td class="row-source"><pre>//    example, since the swap is price decreasing, the initial values for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">499</td>
                                    <td class="row-source"><pre>//    &#39;qBack&#39; and &#39;qNext&#39; are as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">500</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">501</td>
                                    <td class="row-source"><pre>//      &#39;qBack := qUpper&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">502</td>
                                    <td class="row-source"><pre>//      &#39;qNext := qLower&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">503</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">504</td>
                                    <td class="row-source"><pre>//    For price increasing swaps, these initial values are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">505</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">506</td>
                                    <td class="row-source"><pre>//      &#39;qBack := qLower&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">507</td>
                                    <td class="row-source"><pre>//      &#39;qNext := qUpper&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">508</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">509</td>
                                    <td class="row-source"><pre>//    As discussed before, &#39;qBack&#39; and &#39;qNext&#39; are continuously updated</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">510</td>
                                    <td class="row-source"><pre>//    throughout the execution of a swap as we transition to new liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">511</td>
                                    <td class="row-source"><pre>//    intervals.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">512</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">513</td>
                                    <td class="row-source"><pre>//  - Next, the kernel function is read from the storage smart contract&#39;s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">514</td>
                                    <td class="row-source"><pre>//    bytecode. To this end, the dynamic parameter &#39;staticParamsStoragePointer&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">515</td>
                                    <td class="row-source"><pre>//    is used to calculate the address to the storage smart contract associated</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">516</td>
                                    <td class="row-source"><pre>//    with the pool whose bytecode contains the kernel function. The kernel,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">517</td>
                                    <td class="row-source"><pre>//    denoted by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">518</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">519</td>
                                    <td class="row-source"><pre>//      &#39;k : [0, qSpacing] -&gt; [0, 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">520</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">521</td>
                                    <td class="row-source"><pre>//    is a monotonically non-decreasing piecewise linear function which is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">522</td>
                                    <td class="row-source"><pre>//    characterized via a list of breakpoints. Each breakpoint has a horizontal</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">523</td>
                                    <td class="row-source"><pre>//    coordinate as well as a vertical coordinate. Consider the following</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">524</td>
                                    <td class="row-source"><pre>//    examples:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">525</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">526</td>
                                    <td class="row-source"><pre>//      - The sequence of breakpoints</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">527</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">528</td>
                                    <td class="row-source"><pre>//          &#39;(0, 0), (qSpacing, 1)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">529</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">530</td>
                                    <td class="row-source"><pre>//        implies that the diagram of &#39;k&#39; is a single segment connecting the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">531</td>
                                    <td class="row-source"><pre>//        point &#39;(0, 0)&#39; to the point &#39;(qSpacing, 1)&#39;. This leads to the kernel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">532</td>
                                    <td class="row-source"><pre>//        function:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">533</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">534</td>
                                    <td class="row-source"><pre>//          &#39;k(h) := h / qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">535</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">536</td>
                                    <td class="row-source"><pre>//      - The sequence of breakpoints</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">537</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">538</td>
                                    <td class="row-source"><pre>//          &#39;(0, 0), (qSpacing / 2, 1), (qSpacing, 1)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">539</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">540</td>
                                    <td class="row-source"><pre>//        implies that the diagram of &#39;k&#39; is composed of two segments:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">541</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">542</td>
                                    <td class="row-source"><pre>//          - The first segment connects the point &#39;(0, 0)&#39; to the point</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">543</td>
                                    <td class="row-source"><pre>//            &#39;(qSpacing / 2, 1)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">544</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">545</td>
                                    <td class="row-source"><pre>//          - The second segment connects the point &#39;(qSpacing / 2, 1)&#39; to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">546</td>
                                    <td class="row-source"><pre>//            point &#39;(qSpacing, 1)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">547</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">548</td>
                                    <td class="row-source"><pre>//        The combination of the two segments leads to the kernel function:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">549</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">550</td>
                                    <td class="row-source"><pre>//                    /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">551</td>
                                    <td class="row-source"><pre>//                   |  2 * h / qSpacing    if 0 &lt; q &lt; qSpacing / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">552</td>
                                    <td class="row-source"><pre>//          &#39;k(h) := |                                                      &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">553</td>
                                    <td class="row-source"><pre>//                   |  1                   if qSpacing / 2 &lt; q &lt; qSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">554</td>
                                    <td class="row-source"><pre>//                    \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">555</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">556</td>
                                    <td class="row-source"><pre>//      - The sequence of breakpoints</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">557</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">558</td>
                                    <td class="row-source"><pre>//          &#39;(0, 0), (qSpacing / 2, 0), (qSpacing / 2, 1 / 2), (qSpacing, 1)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">559</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">560</td>
                                    <td class="row-source"><pre>//        implies that the diagram of &#39;k&#39; is composed of three segments:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">561</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">562</td>
                                    <td class="row-source"><pre>//          - The first segment belongs to the horizontal axis connecting the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">563</td>
                                    <td class="row-source"><pre>//            point &#39;(0, 0)&#39; to the point &#39;(qSpacing / 2, 0)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">564</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">565</td>
                                    <td class="row-source"><pre>//          - The second segment is vertical, connecting the point</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">566</td>
                                    <td class="row-source"><pre>//            &#39;(qSpacing / 2, 0)&#39; to the point &#39;(qSpacing / 2, 1 / 2)&#39;. A</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">567</td>
                                    <td class="row-source"><pre>//            vertical segment (i.e., two consecutive breakpoints with equal</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">568</td>
                                    <td class="row-source"><pre>//            horizontal coordinates) indicates that the kernel function is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">569</td>
                                    <td class="row-source"><pre>//            discontinuous which is permitted by the protocol. In this case,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">570</td>
                                    <td class="row-source"><pre>//            we have a discontinuity at point &#39;qSpacing / 2&#39; because:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">571</td>
                                    <td class="row-source"><pre>//            </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">572</td>
                                    <td class="row-source"><pre>//              &#39;0 == k(qSpacing / 2 - epsilon) != </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">573</td>
                                    <td class="row-source"><pre>//                    k(qSpacing / 2 + epsilon) == 1 / 2 + epsilon / qSpacing&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">574</td>
                                    <td class="row-source"><pre>//            </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">575</td>
                                    <td class="row-source"><pre>//            where &#39;epsilon &gt; 0&#39; is an arbitrarily small value approaching 0.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">576</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">577</td>
                                    <td class="row-source"><pre>//          - The third segment connects the point &#39;(qSpacing / 2, 1 / 2)&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">578</td>
                                    <td class="row-source"><pre>//            the point &#39;(qSpacing, 1)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">579</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">580</td>
                                    <td class="row-source"><pre>//        The combination of the three segments leads to the kernel function:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">581</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">582</td>
                                    <td class="row-source"><pre>//                    /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">583</td>
                                    <td class="row-source"><pre>//                   |  0               if 0 &lt; q &lt; qSpacing / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">584</td>
                                    <td class="row-source"><pre>//          &#39;k(h) := |                                                  &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">585</td>
                                    <td class="row-source"><pre>//                   |  h / qSpacing    if qSpacing / 2 &lt; q &lt; qSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">586</td>
                                    <td class="row-source"><pre>//                    \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">587</td>
                                    <td class="row-source"><pre>//    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">588</td>
                                    <td class="row-source"><pre>//    Hence, reading the kernel breakpoints from the storage smart contract</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">589</td>
                                    <td class="row-source"><pre>//    gives us access to the function &#39;k&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">590</td>
                                    <td class="row-source"><pre>//    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">591</td>
                                    <td class="row-source"><pre>//    Define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">592</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">593</td>
                                    <td class="row-source"><pre>//      &#39;k(w(.)) : [qLower, qUpper] -&gt; [0, 1]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">594</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">595</td>
                                    <td class="row-source"><pre>//    as the liquidity distribution function. As we will demonstrate next, one</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">596</td>
                                    <td class="row-source"><pre>//    can determine the outgoing amount from the pool and the incoming amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">597</td>
                                    <td class="row-source"><pre>//    to the pool by integrating the liquidity distribution function. More</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">598</td>
                                    <td class="row-source"><pre>//    precisely, consider a swap that involves a movement of price from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">599</td>
                                    <td class="row-source"><pre>//    &#39;qCurrent&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">600</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">601</td>
                                    <td class="row-source"><pre>//      &#39;qTarget := log(pTarget / pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">602</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">603</td>
                                    <td class="row-source"><pre>//    within the same active liquidity interval, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">604</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">605</td>
                                    <td class="row-source"><pre>//      &#39;qLower &lt;= qTarget &lt;= qUpper&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">606</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">607</td>
                                    <td class="row-source"><pre>//    If &#39;qCurrent &lt; qTarget, then the outgoing amount of &#39;tag0&#39; as a result of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">608</td>
                                    <td class="row-source"><pre>//    this movement is proportional to the following integration of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">609</td>
                                    <td class="row-source"><pre>//    liquidity distribution function:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">610</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">611</td>
                                    <td class="row-source"><pre>//                               - 8     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">612</td>
                                    <td class="row-source"><pre>//        currentToTarget      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">613</td>
                                    <td class="row-source"><pre>//      &#39;----------------- := ------- * |  e         k(w(h)) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">614</td>
                                    <td class="row-source"><pre>//           2 ** 216            2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">615</td>
                                    <td class="row-source"><pre>//                                     / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">616</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">617</td>
                                    <td class="row-source"><pre>//    In this case, the incoming amount of &#39;tag1&#39; as a result of this movement</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">618</td>
                                    <td class="row-source"><pre>//    is proportional to the following integration of the liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">619</td>
                                    <td class="row-source"><pre>//    distribution function:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">620</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">621</td>
                                    <td class="row-source"><pre>//                                       - 8     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">622</td>
                                    <td class="row-source"><pre>//        incomingCurrentToTarget      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">623</td>
                                    <td class="row-source"><pre>//      &#39;------------------------- := ------- * |  e         k(w(h)) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">624</td>
                                    <td class="row-source"><pre>//               2 ** 216                2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">625</td>
                                    <td class="row-source"><pre>//                                             / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">626</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">627</td>
                                    <td class="row-source"><pre>//    On the other hand, if &#39;qTarget &lt; qCurrent&#39;, then the outgoing amount of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">628</td>
                                    <td class="row-source"><pre>//    &#39;tag1&#39; and the incoming amount of &#39;tag0&#39;, respectively, are proportional</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">629</td>
                                    <td class="row-source"><pre>//    to the following integrations of the liquidity distribution function:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">630</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">631</td>
                                    <td class="row-source"><pre>//                               - 8     / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">632</td>
                                    <td class="row-source"><pre>//        currentToTarget      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">633</td>
                                    <td class="row-source"><pre>//      &#39;----------------- := ------- * |  e         k(w(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">634</td>
                                    <td class="row-source"><pre>//           2 ** 216            2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">635</td>
                                    <td class="row-source"><pre>//                                     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">636</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">637</td>
                                    <td class="row-source"><pre>//                                       - 8     / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">638</td>
                                    <td class="row-source"><pre>//        incomingCurrentToTarget      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">639</td>
                                    <td class="row-source"><pre>//      &#39;------------------------- := ------- * |  e         k(w(h)) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">640</td>
                                    <td class="row-source"><pre>//                2 ** 216               2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">641</td>
                                    <td class="row-source"><pre>//                                             / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">642</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">643</td>
                                    <td class="row-source"><pre>//    Now, imagine a scenario where we want to move all the way from &#39;qCurrent&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">644</td>
                                    <td class="row-source"><pre>//    to &#39;qUpper&#39; which is a price increasing swap. Hence, in this case, the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">645</td>
                                    <td class="row-source"><pre>//    outgoing amount of &#39;tag0&#39; is proportional to:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">646</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">647</td>
                                    <td class="row-source"><pre>//                         - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">648</td>
                                    <td class="row-source"><pre>//        integral0      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">649</td>
                                    <td class="row-source"><pre>//      &#39;----------- := ------- * |  e         k(w(h)) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">650</td>
                                    <td class="row-source"><pre>//        2 ** 216         2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">651</td>
                                    <td class="row-source"><pre>//                               / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">652</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">653</td>
                                    <td class="row-source"><pre>//    Observe that moving from &#39;qCurrent&#39; to &#39;qUpper&#39; depletes the entire</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">654</td>
                                    <td class="row-source"><pre>//    reserve of &#39;tag0&#39;, within the interval &#39;[qLower, qUpper]&#39; (because we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">655</td>
                                    <td class="row-source"><pre>//    cannot go further than that without transitioning to a new interval).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">656</td>
                                    <td class="row-source"><pre>//    Hence, the total reserve of &#39;tag0&#39; within the interval &#39;[qLower, qUpper]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">657</td>
                                    <td class="row-source"><pre>//    is proportional to &#39;integral0&#39; which is given by the above formula.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">658</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">659</td>
                                    <td class="row-source"><pre>//    Similarly, imagine a scenario where we want to move all the way from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">660</td>
                                    <td class="row-source"><pre>//    &#39;qCurrent&#39; to &#39;qLower&#39; which is a price decreasing swap. Hence, in this</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">661</td>
                                    <td class="row-source"><pre>//    case, the outgoing amount of &#39;tag1&#39; is proportional to:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">662</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">663</td>
                                    <td class="row-source"><pre>//                         - 8     / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">664</td>
                                    <td class="row-source"><pre>//        integral1      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">665</td>
                                    <td class="row-source"><pre>//      &#39;----------- := ------- * |  e         k(w(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">666</td>
                                    <td class="row-source"><pre>//        2 ** 216         2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">667</td>
                                    <td class="row-source"><pre>//                               / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">668</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">669</td>
                                    <td class="row-source"><pre>//    Observe that moving from &#39;qCurrent&#39; to &#39;qLower&#39; depletes the entire</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">670</td>
                                    <td class="row-source"><pre>//    reserve of &#39;tag1&#39;, within the interval &#39;[qLower, qUpper]&#39; (because we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">671</td>
                                    <td class="row-source"><pre>//    cannot go further than that without transitioning to a new interval).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">672</td>
                                    <td class="row-source"><pre>//    Hence, the total reserve of &#39;tag1&#39; within the interval &#39;[qLower, qUpper]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">673</td>
                                    <td class="row-source"><pre>//    is proportional to &#39;integral1&#39; which is given by the above formula.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">674</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">675</td>
                                    <td class="row-source"><pre>//    The values &#39;integral0&#39; and &#39;integral1&#39; are stored among the dynamic</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">676</td>
                                    <td class="row-source"><pre>//    parameters. This is because storing and updating them with every swap is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">677</td>
                                    <td class="row-source"><pre>//    more gas efficient than recalculating them.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">678</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">679</td>
                                    <td class="row-source"><pre>//    To summarize, in order to execute a swap,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">680</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">681</td>
                                    <td class="row-source"><pre>//      - the function &#39;w&#39; is formed by reading the members of the curve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">682</td>
                                    <td class="row-source"><pre>//        sequence from the protocol&#39;s storage,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">683</td>
                                    <td class="row-source"><pre>//   </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">684</td>
                                    <td class="row-source"><pre>//      - the kernel function &#39;k&#39; is formed by reading its breakpoints from the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">685</td>
                                    <td class="row-source"><pre>//        pool&#39;s storage smart contract, and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">686</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">687</td>
                                    <td class="row-source"><pre>//      - the outgoing amount from the pool and the incoming amount to the pool</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">688</td>
                                    <td class="row-source"><pre>//        are determined by integrating the liquidity distribution function</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">689</td>
                                    <td class="row-source"><pre>//        &#39;k(w(.))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">690</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">691</td>
                                    <td class="row-source"><pre>//    An alternative way to look at the notion of liquidity distribution is to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">692</td>
                                    <td class="row-source"><pre>//    imagine a traditional automated market making (AMM) diagram as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">693</td>
                                    <td class="row-source"><pre>//    illustrated below:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">694</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">695</td>
                                    <td class="row-source"><pre>//                tag1   pUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">696</td>
                                    <td class="row-source"><pre>//                  ^   /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">697</td>
                                    <td class="row-source"><pre>//                  |  /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">698</td>
                                    <td class="row-source"><pre>//                  | /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">699</td>
                                    <td class="row-source"><pre>//                  *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">700</td>
                                    <td class="row-source"><pre>//                  |.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">701</td>
                                    <td class="row-source"><pre>//                  | .</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">702</td>
                                    <td class="row-source"><pre>//                  |  .    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">703</td>
                                    <td class="row-source"><pre>//                  |   .           pCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">704</td>
                                    <td class="row-source"><pre>//                  |     .        /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">705</td>
                                    <td class="row-source"><pre>//                  |       .     /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">706</td>
                                    <td class="row-source"><pre>//                  |         .  /           pTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">707</td>
                                    <td class="row-source"><pre>//        integral1 + - - - - - *           /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">708</td>
                                    <td class="row-source"><pre>//                  |           |  .       /         pLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">709</td>
                                    <td class="row-source"><pre>//                  |           |     .   /         /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">710</td>
                                    <td class="row-source"><pre>//                  |           |        *         /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">711</td>
                                    <td class="row-source"><pre>//                  |           |            .    /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">712</td>
                                    <td class="row-source"><pre>//                  +-----------+----------------*----&gt; tag0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">713</td>
                                    <td class="row-source"><pre>//                              |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">714</td>
                                    <td class="row-source"><pre>//                          integral0 </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">715</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">716</td>
                                    <td class="row-source"><pre>//    where the horizontal and vertical coordinates, respectively, correspond</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">717</td>
                                    <td class="row-source"><pre>//    to the reserves of &#39;tag0&#39; and &#39;tag1&#39;, in the active liquidity interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">718</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">719</td>
                                    <td class="row-source"><pre>//    Remember that the current reserve of &#39;tag0&#39; in &#39;[qLower, qUpper]&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">720</td>
                                    <td class="row-source"><pre>//    proportional to &#39;integral0&#39; and the current reserve of &#39;tag1&#39; in the same</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">721</td>
                                    <td class="row-source"><pre>//    interval is proportional to &#39;integral1&#39;. Because of this, the point</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">722</td>
                                    <td class="row-source"><pre>//    &#39;(integral0, integral1)&#39; in the above diagram is indicated as &#39;pCurrent&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">723</td>
                                    <td class="row-source"><pre>//    which is the current price of the pool. As a result, &#39;0 - pCurrent&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">724</td>
                                    <td class="row-source"><pre>//    equal to the slope of the diagram at the point &#39;(integral0, integral1)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">725</td>
                                    <td class="row-source"><pre>//    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">726</td>
                                    <td class="row-source"><pre>//    A swapper is permitted to move to any point that belongs to the above</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">727</td>
                                    <td class="row-source"><pre>//    diagram by giving or taking appropriate amounts of &#39;tag0&#39; and &#39;tag1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">728</td>
                                    <td class="row-source"><pre>//    When a swapper moves on the above diagram we calculate the outgoing and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">729</td>
                                    <td class="row-source"><pre>//    incoming amounts of &#39;tag0&#39; and &#39;tag1&#39; by computing the two integrals</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">730</td>
                                    <td class="row-source"><pre>//    &#39;currentToTarget&#39; and &#39;incomingCurrentToTarget&#39;. In short, the shape of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">731</td>
                                    <td class="row-source"><pre>//    the above diagram is determined by the liquidity distribution function</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">732</td>
                                    <td class="row-source"><pre>//    &#39;k(w(.))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">733</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">734</td>
                                    <td class="row-source"><pre>//    As we will discuss later in this script, after a movement to &#39;pTarget&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">735</td>
                                    <td class="row-source"><pre>//    the curve sequence is amended in preparation for the next swap which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">736</td>
                                    <td class="row-source"><pre>//    renders a different liquidity distribution function. Such amendment also</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">737</td>
                                    <td class="row-source"><pre>//    leads to a new AMM diagram with the following properties:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">738</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">739</td>
                                    <td class="row-source"><pre>//    - The new diagram intersects with the old one at the point &#39;pTarget&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">740</td>
                                    <td class="row-source"><pre>//      This is due to the conservation of interval reserves.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">741</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">742</td>
                                    <td class="row-source"><pre>//    - The new diagram is tangent to the old one at point &#39;pTarget&#39;. This is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">743</td>
                                    <td class="row-source"><pre>//      because our transition to a new AMM diagram should not change the price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">744</td>
                                    <td class="row-source"><pre>//      of the pool, i.e., the slopes of the new diagrams should be the same as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">745</td>
                                    <td class="row-source"><pre>//      the old diagrams at the intersection point which means that the two are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">746</td>
                                    <td class="row-source"><pre>//      tangent.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">747</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">748</td>
                                    <td class="row-source"><pre>//    The proposed structure for the kernel function enables the pool creators</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">749</td>
                                    <td class="row-source"><pre>//    to build custom AMM diagrams. Additionally, the proposed structure for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">750</td>
                                    <td class="row-source"><pre>//    the curve sequence allows the protocol to keep track of AMM diagrams,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">751</td>
                                    <td class="row-source"><pre>//    efficiently. In other words, the curve sequence and the kernel function</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">752</td>
                                    <td class="row-source"><pre>//    provide us with an efficient method to store the geometry of AMM diagrams</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">753</td>
                                    <td class="row-source"><pre>//    and to transform them into new ones.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">754</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">755</td>
                                    <td class="row-source"><pre>//    Now, in order to derive the outgoing and incoming amounts from the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">756</td>
                                    <td class="row-source"><pre>//    integral values &#39;currentToTarget&#39; and &#39;incomingCurrentToTarget&#39; we need</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">757</td>
                                    <td class="row-source"><pre>//    to access the static parameters that are explained next.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">758</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">759</td>
                                    <td class="row-source"><pre>//  - The static parameters of the pool are read from the same storage smart </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">760</td>
                                    <td class="row-source"><pre>//    contract whose address is calculated using the dynamic parameter</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">761</td>
                                    <td class="row-source"><pre>//    &#39;staticParamsStoragePointer&#39;. This includes the following parameters:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">762</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">763</td>
                                    <td class="row-source"><pre>//    - &#39;sqrtOffset&#39;: This is the square root of &#39;pOffset&#39; in &#39;X127&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">764</td>
                                    <td class="row-source"><pre>//      representation, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">765</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">766</td>
                                    <td class="row-source"><pre>//        &#39;sqrtOffset := (2 ** 127) * sqrt(pOffset)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">767</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">768</td>
                                    <td class="row-source"><pre>//      This value is used frequently for calculating any amount of &#39;tag1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">769</td>
                                    <td class="row-source"><pre>//      Because of this, we calculate it at the time of initialization and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">770</td>
                                    <td class="row-source"><pre>//      store it among the static parameters.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">771</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">772</td>
                                    <td class="row-source"><pre>//    - &#39;sqrtInverseOffset&#39;: This is the square root of &#39;1 / pOffset&#39; in &#39;X127&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">773</td>
                                    <td class="row-source"><pre>//      representation, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">774</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">775</td>
                                    <td class="row-source"><pre>//        &#39;sqrtInverseOffset := (2 ** 127) / sqrt(pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">776</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">777</td>
                                    <td class="row-source"><pre>//      This value is used frequently for calculating any amount of &#39;tag0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">778</td>
                                    <td class="row-source"><pre>//      Because of this, we calculate it at the time of initialization and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">779</td>
                                    <td class="row-source"><pre>//      store it among the static parameters.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">780</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">781</td>
                                    <td class="row-source"><pre>//    - &#39;outgoingMax&#39;: This value is a kernel parameter in &#39;X216&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">782</td>
                                    <td class="row-source"><pre>//      representation which is defined as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">783</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">784</td>
                                    <td class="row-source"><pre>//                             - 8     / qSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">785</td>
                                    <td class="row-source"><pre>//          outgoingMax      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">786</td>
                                    <td class="row-source"><pre>//        &#39;------------- := ------- * |  e         k(h) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">787</td>
                                    <td class="row-source"><pre>//           2 ** 216          2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">788</td>
                                    <td class="row-source"><pre>//                                   / 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">789</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">790</td>
                                    <td class="row-source"><pre>//      &#39;outgoingMax&#39; is used frequently for calculating any amount of &#39;tag0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">791</td>
                                    <td class="row-source"><pre>//      and &#39;tag1&#39;. Because of this, we calculate &#39;outgoingMax&#39; and its modular</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">792</td>
                                    <td class="row-source"><pre>//      inverse at the time of initialization or anytime that the kernel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">793</td>
                                    <td class="row-source"><pre>//      function is modified and then we store the resulting values among the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">794</td>
                                    <td class="row-source"><pre>//      static parameters.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">795</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">796</td>
                                    <td class="row-source"><pre>//      Now, we have all of the parameters that are needed to calculate the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">797</td>
                                    <td class="row-source"><pre>//      outgoing amount from the pool and the incoming amount to the pool as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">798</td>
                                    <td class="row-source"><pre>//      long as we remain within the current active liquidity interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">799</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">800</td>
                                    <td class="row-source"><pre>//      For a price increasing swap we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">801</td>
                                    <td class="row-source"><pre>//                                                               growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">802</td>
                                    <td class="row-source"><pre>//        &#39;amount0Partial := sqrtInverseOffset * sharesTotal * ---------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">803</td>
                                    <td class="row-source"><pre>//                                                              2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">804</td>
                                    <td class="row-source"><pre>//                            currentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">805</td>
                                    <td class="row-source"><pre>//                           -----------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">806</td>
                                    <td class="row-source"><pre>//                              outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">807</td>
                                    <td class="row-source"><pre>//                                                        growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">808</td>
                                    <td class="row-source"><pre>//        &#39;amount1Partial := sqrtOffset * sharesTotal * ---------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">809</td>
                                    <td class="row-source"><pre>//                                                       2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">810</td>
                                    <td class="row-source"><pre>//                            incomingCurrentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">811</td>
                                    <td class="row-source"><pre>//                           -------------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">812</td>
                                    <td class="row-source"><pre>//                                  outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">813</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">814</td>
                                    <td class="row-source"><pre>//      where &#39;amount0Partial&#39; denotes the amount of outgoing &#39;tag0&#39; from the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">815</td>
                                    <td class="row-source"><pre>//      pool and &#39;amount1Partial&#39; denotes the amount of incoming &#39;tag1&#39; to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">816</td>
                                    <td class="row-source"><pre>//      pool, as a result of swapping within the active liquidity interval,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">817</td>
                                    <td class="row-source"><pre>//      where both of the amounts are in &#39;X127&#39; representation.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">818</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">819</td>
                                    <td class="row-source"><pre>//      Similarly, for a price decreasing swap we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">820</td>
                                    <td class="row-source"><pre>//                                                               growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">821</td>
                                    <td class="row-source"><pre>//        &#39;amount0Partial := sqrtInverseOffset * sharesTotal * ---------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">822</td>
                                    <td class="row-source"><pre>//                                                              2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">823</td>
                                    <td class="row-source"><pre>//                            incomingCurrentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">824</td>
                                    <td class="row-source"><pre>//                           -------------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">825</td>
                                    <td class="row-source"><pre>//                                  outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">826</td>
                                    <td class="row-source"><pre>//                                                        growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">827</td>
                                    <td class="row-source"><pre>//        &#39;amount1Partial := sqrtOffset * sharesTotal * ---------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">828</td>
                                    <td class="row-source"><pre>//                                                       2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">829</td>
                                    <td class="row-source"><pre>//                            currentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">830</td>
                                    <td class="row-source"><pre>//                           -----------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">831</td>
                                    <td class="row-source"><pre>//                              outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">832</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">833</td>
                                    <td class="row-source"><pre>//      where &#39;amount0Partial&#39; denotes the amount of incoming &#39;tag0&#39; to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">834</td>
                                    <td class="row-source"><pre>//      pool and &#39;amount1Partial&#39; denotes the amount of outgoing &#39;tag1&#39; from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">835</td>
                                    <td class="row-source"><pre>//      the pool, as a result of swapping within the active liquidity interval,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">836</td>
                                    <td class="row-source"><pre>//      where both of the amounts are in &#39;X127&#39; representation.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">837</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">838</td>
                                    <td class="row-source"><pre>//    - &#39;incomingMax&#39;: This value is a kernel parameter in &#39;X216&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">839</td>
                                    <td class="row-source"><pre>//      representation which is defined as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">840</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">841</td>
                                    <td class="row-source"><pre>//                             - 8 - qSpacing / 2     / qSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">842</td>
                                    <td class="row-source"><pre>//          incomingMax      e                       |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">843</td>
                                    <td class="row-source"><pre>//        &#39;------------- := ---------------------- * |  e         k(h) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">844</td>
                                    <td class="row-source"><pre>//           2 ** 216                  2             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">845</td>
                                    <td class="row-source"><pre>//                                                  / 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">846</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">847</td>
                                    <td class="row-source"><pre>//      Consider a scenario where the price of the pool is moved all the way</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">848</td>
                                    <td class="row-source"><pre>//      from the left interval boundary &#39;qLower&#39;, to the right interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">849</td>
                                    <td class="row-source"><pre>//      boundary &#39;qUpper&#39;, as part of a swap. In this case, let </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">850</td>
                                    <td class="row-source"><pre>//      &#39;amount0Partial&#39; denote the amount of outgoing &#39;tag0&#39; from the pool and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">851</td>
                                    <td class="row-source"><pre>//      let &#39;amount1Partial&#39; denote the amount of incoming &#39;tag1&#39; to the pool,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">852</td>
                                    <td class="row-source"><pre>//      as a result of swapping within the entire interval, &#39;[qLower, qUpper]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">853</td>
                                    <td class="row-source"><pre>//      where both of the amounts are in &#39;X127&#39; representation. Then, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">854</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">855</td>
                                    <td class="row-source"><pre>//        &#39;amount0Partial ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">856</td>
                                    <td class="row-source"><pre>//                                             growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">857</td>
                                    <td class="row-source"><pre>//         sqrtInverseOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">858</td>
                                    <td class="row-source"><pre>//                                            2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">859</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">860</td>
                                    <td class="row-source"><pre>//                            - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">861</td>
                                    <td class="row-source"><pre>//           2 ** 216       e        |                     - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">862</td>
                                    <td class="row-source"><pre>//         ------------- * ------- * |   k(h - qLower) * e         dh ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">863</td>
                                    <td class="row-source"><pre>//          outgoingMax       2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">864</td>
                                    <td class="row-source"><pre>//                                  / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">865</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">866</td>
                                    <td class="row-source"><pre>//                                             growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">867</td>
                                    <td class="row-source"><pre>//         sqrtInverseOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">868</td>
                                    <td class="row-source"><pre>//                                            2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">869</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">870</td>
                                    <td class="row-source"><pre>//                            - 8 - qLower / 2     / qSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">871</td>
                                    <td class="row-source"><pre>//           2 ** 216       e                     |            - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">872</td>
                                    <td class="row-source"><pre>//         ------------- * -------------------- * |   k(h) * e         dh ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">873</td>
                                    <td class="row-source"><pre>//          outgoingMax              2            |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">874</td>
                                    <td class="row-source"><pre>//                                               / 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">875</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">876</td>
                                    <td class="row-source"><pre>//                                             growth       - qLower / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">877</td>
                                    <td class="row-source"><pre>//         sqrtInverseOffset * sharesTotal * ---------- * e              &#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">878</td>
                                    <td class="row-source"><pre>//                                            2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">879</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">880</td>
                                    <td class="row-source"><pre>//      and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">881</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">882</td>
                                    <td class="row-source"><pre>//        &#39;amount1Partial ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">883</td>
                                    <td class="row-source"><pre>//                                      growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">884</td>
                                    <td class="row-source"><pre>//         sqrtOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">885</td>
                                    <td class="row-source"><pre>//                                     2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">886</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">887</td>
                                    <td class="row-source"><pre>//                            - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">888</td>
                                    <td class="row-source"><pre>//           2 ** 216       e        |                     + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">889</td>
                                    <td class="row-source"><pre>//         ------------- * ------- * |   k(h - qLower) * e         dh ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">890</td>
                                    <td class="row-source"><pre>//          outgoingMax       2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">891</td>
                                    <td class="row-source"><pre>//                                  / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">892</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">893</td>
                                    <td class="row-source"><pre>//                                      growth       2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">894</td>
                                    <td class="row-source"><pre>//         sqrtOffset * sharesTotal * ---------- * ------------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">895</td>
                                    <td class="row-source"><pre>//                                     2 ** 111     outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">896</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">897</td>
                                    <td class="row-source"><pre>//            - 8 + (qUpper - qSpacing) / 2     / qSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">898</td>
                                    <td class="row-source"><pre>//          e                                  |            + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">899</td>
                                    <td class="row-source"><pre>//         --------------------------------- * |   k(h) * e         dh ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">900</td>
                                    <td class="row-source"><pre>//                         2                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">901</td>
                                    <td class="row-source"><pre>//                                            / 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">902</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">903</td>
                                    <td class="row-source"><pre>//                                      growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">904</td>
                                    <td class="row-source"><pre>//         sqrtOffset * sharesTotal * ---------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">905</td>
                                    <td class="row-source"><pre>//                                     2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">906</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">907</td>
                                    <td class="row-source"><pre>//          incomingMax      + qUpper / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">908</td>
                                    <td class="row-source"><pre>//         ------------- * e              &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">909</td>
                                    <td class="row-source"><pre>//          outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">910</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">911</td>
                                    <td class="row-source"><pre>//      Consider another scenario where the price of the pool is moved all the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">912</td>
                                    <td class="row-source"><pre>//      way from the right interval boundary &#39;qUpper&#39;, to the left interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">913</td>
                                    <td class="row-source"><pre>//      boundary &#39;qLower&#39;, as part of a swap. In this case, let</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">914</td>
                                    <td class="row-source"><pre>//      &#39;amount1Partial&#39; denote the amount of outgoing &#39;tag1&#39; from the pool and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">915</td>
                                    <td class="row-source"><pre>//      let &#39;amount0Partial&#39; denote the amount of incoming &#39;tag0&#39; to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">916</td>
                                    <td class="row-source"><pre>//      pool, as a result of swapping within the the entire interval,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">917</td>
                                    <td class="row-source"><pre>//      &#39;[qLower, qUpper]&#39; where both of the amounts are in &#39;X127&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">918</td>
                                    <td class="row-source"><pre>//      representation. Then, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">919</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">920</td>
                                    <td class="row-source"><pre>//        &#39;amount1Partial ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">921</td>
                                    <td class="row-source"><pre>//                                      growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">922</td>
                                    <td class="row-source"><pre>//         sqrtOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">923</td>
                                    <td class="row-source"><pre>//                                     2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">924</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">925</td>
                                    <td class="row-source"><pre>//                            - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">926</td>
                                    <td class="row-source"><pre>//           2 ** 216       e        |                     + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">927</td>
                                    <td class="row-source"><pre>//         ------------- * ------- * |   k(qUpper - h) * e         dh ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">928</td>
                                    <td class="row-source"><pre>//          outgoingMax       2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">929</td>
                                    <td class="row-source"><pre>//                                  / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">930</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">931</td>
                                    <td class="row-source"><pre>//                                      growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">932</td>
                                    <td class="row-source"><pre>//         sqrtOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">933</td>
                                    <td class="row-source"><pre>//                                     2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">934</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">935</td>
                                    <td class="row-source"><pre>//                            - 8 + qUpper / 2     / qSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">936</td>
                                    <td class="row-source"><pre>//           2 ** 216       e                     |            - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">937</td>
                                    <td class="row-source"><pre>//         ------------- * -------------------- * |   k(h) * e         dh ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">938</td>
                                    <td class="row-source"><pre>//          outgoingMax              2            |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">939</td>
                                    <td class="row-source"><pre>//                                               / 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">940</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">941</td>
                                    <td class="row-source"><pre>//                                      growth       + qUpper / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">942</td>
                                    <td class="row-source"><pre>//         sqrtOffset * sharesTotal * ---------- * e              &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">943</td>
                                    <td class="row-source"><pre>//                                     2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">944</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">945</td>
                                    <td class="row-source"><pre>//      and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">946</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">947</td>
                                    <td class="row-source"><pre>//        &#39;amount0Partial ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">948</td>
                                    <td class="row-source"><pre>//                                             growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">949</td>
                                    <td class="row-source"><pre>//         sqrtInverseOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">950</td>
                                    <td class="row-source"><pre>//                                            2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">951</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">952</td>
                                    <td class="row-source"><pre>//                            - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">953</td>
                                    <td class="row-source"><pre>//           2 ** 216       e        |                     - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">954</td>
                                    <td class="row-source"><pre>//         ------------- * ------- * |   k(qUpper - h) * e         dh ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">955</td>
                                    <td class="row-source"><pre>//          outgoingMax       2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">956</td>
                                    <td class="row-source"><pre>//                                  / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">957</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">958</td>
                                    <td class="row-source"><pre>//                                             growth       2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">959</td>
                                    <td class="row-source"><pre>//         sqrtInverseOffset * sharesTotal * ---------- * ------------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">960</td>
                                    <td class="row-source"><pre>//                                            2 ** 111     outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">961</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">962</td>
                                    <td class="row-source"><pre>//            - 8 - (qLower + qSpacing) / 2     / qSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">963</td>
                                    <td class="row-source"><pre>//          e                                  |            + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">964</td>
                                    <td class="row-source"><pre>//         --------------------------------- * |   k(h) * e         dh ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">965</td>
                                    <td class="row-source"><pre>//                          2                  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">966</td>
                                    <td class="row-source"><pre>//                                            / 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">967</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">968</td>
                                    <td class="row-source"><pre>//                                             growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">969</td>
                                    <td class="row-source"><pre>//         sqrtInverseOffset * sharesTotal * ---------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">970</td>
                                    <td class="row-source"><pre>//                                            2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">971</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">972</td>
                                    <td class="row-source"><pre>//          incomingMax      - qLower / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">973</td>
                                    <td class="row-source"><pre>//         ------------- * e              &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">974</td>
                                    <td class="row-source"><pre>//          outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">975</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">976</td>
                                    <td class="row-source"><pre>//      Hence, in order to facilitate the calculation of &#39;amount0Partial&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">977</td>
                                    <td class="row-source"><pre>//      &#39;amount1Partial&#39; in such scenarios, we calculate &#39;incomingMax&#39; at the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">978</td>
                                    <td class="row-source"><pre>//      time of initialization or anytime that the kernel function is modified</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">979</td>
                                    <td class="row-source"><pre>//      and then we store the resulting value among the static parameters.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">980</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">981</td>
                                    <td class="row-source"><pre>//      Lastly, we are going to prove the inequality</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">982</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">983</td>
                                    <td class="row-source"><pre>//        &#39;incomingMax &gt;= outgoingMax&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">984</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">985</td>
                                    <td class="row-source"><pre>//      which will be used later in this script. According to the definitions</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">986</td>
                                    <td class="row-source"><pre>//      for &#39;outgoingMax&#39; and &#39;incomingMax&#39;, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">987</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">988</td>
                                    <td class="row-source"><pre>//                             - 8 - qSpacing / 2     / qSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">989</td>
                                    <td class="row-source"><pre>//          incomingMax      e                       |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">990</td>
                                    <td class="row-source"><pre>//        &#39;------------- := ---------------------- * |  e         k(h) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">991</td>
                                    <td class="row-source"><pre>//           2 ** 216                  2             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">992</td>
                                    <td class="row-source"><pre>//                                                  / 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">993</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">994</td>
                                    <td class="row-source"><pre>//                             - 8     / qSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">995</td>
                                    <td class="row-source"><pre>//                           e        |             - (qSpacing - h) / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">996</td>
                                    <td class="row-source"><pre>//                       == ------- * |    k(h) * e                      dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">997</td>
                                    <td class="row-source"><pre>//                             2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">998</td>
                                    <td class="row-source"><pre>//                                   / 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">999</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1000</td>
                                    <td class="row-source"><pre>//                             - 8     / qSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1001</td>
                                    <td class="row-source"><pre>//                           e        |           - h / 2        outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1002</td>
                                    <td class="row-source"><pre>//                       &gt;= ------- * |  k(h) * e         dh == -------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1003</td>
                                    <td class="row-source"><pre>//                             2      |                           2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1004</td>
                                    <td class="row-source"><pre>//                                   / 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1005</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1006</td>
                                    <td class="row-source"><pre>//      which is concluded from Hardy–Littlewood inequality and the fact that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1007</td>
                                    <td class="row-source"><pre>//      &#39;exp(- (qSpacing - h) / 2)&#39; is an increasing rearrangement of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1008</td>
                                    <td class="row-source"><pre>//      &#39;exp(- h / 2)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1009</td>
                                    <td class="row-source"><pre>//  </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1010</td>
                                    <td class="row-source"><pre>//  - In the previous steps we read the dynamic parameters, the curve sequence,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1011</td>
                                    <td class="row-source"><pre>//    the kernel function, and the static parameters. The next step is to move</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1012</td>
                                    <td class="row-source"><pre>//    the price towards &#39;qNext&#39; until any of the following conditions are met:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1013</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1014</td>
                                    <td class="row-source"><pre>//    (a) &#39;amountSpecified&#39; is fulfilled, after which the swap is halted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1015</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1016</td>
                                    <td class="row-source"><pre>//    (b) &#39;qLimit&#39; is reached, after which the swap is halted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1017</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1018</td>
                                    <td class="row-source"><pre>//    (c) &#39;qNext&#39; is reached, after which we transition to a new interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1019</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1020</td>
                                    <td class="row-source"><pre>//    Before doing so, we need to verify the condition,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1021</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1022</td>
                                    <td class="row-source"><pre>//      &#39;sharesTotal &gt;= crossThreshold&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1023</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1024</td>
                                    <td class="row-source"><pre>//    If true, we move the price within the current interval, if not we halt</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1025</td>
                                    <td class="row-source"><pre>//    the swap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1026</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1027</td>
                                    <td class="row-source"><pre>//    As we move the price from &#39;qCurrent&#39; towards &#39;qNext&#39;, the integrals</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1028</td>
                                    <td class="row-source"><pre>//    &#39;currentToTarget&#39; and &#39;incomingCurrentToTarget&#39; are continuously</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1029</td>
                                    <td class="row-source"><pre>//    incremented as they are cumulatively calculated piece by piece. This</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1030</td>
                                    <td class="row-source"><pre>//    process involves exploring the liquidity distribution function &#39;k(w(h))&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1031</td>
                                    <td class="row-source"><pre>//    within the active liquidity interval. Since &#39;k(w(.))&#39; is a piecewise</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1032</td>
                                    <td class="row-source"><pre>//    linear function, we proceed piece by piece and we increment both</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1033</td>
                                    <td class="row-source"><pre>//    &#39;currentToTarget&#39; and &#39;incomingCurrentToTarget&#39; as we move forward. The</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1034</td>
                                    <td class="row-source"><pre>//    process of exploring &#39;k(w(.))&#39; is explained later in this script and in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1035</td>
                                    <td class="row-source"><pre>//    &#39;Interval.sol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1036</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1037</td>
                                    <td class="row-source"><pre>//    In the present example, since &#39;zeroForOne == True&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1038</td>
                                    <td class="row-source"><pre>//    &#39;amountSpecified == +oo &gt; 0&#39;, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1039</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1040</td>
                                    <td class="row-source"><pre>//      &#39;zeroForOne == exactInput&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1041</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1042</td>
                                    <td class="row-source"><pre>//    which indicates that &#39;amountSpecified&#39; is with respect to &#39;tag0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1043</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1044</td>
                                    <td class="row-source"><pre>//    Remember that for price decreasing swaps (as is the case in this</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1045</td>
                                    <td class="row-source"><pre>//    example), as long as we remain within the current active liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1046</td>
                                    <td class="row-source"><pre>//    interval, the amount of incoming &#39;tag0&#39; is calculated as:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1047</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1048</td>
                                    <td class="row-source"><pre>//                                                             growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1049</td>
                                    <td class="row-source"><pre>//      &#39;amount0Partial == sqrtInverseOffset * sharesTotal * ---------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1050</td>
                                    <td class="row-source"><pre>//                                                            2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1051</td>
                                    <td class="row-source"><pre>//                          incomingCurrentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1052</td>
                                    <td class="row-source"><pre>//                         -------------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1053</td>
                                    <td class="row-source"><pre>//                                outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1054</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1055</td>
                                    <td class="row-source"><pre>//    which means that in order for us to meet the stopping criteria (a), we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1056</td>
                                    <td class="row-source"><pre>//    should have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1057</td>
                                    <td class="row-source"><pre>//                                                                growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1058</td>
                                    <td class="row-source"><pre>//      &#39;|amountSpecified| == sqrtInverseOffset * sharesTotal * ---------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1059</td>
                                    <td class="row-source"><pre>//                                                               2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1060</td>
                                    <td class="row-source"><pre>//                             incomingCurrentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1061</td>
                                    <td class="row-source"><pre>//                            -------------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1062</td>
                                    <td class="row-source"><pre>//                                   outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1063</td>
                                    <td class="row-source"><pre>//    or equivalently,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1064</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1065</td>
                                    <td class="row-source"><pre>//      &#39;incomingCurrentToTarget == </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1066</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1067</td>
                                    <td class="row-source"><pre>//                      |amountSpecified|          1          2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1068</td>
                                    <td class="row-source"><pre>//       outgoingMax * ------------------- * ------------- * ----------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1069</td>
                                    <td class="row-source"><pre>//                      sqrtInverseOffset     sharesTotal      growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1070</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1071</td>
                                    <td class="row-source"><pre>//    As we increment &#39;currentToTarget&#39; and &#39;incomingCurrentToTarget&#39; by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1072</td>
                                    <td class="row-source"><pre>//    moving towards &#39;qNext&#39;, at every step (i.e., with each piece of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1073</td>
                                    <td class="row-source"><pre>//    liquidity distribution function &#39;k(w(.))&#39;) we need to determine whether</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1074</td>
                                    <td class="row-source"><pre>//    &#39;amountSpecified&#39; is fulfilled or not. To that end, before starting the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1075</td>
                                    <td class="row-source"><pre>//    exploration, the protocol calculates the right hand side of the above</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1076</td>
                                    <td class="row-source"><pre>//    equation, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1077</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1078</td>
                                    <td class="row-source"><pre>//                      |amountSpecified|          1          2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1079</td>
                                    <td class="row-source"><pre>//       outgoingMax * ------------------- * ------------- * ----------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1080</td>
                                    <td class="row-source"><pre>//                      sqrtInverseOffset     sharesTotal      growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1081</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1082</td>
                                    <td class="row-source"><pre>//    which is regarded as &#39;integralLimit&#39;, and stores its &#39;X216&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1083</td>
                                    <td class="row-source"><pre>//    representation in the memory space which is pointed to by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1084</td>
                                    <td class="row-source"><pre>//    &#39;_integralLimit_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1085</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1086</td>
                                    <td class="row-source"><pre>//    Consider a hypothetical swap for which &#39;exactInput == false&#39;. Then, every</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1087</td>
                                    <td class="row-source"><pre>//    time that we increment &#39;currentToTarget&#39;, we check whether it has</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1088</td>
                                    <td class="row-source"><pre>//    exceeded &#39;integralLimit&#39;. Once it has, we use the method</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1089</td>
                                    <td class="row-source"><pre>//    &#39;searchOutgoingTarget&#39; in &#39;Interval.sol&#39; to find the precise value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1090</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1091</td>
                                    <td class="row-source"><pre>//      &#39;qTarget := log(pTarget / pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1092</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1093</td>
                                    <td class="row-source"><pre>//    in order to have</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1094</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1095</td>
                                    <td class="row-source"><pre>//      &#39;currentToTarget == integralLimit&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1096</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1097</td>
                                    <td class="row-source"><pre>//    which guarantees that &#39;amountSpecified&#39; is fulfilled.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1098</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1099</td>
                                    <td class="row-source"><pre>//    If &#39;exactInput == true&#39;, as is the case in our current example, every</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1100</td>
                                    <td class="row-source"><pre>//    time that we increment &#39;incomingCurrentToTarget&#39;, we check whether it has</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1101</td>
                                    <td class="row-source"><pre>//    exceeded &#39;integralLimit&#39;. Once it has, we use the method</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1102</td>
                                    <td class="row-source"><pre>//    &#39;searchIncomingTarget&#39; in &#39;Interval.sol&#39; to find the precise value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1103</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1104</td>
                                    <td class="row-source"><pre>//      &#39;qTarget := log(pTarget / pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1105</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1106</td>
                                    <td class="row-source"><pre>//    in order to have</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1107</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1108</td>
                                    <td class="row-source"><pre>//      &#39;incomingCurrentToTarget == integralLimit&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1109</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1110</td>
                                    <td class="row-source"><pre>//    which guarantees that &#39;amountSpecified&#39; is fulfilled.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1111</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1112</td>
                                    <td class="row-source"><pre>//    After either of the above searches, the price of the pool is moved to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1113</td>
                                    <td class="row-source"><pre>//    &#39;qTarget&#39; and the corresponding outgoing and incoming amounts are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1114</td>
                                    <td class="row-source"><pre>//    calculated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1115</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1116</td>
                                    <td class="row-source"><pre>//    Throughout the execution of the swap, whenever we enter a new liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1117</td>
                                    <td class="row-source"><pre>//    interval, both &#39;amountSpecified&#39; and &#39;integralLimit&#39; are updated. This is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1118</td>
                                    <td class="row-source"><pre>//    further explained in the next step.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1119</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1120</td>
                                    <td class="row-source"><pre>//    However, remember that in the present example, we have</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1121</td>
                                    <td class="row-source"><pre>//    &#39;amountSpecified == +oo&#39; which means that:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1122</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1123</td>
                                    <td class="row-source"><pre>//      &#39;integralLimit := outgoingMax * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1124</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1125</td>
                                    <td class="row-source"><pre>//        |amountSpecified|          1          2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1126</td>
                                    <td class="row-source"><pre>//       ------------------- * ------------- * ---------- == +oo&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1127</td>
                                    <td class="row-source"><pre>//        sqrtInverseOffset     sharesTotal      growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1128</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1129</td>
                                    <td class="row-source"><pre>//    Hence, &#39;incomingCurrentToTarget&#39; may never exceed &#39;integralLimit&#39; and the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1130</td>
                                    <td class="row-source"><pre>//    stopping criteria (a) is not reachable. Put simply, since</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1131</td>
                                    <td class="row-source"><pre>//    &#39;amountSpecified&#39; is equal to infinity, we may never reach it and we only</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1132</td>
                                    <td class="row-source"><pre>//    need to worry about &#39;qLimit&#39; and &#39;qNext&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1133</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1134</td>
                                    <td class="row-source"><pre>//    In order to keep track of (b) and (c) concurrently, the protocol</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1135</td>
                                    <td class="row-source"><pre>//    calculates</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1136</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1137</td>
                                    <td class="row-source"><pre>//      &#39;qLimitWithinInterval := min(max(qLower, qLimit), qUpper)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1138</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1139</td>
                                    <td class="row-source"><pre>//    and stores it in the memory space which is referred to by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1140</td>
                                    <td class="row-source"><pre>//    &#39;_logPriceLimitOffsettedWithinInterval_&#39;. As we move forward with pieces</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1141</td>
                                    <td class="row-source"><pre>//    of the liquidity distribution function, we continuously check whether</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1142</td>
                                    <td class="row-source"><pre>//    &#39;qLimitWithinInterval&#39; is reached. If so, we either need to halt the swap</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1143</td>
                                    <td class="row-source"><pre>//    (stopping criteria (b)) or transition to a new interval (stopping</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1144</td>
                                    <td class="row-source"><pre>//    criteria (c)).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1145</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1146</td>
                                    <td class="row-source"><pre>//    In our example, it can be easily observed that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1147</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1148</td>
                                    <td class="row-source"><pre>//      &#39;qLimitWithinInterval == qNext&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1149</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1150</td>
                                    <td class="row-source"><pre>//    as illustrated below:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1151</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1152</td>
                                    <td class="row-source"><pre>//                                             qLimitWithinInterval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1153</td>
                                    <td class="row-source"><pre>//                                                      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1154</td>
                                    <td class="row-source"><pre>//                  qLimit                              |  qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1155</td>
                                    <td class="row-source"><pre>//                     |                                |     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1156</td>
                                    <td class="row-source"><pre>//     ... &lt;--+-------------+-------------+-------------+-------------+--&gt; ...</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1157</td>
                                    <td class="row-source"><pre>//                                                      |             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1158</td>
                                    <td class="row-source"><pre>//                                                    qNext         qBack</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1159</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1160</td>
                                    <td class="row-source"><pre>//    Hence, in the present active liquidity interval, we do not need to worry</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1161</td>
                                    <td class="row-source"><pre>//    about &#39;qLimit&#39; either and we can move forward until we reach &#39;qNext&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1162</td>
                                    <td class="row-source"><pre>//    After that, we need to update a number of parameters, including:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1163</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1164</td>
                                    <td class="row-source"><pre>//    - &#39;amount0&#39;: This is the total amount of &#39;tag0&#39; which is traded as a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1165</td>
                                    <td class="row-source"><pre>//      result of this swap. In this example, since our swap is price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1166</td>
                                    <td class="row-source"><pre>//      decreasing, we should have &#39;amount0 &gt; 0&#39; which indicates that &#39;amount0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1167</td>
                                    <td class="row-source"><pre>//      is incoming to the pool. Hence, according to the above formulas, with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1168</td>
                                    <td class="row-source"><pre>//      each interval that we transact in, &#39;amount0&#39; should be incremented by:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1169</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1170</td>
                                    <td class="row-source"><pre>//                                                               growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1171</td>
                                    <td class="row-source"><pre>//        &#39;amount0Partial := sqrtInverseOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1172</td>
                                    <td class="row-source"><pre>//                                                              2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1173</td>
                                    <td class="row-source"><pre>//                            incomingCurrentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1174</td>
                                    <td class="row-source"><pre>//                           -------------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1175</td>
                                    <td class="row-source"><pre>//                                  outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1176</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1177</td>
                                    <td class="row-source"><pre>//    - &#39;amount1&#39;: This is the total amount of &#39;tag1&#39; which is traded as a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1178</td>
                                    <td class="row-source"><pre>//      result of this swap. In this example, since our swap is price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1179</td>
                                    <td class="row-source"><pre>//      decreasing, we should have &#39;amount1 &lt; 0&#39; which indicates that &#39;amount1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1180</td>
                                    <td class="row-source"><pre>//      is outgoing from the pool. Hence, according to the above formulas, with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1181</td>
                                    <td class="row-source"><pre>//      each interval that we transact in, &#39;amount1&#39; should be decremented by:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1182</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1183</td>
                                    <td class="row-source"><pre>//                                                        growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1184</td>
                                    <td class="row-source"><pre>//        &#39;amount1Partial := sqrtOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1185</td>
                                    <td class="row-source"><pre>//                                                       2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1186</td>
                                    <td class="row-source"><pre>//                            currentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1187</td>
                                    <td class="row-source"><pre>//                           -----------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1188</td>
                                    <td class="row-source"><pre>//                              outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1189</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1190</td>
                                    <td class="row-source"><pre>//    - &#39;amountSpecified&#39;: Since the swap is partially fulfilled, we should</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1191</td>
                                    <td class="row-source"><pre>//      decrement &#39;amountSpecified&#39; by &#39;amount0Partial&#39; to reflect this:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1192</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1193</td>
                                    <td class="row-source"><pre>//        &#39;amountSpecified -= amount0Partial&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1194</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1195</td>
                                    <td class="row-source"><pre>//    - &#39;curve&#39;: As explained before, when we transact in a liquidity interval,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1196</td>
                                    <td class="row-source"><pre>//      as part of a swap, we then need to amend the curve sequence for that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1197</td>
                                    <td class="row-source"><pre>//      interval in preparation for the next swap. In this example, the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1198</td>
                                    <td class="row-source"><pre>//      amendment is straightforward. Since we are about to transition out of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1199</td>
                                    <td class="row-source"><pre>//      the interval &#39;[qLower, qUpper]&#39;, it should turn into an inactive</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1200</td>
                                    <td class="row-source"><pre>//      interval. Hence, the corresponding curve sequence for this interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1201</td>
                                    <td class="row-source"><pre>//      should transform into a sequence of length two as is the case for every</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1202</td>
                                    <td class="row-source"><pre>//      inactive liquidity interval. Following the pattern that was introduced</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1203</td>
                                    <td class="row-source"><pre>//      earlier for inactive liquidity intervals, the amended curve sequence</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1204</td>
                                    <td class="row-source"><pre>//      for &#39;[qLower, qUpper]&#39; should be:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1205</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1206</td>
                                    <td class="row-source"><pre>//        &#39;q[0] := qUpper&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1207</td>
                                    <td class="row-source"><pre>//        &#39;q[1] := qLower&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1208</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1209</td>
                                    <td class="row-source"><pre>//      This amendment, transforms the function &#39;w&#39; associated with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1210</td>
                                    <td class="row-source"><pre>//      &#39;[qLower, qUpper]&#39; from the following:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1211</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1212</td>
                                    <td class="row-source"><pre>//            w(q)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1213</td>
                                    <td class="row-source"><pre>//              ^</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1214</td>
                                    <td class="row-source"><pre>//      spacing |                /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1215</td>
                                    <td class="row-source"><pre>//              |               /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1216</td>
                                    <td class="row-source"><pre>//              |              /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1217</td>
                                    <td class="row-source"><pre>//              |             /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1218</td>
                                    <td class="row-source"><pre>//              |            /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1219</td>
                                    <td class="row-source"><pre>//              |           /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1220</td>
                                    <td class="row-source"><pre>//              |          /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1221</td>
                                    <td class="row-source"><pre>//              |\</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1222</td>
                                    <td class="row-source"><pre>//              | \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1223</td>
                                    <td class="row-source"><pre>//              |  \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1224</td>
                                    <td class="row-source"><pre>//              |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1225</td>
                                    <td class="row-source"><pre>//              |        /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1226</td>
                                    <td class="row-source"><pre>//              |       /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1227</td>
                                    <td class="row-source"><pre>//              |      /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1228</td>
                                    <td class="row-source"><pre>//              |     /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1229</td>
                                    <td class="row-source"><pre>//            0 +----+----+-------+-&gt; q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1230</td>
                                    <td class="row-source"><pre>//           qLower  |    |       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1231</td>
                                    <td class="row-source"><pre>//                   |   q[2]  qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1232</td>
                                    <td class="row-source"><pre>//                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1233</td>
                                    <td class="row-source"><pre>//               qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1234</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1235</td>
                                    <td class="row-source"><pre>//      to a new function:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1236</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1237</td>
                                    <td class="row-source"><pre>//        &#39;wAmended(q) := q - qLower&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1238</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1239</td>
                                    <td class="row-source"><pre>//      which can be plotted as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1240</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1241</td>
                                    <td class="row-source"><pre>//          wAmended(q)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1242</td>
                                    <td class="row-source"><pre>//              ^</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1243</td>
                                    <td class="row-source"><pre>//      spacing |                /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1244</td>
                                    <td class="row-source"><pre>//              |               /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1245</td>
                                    <td class="row-source"><pre>//              |              /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1246</td>
                                    <td class="row-source"><pre>//              |             /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1247</td>
                                    <td class="row-source"><pre>//              |            /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1248</td>
                                    <td class="row-source"><pre>//              |           /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1249</td>
                                    <td class="row-source"><pre>//              |          /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1250</td>
                                    <td class="row-source"><pre>//              |         /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1251</td>
                                    <td class="row-source"><pre>//              |        /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1252</td>
                                    <td class="row-source"><pre>//              |       /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1253</td>
                                    <td class="row-source"><pre>//              |      /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1254</td>
                                    <td class="row-source"><pre>//              |     /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1255</td>
                                    <td class="row-source"><pre>//              |    /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1256</td>
                                    <td class="row-source"><pre>//              |   /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1257</td>
                                    <td class="row-source"><pre>//              |  /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1258</td>
                                    <td class="row-source"><pre>//              | /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1259</td>
                                    <td class="row-source"><pre>//              |/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1260</td>
                                    <td class="row-source"><pre>//            0 +-----------------+-&gt; q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1261</td>
                                    <td class="row-source"><pre>//           qLower               |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1262</td>
                                    <td class="row-source"><pre>//                             qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1263</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1264</td>
                                    <td class="row-source"><pre>//      As we will demonstrate next, this procedure results in positive growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1265</td>
                                    <td class="row-source"><pre>//      for liquidity providers.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1266</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1267</td>
                                    <td class="row-source"><pre>//    - &#39;growth&#39;: As discussed earlier, before transitioning out of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1268</td>
                                    <td class="row-source"><pre>//      interval &#39;[qLower, qUpper]&#39;, the curve sequence for this interval is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1269</td>
                                    <td class="row-source"><pre>//      amended. This action, changes the function &#39;w&#39; to &#39;wAmended&#39; which in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1270</td>
                                    <td class="row-source"><pre>//      turn changes the liquidity distribution function from &#39;k(w(.))&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1271</td>
                                    <td class="row-source"><pre>//      &#39;k(wAmended(.))&#39;. However, the amount of reserve for &#39;tag0&#39; within</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1272</td>
                                    <td class="row-source"><pre>//      &#39;[qLower, qUpper]&#39; should stay the same before and after the amendment</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1273</td>
                                    <td class="row-source"><pre>//      of the curve sequence. This is because modifying the curve sequence is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1274</td>
                                    <td class="row-source"><pre>//      a change in our trading policy and it does not introduce or remove any</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1275</td>
                                    <td class="row-source"><pre>//      amount of liquidity. Hence, in order to conserve the amount of &#39;tag0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1276</td>
                                    <td class="row-source"><pre>//      within &#39;[qLower, qUpper]&#39; despite the transformation of &#39;w&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1277</td>
                                    <td class="row-source"><pre>//      &#39;wAmended&#39;, we need to make an adjustment to the &#39;growth&#39; value and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1278</td>
                                    <td class="row-source"><pre>//      turn it into &#39;growthAmended&#39;. In order to determine &#39;growthAmended&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1279</td>
                                    <td class="row-source"><pre>//      the following equation is solved:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1280</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1281</td>
                                    <td class="row-source"><pre>//        &#39;totalReserveOfTag0Before == totalReserveOfTag0After&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1282</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1283</td>
                                    <td class="row-source"><pre>//      where &#39;totalReserveOfTag0Before&#39; is the total amount of &#39;tag0&#39; within</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1284</td>
                                    <td class="row-source"><pre>//      &#39;[qLower, qUpper]&#39; which is calculated based on &#39;k(w(.))&#39;, whereas</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1285</td>
                                    <td class="row-source"><pre>//      &#39;totalReserveOfTag0After&#39; is the same value calculated based on</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1286</td>
                                    <td class="row-source"><pre>//      &#39;k(wAmended(.))&#39;. The two sides of the equation can be derived as:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1287</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1288</td>
                                    <td class="row-source"><pre>//        &#39;totalReserveOfTag0Before = sqrtInverseOffset * sharesTotal * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1289</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1290</td>
                                    <td class="row-source"><pre>//                                         - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1291</td>
                                    <td class="row-source"><pre>//           growth       2 ** 216       e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1292</td>
                                    <td class="row-source"><pre>//         ---------- * ------------- * ------- * |  e         k(w(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1293</td>
                                    <td class="row-source"><pre>//          2 ** 111     outgoingMax       2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1294</td>
                                    <td class="row-source"><pre>//                                               / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1295</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1296</td>
                                    <td class="row-source"><pre>//        &#39;totalReserveOfTag0After = sqrtInverseOffset * sharesTotal * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1297</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1298</td>
                                    <td class="row-source"><pre>//          growthAmended       2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1299</td>
                                    <td class="row-source"><pre>//         --------------- * ------------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1300</td>
                                    <td class="row-source"><pre>//             2 ** 111       outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1301</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1302</td>
                                    <td class="row-source"><pre>//            - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1303</td>
                                    <td class="row-source"><pre>//          e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1304</td>
                                    <td class="row-source"><pre>//         ------- * |  e         k(wAmended(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1305</td>
                                    <td class="row-source"><pre>//            2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1306</td>
                                    <td class="row-source"><pre>//                  / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1307</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1308</td>
                                    <td class="row-source"><pre>//      Hence, &#39;growthAmended&#39; can be derived as:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1309</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1310</td>
                                    <td class="row-source"><pre>//                                           / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1311</td>
                                    <td class="row-source"><pre>//                                          |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1312</td>
                                    <td class="row-source"><pre>//                                          |  e         k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1313</td>
                                    <td class="row-source"><pre>//                                          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1314</td>
                                    <td class="row-source"><pre>//                                         / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1315</td>
                                    <td class="row-source"><pre>//        &#39;growthAmended == growth * ---------------------------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1316</td>
                                    <td class="row-source"><pre>//                                       / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1317</td>
                                    <td class="row-source"><pre>//                                      |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1318</td>
                                    <td class="row-source"><pre>//                                      |  e         k(wAmended(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1319</td>
                                    <td class="row-source"><pre>//                                      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1320</td>
                                    <td class="row-source"><pre>//                                     / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1321</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1322</td>
                                    <td class="row-source"><pre>//      Observe that &#39;wAmended&#39; is a monotonically non-decreasing rearrangement</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1323</td>
                                    <td class="row-source"><pre>//      of &#39;w&#39;. This is because pieces of &#39;wAmended&#39; can be flipped and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1324</td>
                                    <td class="row-source"><pre>//      rearranged in order to transform its diagram to the diagram of &#39;w&#39;. On</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1325</td>
                                    <td class="row-source"><pre>//      the other hand, since &#39;k&#39; is a monotonically non-decreasing function,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1326</td>
                                    <td class="row-source"><pre>//      we can conclude that &#39;k(wAmended(.))&#39; is a monotonically non-decreasing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1327</td>
                                    <td class="row-source"><pre>//      rearrangement of &#39;k(w(.))&#39;. Hence, according to the Hardy–Littlewood</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1328</td>
                                    <td class="row-source"><pre>//      inequality, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1329</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1330</td>
                                    <td class="row-source"><pre>//            / qUpper                             / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1331</td>
                                    <td class="row-source"><pre>//           |    - h / 2                         |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1332</td>
                                    <td class="row-source"><pre>//        &#39;  |  e         k(wAmended(h)) dh  &lt;=   |  e         k(w(h)) dh &#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1333</td>
                                    <td class="row-source"><pre>//           |                                    |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1334</td>
                                    <td class="row-source"><pre>//          / qLower                             / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1335</td>
                                    <td class="row-source"><pre>//      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1336</td>
                                    <td class="row-source"><pre>//      which concludes that:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1337</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1338</td>
                                    <td class="row-source"><pre>//        &#39;growthAmended &gt;= growth&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1339</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1340</td>
                                    <td class="row-source"><pre>//      This is exactly what we want!</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1341</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1342</td>
                                    <td class="row-source"><pre>//      To summarize, when we transact in a liquidity interval as part of a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1343</td>
                                    <td class="row-source"><pre>//      swap, we then need to amend the curve sequence for that interval. After</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1344</td>
                                    <td class="row-source"><pre>//      that, in order to make up for the transformation of &#39;w&#39; to &#39;wAmended&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1345</td>
                                    <td class="row-source"><pre>//      the &#39;growth&#39; value should be incremented according to the above formula</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1346</td>
                                    <td class="row-source"><pre>//      for &#39;growthAmended&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1347</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1348</td>
                                    <td class="row-source"><pre>//    - &#39;qCurrent&#39;: Lastly, as we move the price of the pool to &#39;qNext&#39;, the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1349</td>
                                    <td class="row-source"><pre>//      value for &#39;qCurrent&#39; should be updated to reflect this change. which is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1350</td>
                                    <td class="row-source"><pre>//      illustrated as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1351</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1352</td>
                                    <td class="row-source"><pre>//                qLimit                              qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1353</td>
                                    <td class="row-source"><pre>//                   |                                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1354</td>
                                    <td class="row-source"><pre>//      ... &lt;--+-------------+-------------+-------------+-------------+--&gt; ...</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1355</td>
                                    <td class="row-source"><pre>//                                                       |             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1356</td>
                                    <td class="row-source"><pre>//                                                     qNext         qBack</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1357</td>
                                    <td class="row-source"><pre>//    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1358</td>
                                    <td class="row-source"><pre>//    Now, we are ready to transition out of the interval &#39;[qLower, qUpper]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1359</td>
                                    <td class="row-source"><pre>//    which is explained next.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1360</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1361</td>
                                    <td class="row-source"><pre>//  - In the previous step we moved the price of the pool to &#39;qNext&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1362</td>
                                    <td class="row-source"><pre>//    partially fulfill the requested swap. In this step, we transition from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1363</td>
                                    <td class="row-source"><pre>//    the original liquidity interval &#39;[qLower, qUpper]&#39; to its adjacent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1364</td>
                                    <td class="row-source"><pre>//    interval &#39;[qLower - qSpacing, qUpper - qSpacing]&#39;. This transition</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1365</td>
                                    <td class="row-source"><pre>//    involves updating the following parameters:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1366</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1367</td>
                                    <td class="row-source"><pre>//    - &#39;sharesTotal&#39;: The current value of &#39;sharesTotal&#39; reflects the total</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1368</td>
                                    <td class="row-source"><pre>//      number of shares within &#39;[qLower, qUpper]&#39;. As we are transitioning to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1369</td>
                                    <td class="row-source"><pre>//      &#39;[qLower - qSpacing, qUpper - qSpacing]&#39;, this value should be modified</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1370</td>
                                    <td class="row-source"><pre>//      in order to reflect the total number of shares in the new active</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1371</td>
                                    <td class="row-source"><pre>//      interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1372</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1373</td>
                                    <td class="row-source"><pre>//      We keep track of the total share values in all of the liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1374</td>
                                    <td class="row-source"><pre>//      intervals via the mapping &#39;sharesDelta&#39; within protocol&#39;s storage. Let</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1375</td>
                                    <td class="row-source"><pre>//      &#39;qBoundary&#39; denote an arbitrary boundary for a liquidity interval,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1376</td>
                                    <td class="row-source"><pre>//      i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1377</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1378</td>
                                    <td class="row-source"><pre>//        &#39;qBoundary == qLower + j * qSpacing&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1379</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1380</td>
                                    <td class="row-source"><pre>//      for some integer &#39;j&#39;. Let &#39;sharesTotalLeft&#39; and &#39;sharesTotalRight&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1381</td>
                                    <td class="row-source"><pre>//      denote the total number of shares within the intervals</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1382</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1383</td>
                                    <td class="row-source"><pre>//        &#39;[qBoundary - qSpacing, qBoundary]&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1384</td>
                                    <td class="row-source"><pre>//        &#39;[qBoundary, qBoundary + qSpacing]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1385</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1386</td>
                                    <td class="row-source"><pre>//      respectively. Define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1387</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1388</td>
                                    <td class="row-source"><pre>//        &#39;sharesDelta[qBoundary] := sharesTotalRight - sharesTotalLeft&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1389</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1390</td>
                                    <td class="row-source"><pre>//      In other words, &#39;sharesDelta[qBoundary]&#39; is defined as the difference</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1391</td>
                                    <td class="row-source"><pre>//      between the total number of shares within the two liquidity intervals</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1392</td>
                                    <td class="row-source"><pre>//      that contain &#39;qBoundary&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1393</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1394</td>
                                    <td class="row-source"><pre>//      Hence, for price increasing swaps, as we transition to a new interval,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1395</td>
                                    <td class="row-source"><pre>//      &#39;sharesTotal&#39; should be modified as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1396</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1397</td>
                                    <td class="row-source"><pre>//        &#39;sharesTotal += sharesDelta[qNext]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1398</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1399</td>
                                    <td class="row-source"><pre>//      and for price decreasing swaps, as we transition to a new interval,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1400</td>
                                    <td class="row-source"><pre>//      &#39;sharesTotal&#39; should be modified as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1401</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1402</td>
                                    <td class="row-source"><pre>//        &#39;sharesTotal -= sharesDelta[qNext]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1403</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1404</td>
                                    <td class="row-source"><pre>//      This way of accounting for the total shares makes liquidity deposit or</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1405</td>
                                    <td class="row-source"><pre>//      withdrawal by LPs more efficient. Imagine an example where an LP</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1406</td>
                                    <td class="row-source"><pre>//      intends to deposit &#39;100&#39; shares in every interval within the range</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1407</td>
                                    <td class="row-source"><pre>//      &#39;qLower - i * qSpacing&#39; to &#39;qUpper + j * qSpacing&#39;, where &#39;i&#39; and &#39;j&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1408</td>
                                    <td class="row-source"><pre>//      are arbitrary non-negative integers. In this case, we need to add &#39;100&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1409</td>
                                    <td class="row-source"><pre>//      shares to every one of the following intervals:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1410</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1411</td>
                                    <td class="row-source"><pre>//        &#39;[qLower - i * qSpacing, qUpper - i * qSpacing]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1412</td>
                                    <td class="row-source"><pre>//          .</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1413</td>
                                    <td class="row-source"><pre>//          .</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1414</td>
                                    <td class="row-source"><pre>//          .</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1415</td>
                                    <td class="row-source"><pre>//        &#39;[qLower - 1 * qSpacing, qUpper - 1 * qSpacing]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1416</td>
                                    <td class="row-source"><pre>//        &#39;[qLower               , qUpper               ]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1417</td>
                                    <td class="row-source"><pre>//        &#39;[qLower + 1 * qSpacing, qUpper + 1 * qSpacing]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1418</td>
                                    <td class="row-source"><pre>//          .</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1419</td>
                                    <td class="row-source"><pre>//          .</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1420</td>
                                    <td class="row-source"><pre>//          .</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1421</td>
                                    <td class="row-source"><pre>//        &#39;[qLower + j * qSpacing, qUpper + j * qSpacing]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1422</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1423</td>
                                    <td class="row-source"><pre>//      However, it may not be efficient or even possible to enumerated every</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1424</td>
                                    <td class="row-source"><pre>//      single one of the &#39;i + j + 1&#39; intervals and thanks to &#39;sharesDelta&#39;, we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1425</td>
                                    <td class="row-source"><pre>//      do not need to do that! Alternatively, in order to account for the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1426</td>
                                    <td class="row-source"><pre>//      additional &#39;100&#39; shares, the protocol:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1427</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1428</td>
                                    <td class="row-source"><pre>//      - increments &#39;sharesDelta[qLower - i * qSpacing]&#39; by &#39;100&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1429</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1430</td>
                                    <td class="row-source"><pre>//      - increments &#39;sharesTotal&#39; by &#39;100&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1431</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1432</td>
                                    <td class="row-source"><pre>//      - decrements &#39;sharesDelta[qUpper + j * qSpacing]&#39; by &#39;100&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1433</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1434</td>
                                    <td class="row-source"><pre>//      which is sufficient to updated the total number of shares in every</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1435</td>
                                    <td class="row-source"><pre>//      liquidity interval within the intended range.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1436</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1437</td>
                                    <td class="row-source"><pre>//    - &#39;growth&#39;: In the prior step, we updated the content of the memory space</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1438</td>
                                    <td class="row-source"><pre>//      which is pointed to by &#39;_growth_&#39;, according to the following formula:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1439</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1440</td>
                                    <td class="row-source"><pre>//                                          / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1441</td>
                                    <td class="row-source"><pre>//                                         |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1442</td>
                                    <td class="row-source"><pre>//                                         |  e         k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1443</td>
                                    <td class="row-source"><pre>//                                         |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1444</td>
                                    <td class="row-source"><pre>//                                        / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1445</td>
                                    <td class="row-source"><pre>//        &#39;growthAmended == growth * ----------------------------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1446</td>
                                    <td class="row-source"><pre>//                                       / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1447</td>
                                    <td class="row-source"><pre>//                                      |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1448</td>
                                    <td class="row-source"><pre>//                                      |  e         k(wAmended(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1449</td>
                                    <td class="row-source"><pre>//                                      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1450</td>
                                    <td class="row-source"><pre>//                                     / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1451</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1452</td>
                                    <td class="row-source"><pre>//      Hence, the current value stored in this memory space reflects the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1453</td>
                                    <td class="row-source"><pre>//      updated liquidity growth within &#39;[qLower, qUpper]&#39; (as a result of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1454</td>
                                    <td class="row-source"><pre>//      partial swap that moved the price to &#39;qNext&#39;).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1455</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1456</td>
                                    <td class="row-source"><pre>//      Now, as we are transitioning out of &#39;[qLower, qUpper]&#39;, &#39;growthAmended&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1457</td>
                                    <td class="row-source"><pre>//      which currently resides in the memory has to be written somewhere in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1458</td>
                                    <td class="row-source"><pre>//      the protocol&#39;s storage, and then the amount of liquidity growth within</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1459</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1460</td>
                                    <td class="row-source"><pre>//        &#39;[qLower - qSpacing, qUpper - qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1461</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1462</td>
                                    <td class="row-source"><pre>//      should be loaded in the memory so that we can transact within this new</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1463</td>
                                    <td class="row-source"><pre>//      interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1464</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1465</td>
                                    <td class="row-source"><pre>//      We keep track of these &#39;growth&#39; values for all of the liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1466</td>
                                    <td class="row-source"><pre>//      intervals, via the mapping &#39;growthMultiplier&#39;. For every integer &#39;m&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1467</td>
                                    <td class="row-source"><pre>//      let &#39;growth(m)&#39; denote the &#39;growth&#39; value for the interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1468</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1469</td>
                                    <td class="row-source"><pre>//        &#39;[qLower + m * qSpacing, qUpper + m * qSpacing]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1470</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1471</td>
                                    <td class="row-source"><pre>//      Hence, &#39;growth(0)&#39; corresponds to &#39;[qLower, qUpper]&#39; which is the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1472</td>
                                    <td class="row-source"><pre>//      current value stored in memory. </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1473</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1474</td>
                                    <td class="row-source"><pre>//      Now, for every integer &#39;m &gt;= 1&#39; define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1475</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1476</td>
                                    <td class="row-source"><pre>//          growthMultiplier[qLower + m * qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1477</td>
                                    <td class="row-source"><pre>//        &#39;----------------------------------------- := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1478</td>
                                    <td class="row-source"><pre>//                         2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1479</td>
                                    <td class="row-source"><pre>//         ---- +oo</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1480</td>
                                    <td class="row-source"><pre>//         \            growth(+j)      (- qLower - j * qSpacing) / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1481</td>
                                    <td class="row-source"><pre>//         /           ------------ * e                               &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1482</td>
                                    <td class="row-source"><pre>//         ---- j = m    2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1483</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1484</td>
                                    <td class="row-source"><pre>//      According to the above definition, for every integer &#39;m &gt;= 1&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1485</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1486</td>
                                    <td class="row-source"><pre>//          sqrtInverseOffset     growthMultiplier[qLower + m * qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1487</td>
                                    <td class="row-source"><pre>//        &#39;------------------- * -----------------------------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1488</td>
                                    <td class="row-source"><pre>//              2 ** 127                         2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1489</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1490</td>
                                    <td class="row-source"><pre>//      is equal to the total amount of &#39;tag0&#39; corresponding to a single</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1491</td>
                                    <td class="row-source"><pre>//      liquidity provider&#39;s share in every interval spanning from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1492</td>
                                    <td class="row-source"><pre>//      &#39;qLower + m * qSpacing&#39; to &#39;+oo&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1493</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1494</td>
                                    <td class="row-source"><pre>//      Similarly, for every integer &#39;m &gt;= 1&#39; define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1495</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1496</td>
                                    <td class="row-source"><pre>//          growthMultiplier[qUpper - m * qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1497</td>
                                    <td class="row-source"><pre>//        &#39;----------------------------------------- := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1498</td>
                                    <td class="row-source"><pre>//                         2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1499</td>
                                    <td class="row-source"><pre>//         ---- +oo</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1500</td>
                                    <td class="row-source"><pre>//         \            growth(-j)      (+ qUpper - j * qSpacing) / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1501</td>
                                    <td class="row-source"><pre>//         /           ------------ * e                               &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1502</td>
                                    <td class="row-source"><pre>//         ---- j = m    2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1503</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1504</td>
                                    <td class="row-source"><pre>//      According to the above definition, for every integer &#39;m &gt;= 1&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1505</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1506</td>
                                    <td class="row-source"><pre>//          sqrtOffset     growthMultiplier[qUpper - m * qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1507</td>
                                    <td class="row-source"><pre>//        &#39;------------ * -----------------------------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1508</td>
                                    <td class="row-source"><pre>//           2 ** 127                     2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1509</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1510</td>
                                    <td class="row-source"><pre>//      is equal to the total amount of &#39;tag1&#39; corresponding to a single</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1511</td>
                                    <td class="row-source"><pre>//      liquidity provider&#39;s share in every interval spanning from &#39;-oo&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1512</td>
                                    <td class="row-source"><pre>//      &#39;qUpper - m * qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1513</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1514</td>
                                    <td class="row-source"><pre>//      The following illustration further elaborates the notion of </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1515</td>
                                    <td class="row-source"><pre>//      &#39;growthMultiplier&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1516</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1517</td>
                                    <td class="row-source"><pre>//                                         growthMultiplier[qUpper + qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1518</td>
                                    <td class="row-source"><pre>//                                                                    |--&gt;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1519</td>
                                    <td class="row-source"><pre>//       growthMultiplier[qLower - qSpacing]                          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1520</td>
                                    <td class="row-source"><pre>//           &lt;--|                                                     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1521</td>
                                    <td class="row-source"><pre>//              |                        growthMultiplier[qUpper]     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1522</td>
                                    <td class="row-source"><pre>//              |                                   |--&gt;              |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1523</td>
                                    <td class="row-source"><pre>//              |      growthMultiplier[qLower]     |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1524</td>
                                    <td class="row-source"><pre>//              |              &lt;--|                 |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1525</td>
                                    <td class="row-source"><pre>//              |                 |     growth      |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1526</td>
                                    <td class="row-source"><pre>//              |                 |       ==        |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1527</td>
                                    <td class="row-source"><pre>//              |    growth(-1)   |    growth(0)    |    growth(+1)   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1528</td>
                                    <td class="row-source"><pre>//       ... &lt;--+-----------------+-----------------+-----------------+--&gt; ...</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1529</td>
                                    <td class="row-source"><pre>//                                |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1530</td>
                                    <td class="row-source"><pre>//                              qLower           qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1531</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1532</td>
                                    <td class="row-source"><pre>//      In the above figure, &#39;growthMultiplier[qUpper]&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1533</td>
                                    <td class="row-source"><pre>//      &#39;growthMultiplier[qUpper + qSpacing]&#39; point towards &#39;+oo&#39;. This is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1534</td>
                                    <td class="row-source"><pre>//      because these two values are proportional to the the amount of &#39;tag0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1535</td>
                                    <td class="row-source"><pre>//      for a single share in every interval within &#39;[qUpper, +oo]&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1536</td>
                                    <td class="row-source"><pre>//      &#39;[qUpper + qSpacing, +oo]&#39;, respectively. This is also the case for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1537</td>
                                    <td class="row-source"><pre>//      every &#39;growthMultiplier[qBoundary]&#39; where &#39;qBoundary&#39; is on the right</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1538</td>
                                    <td class="row-source"><pre>//      side of the active liquidity interval as it is proportional to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1539</td>
                                    <td class="row-source"><pre>//      amount of &#39;tag0&#39; for a single share in every interval within</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1540</td>
                                    <td class="row-source"><pre>//      &#39;[qBoundary, +oo]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1541</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1542</td>
                                    <td class="row-source"><pre>//      On the contrary, &#39;growthMultiplier[qLower]&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1543</td>
                                    <td class="row-source"><pre>//      &#39;growthMultiplier[qLower - qSpacing]&#39; point towards &#39;-oo&#39;. This is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1544</td>
                                    <td class="row-source"><pre>//      because these two values are proportional to the the amount of &#39;tag1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1545</td>
                                    <td class="row-source"><pre>//      for a single share in every interval within &#39;[-oo, qLower]&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1546</td>
                                    <td class="row-source"><pre>//      &#39;[-oo, qLower - qSpacing]&#39;, respectively. This is also the case for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1547</td>
                                    <td class="row-source"><pre>//      every &#39;growthMultiplier[qBoundary]&#39; where &#39;qBoundary&#39; is on the left</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1548</td>
                                    <td class="row-source"><pre>//      side of the active liquidity interval as it is proportional to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1549</td>
                                    <td class="row-source"><pre>//      amount of &#39;tag1&#39; for a single share in every interval whithin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1550</td>
                                    <td class="row-source"><pre>//      &#39;[-oo, qBoundary]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1551</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1552</td>
                                    <td class="row-source"><pre>//      Instead of storing the growth value for each inactive interval, the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1553</td>
                                    <td class="row-source"><pre>//      protocol stores the mapping &#39;growthMultiplier&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1554</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1555</td>
                                    <td class="row-source"><pre>//      This way of accounting for the growth values makes liquidity deposit or</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1556</td>
                                    <td class="row-source"><pre>//      withdrawal by LPs more efficient. Imagine an example where an LP</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1557</td>
                                    <td class="row-source"><pre>//      intends to deposit &#39;100&#39; shares in every interval within the range</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1558</td>
                                    <td class="row-source"><pre>//      &#39;qLower + i * qSpacing&#39; to &#39;qUpper + j * qSpacing&#39;, where &#39;i&#39; and &#39;j&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1559</td>
                                    <td class="row-source"><pre>//      are arbitrary positive integers. In this case, we need to calculate the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1560</td>
                                    <td class="row-source"><pre>//      amount of &#39;tag0&#39; corresponding to &#39;100&#39; shares in every one of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1561</td>
                                    <td class="row-source"><pre>//      following intervals:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1562</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1563</td>
                                    <td class="row-source"><pre>//        &#39;[qLower + i       * qSpacing, qUpper + i       * qSpacing]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1564</td>
                                    <td class="row-source"><pre>//        &#39;[qLower + (i + 1) * qSpacing, qUpper + (i + 1) * qSpacing]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1565</td>
                                    <td class="row-source"><pre>//          .</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1566</td>
                                    <td class="row-source"><pre>//          .</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1567</td>
                                    <td class="row-source"><pre>//          .</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1568</td>
                                    <td class="row-source"><pre>//        &#39;[qLower + (j - 1) * qSpacing, qUpper + (j - 1) * qSpacing]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1569</td>
                                    <td class="row-source"><pre>//        &#39;[qLower + j       * qSpacing, qUpper + j       * qSpacing]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1570</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1571</td>
                                    <td class="row-source"><pre>//      However, it may not be efficient or even possible to enumerated every</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1572</td>
                                    <td class="row-source"><pre>//      single one of the &#39;j - i + 1&#39; intervals and thanks to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1573</td>
                                    <td class="row-source"><pre>//      &#39;growthMultiplier&#39;, we do not need to do that! Alternatively, the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1574</td>
                                    <td class="row-source"><pre>//      protocol calculates the amount of &#39;tag0&#39; that needs to be deposited</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1575</td>
                                    <td class="row-source"><pre>//      using the following formula:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1576</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1577</td>
                                    <td class="row-source"><pre>//                sqrtInverseOffset</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1578</td>
                                    <td class="row-source"><pre>//        &#39;100 * ------------------- * (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1579</td>
                                    <td class="row-source"><pre>//                    2 ** 127</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1580</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1581</td>
                                    <td class="row-source"><pre>//                          growthMultiplier[qLower + i * qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1582</td>
                                    <td class="row-source"><pre>//                         ----------------------------------------- - </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1583</td>
                                    <td class="row-source"><pre>//                                          2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1584</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1585</td>
                                    <td class="row-source"><pre>//                          growthMultiplier[qUpper + j * qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1586</td>
                                    <td class="row-source"><pre>//                         -----------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1587</td>
                                    <td class="row-source"><pre>//                                          2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1588</td>
                                    <td class="row-source"><pre>//         )&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1589</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1590</td>
                                    <td class="row-source"><pre>//      The following figure visualizes the direction of the growth multipliers</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1591</td>
                                    <td class="row-source"><pre>//      prior to the transition from &#39;[qLower, qUpper]&#39; to the new interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1592</td>
                                    <td class="row-source"><pre>//      &#39;[qLower - qSpacing, qUpper - qSpacing]&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1593</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1594</td>
                                    <td class="row-source"><pre>//                           growthMultiplier[qCurrent - qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1595</td>
                                    <td class="row-source"><pre>//                                      &lt;--|</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1596</td>
                                    <td class="row-source"><pre>//                                         |            growthMultiplier[qBack]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1597</td>
                                    <td class="row-source"><pre>//                                         |                           |--&gt;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1598</td>
                                    <td class="row-source"><pre>//                                         | growthMultiplier[qCurrent]|</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1599</td>
                                    <td class="row-source"><pre>//                                         |          &lt;--|             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1600</td>
                                    <td class="row-source"><pre>//                qLimit                   |             |             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1601</td>
                                    <td class="row-source"><pre>//                   |                     |  growth(-1) |  growth(0)  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1602</td>
                                    <td class="row-source"><pre>//      ... &lt;--+-------------+-------------+-------------+-------------+--&gt; ...</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1603</td>
                                    <td class="row-source"><pre>//                                                       |             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1604</td>
                                    <td class="row-source"><pre>//                                                     qNext         qBack</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1605</td>
                                    <td class="row-source"><pre>//                                                       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1606</td>
                                    <td class="row-source"><pre>//                                                    qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1607</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1608</td>
                                    <td class="row-source"><pre>//      where &#39;growth(0) := growthAmended&#39;. As shown in the above figure,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1609</td>
                                    <td class="row-source"><pre>//      &#39;growthMultiplier[qBack]&#39; points towards &#39;+oo&#39; because it is on the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1610</td>
                                    <td class="row-source"><pre>//      right side of the active liquidity interval whereas</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1611</td>
                                    <td class="row-source"><pre>//      &#39;growthMultiplier[qCurrent]&#39; and &#39;growthMultiplier[qCurrent - qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1612</td>
                                    <td class="row-source"><pre>//      point towards &#39;-oo&#39; because they are on the left side of the active</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1613</td>
                                    <td class="row-source"><pre>//      liquidity interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1614</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1615</td>
                                    <td class="row-source"><pre>//      As part of this interval transition, we need to take the following</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1616</td>
                                    <td class="row-source"><pre>//      steps:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1617</td>
                                    <td class="row-source"><pre>//      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1618</td>
                                    <td class="row-source"><pre>//      - &#39;growth(-1)&#39; is the value which is supposed to replace</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1619</td>
                                    <td class="row-source"><pre>//        &#39;growthAmended&#39; in the memory space which is pointed to by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1620</td>
                                    <td class="row-source"><pre>//        &#39;_growth_&#39;. However, since the protocol does not store growth values</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1621</td>
                                    <td class="row-source"><pre>//        for inactive intervals, we do not have direct access to &#39;growth(-1)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1622</td>
                                    <td class="row-source"><pre>//        Because of this, we calculate it via the following formula:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1623</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1624</td>
                                    <td class="row-source"><pre>//            growth(-1)       - qCurrent / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1625</td>
                                    <td class="row-source"><pre>//          &#39;------------ == e                * ( </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1626</td>
                                    <td class="row-source"><pre>//             2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1627</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1628</td>
                                    <td class="row-source"><pre>//             growthMultiplier[qCurrent]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1629</td>
                                    <td class="row-source"><pre>//            ---------------------------- - </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1630</td>
                                    <td class="row-source"><pre>//                      2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1631</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1632</td>
                                    <td class="row-source"><pre>//             growthMultiplier[qCurrent - qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1633</td>
                                    <td class="row-source"><pre>//            ---------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1634</td>
                                    <td class="row-source"><pre>//                           2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1635</td>
                                    <td class="row-source"><pre>//           )&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1636</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1637</td>
                                    <td class="row-source"><pre>//      - Next, we need to recalculate &#39;growthMultiplier[qCurrent]&#39; because it</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1638</td>
                                    <td class="row-source"><pre>//        is currently pointing to &#39;-oo&#39; since &#39;qCurrent&#39; is on the left side</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1639</td>
                                    <td class="row-source"><pre>//        of &#39;[qLower, qUpper]&#39;. However, once we transition, &#39;qCurrent&#39; would</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1640</td>
                                    <td class="row-source"><pre>//        be on the right side of the active liquidity interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1641</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1642</td>
                                    <td class="row-source"><pre>//          &#39;[qLower - qSpacing, qUpper - qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1643</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1644</td>
                                    <td class="row-source"><pre>//        which means that it should point to &#39;+oo&#39;. Hence,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1645</td>
                                    <td class="row-source"><pre>//        &#39;growthMultiplier[qCurrent]&#39; is recalculated via the following</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1646</td>
                                    <td class="row-source"><pre>//        formula:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1647</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1648</td>
                                    <td class="row-source"><pre>//            growthMultiplier[qCurrent]      growthMultiplier[qBack]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1649</td>
                                    <td class="row-source"><pre>//          &#39;---------------------------- := ------------------------- +</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1650</td>
                                    <td class="row-source"><pre>//                    2 ** 208                       2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1651</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1652</td>
                                    <td class="row-source"><pre>//            growthAmended      - qCurrent / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1653</td>
                                    <td class="row-source"><pre>//           --------------- * e                &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1654</td>
                                    <td class="row-source"><pre>//              2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1655</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1656</td>
                                    <td class="row-source"><pre>//        Observe that according to the above formula, &#39;growthAmended&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1657</td>
                                    <td class="row-source"><pre>//        incorporated into &#39;growthMultiplier[qCurrent]&#39; which is where it is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1658</td>
                                    <td class="row-source"><pre>//        kept track of.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1659</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1660</td>
                                    <td class="row-source"><pre>//      The following figure illustrates the above modification of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1661</td>
                                    <td class="row-source"><pre>//      &#39;growthMultiplier&#39; mapping:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1662</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1663</td>
                                    <td class="row-source"><pre>//                           growthMultiplier[qCurrent - qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1664</td>
                                    <td class="row-source"><pre>//                                      &lt;--|</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1665</td>
                                    <td class="row-source"><pre>//                                         |            growthMultiplier[qBack]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1666</td>
                                    <td class="row-source"><pre>//                                         |                           |--&gt;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1667</td>
                                    <td class="row-source"><pre>//                                         | growthMultiplier[qCurrent]|</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1668</td>
                                    <td class="row-source"><pre>//                                         |             |--&gt;          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1669</td>
                                    <td class="row-source"><pre>//                qLimit                   |             |             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1670</td>
                                    <td class="row-source"><pre>//                   |                     |             |             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1671</td>
                                    <td class="row-source"><pre>//      ... &lt;--+-------------+-------------+-------------+-------------+--&gt; ...</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1672</td>
                                    <td class="row-source"><pre>//                                                       |             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1673</td>
                                    <td class="row-source"><pre>//                                                     qNext         qBack</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1674</td>
                                    <td class="row-source"><pre>//                                                       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1675</td>
                                    <td class="row-source"><pre>//                                                    qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1676</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1677</td>
                                    <td class="row-source"><pre>//    - &#39;qBack&#39; and &#39;qNext&#39;: Since we are dealing with a price decreasing swap,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1678</td>
                                    <td class="row-source"><pre>//      the values &#39;qBack&#39; and &#39;qNext&#39; should be modified as follows in order</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1679</td>
                                    <td class="row-source"><pre>//      to represent the new liquidity interval that we are transitioning to:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1680</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1681</td>
                                    <td class="row-source"><pre>//        &#39;qBack -= qSpacing&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1682</td>
                                    <td class="row-source"><pre>//        &#39;qNext -= qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1683</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1684</td>
                                    <td class="row-source"><pre>//      which is illustrated below:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1685</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1686</td>
                                    <td class="row-source"><pre>//                qLimit                              qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1687</td>
                                    <td class="row-source"><pre>//                   |                                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1688</td>
                                    <td class="row-source"><pre>//      ... &lt;--+-------------+-------------+-------------+-------------+--&gt; ...</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1689</td>
                                    <td class="row-source"><pre>//                                         |             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1690</td>
                                    <td class="row-source"><pre>//                                       qNext         qBack</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1691</td>
                                    <td class="row-source"><pre>//    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1692</td>
                                    <td class="row-source"><pre>//    - &#39;curve&#39;: As we discussed before, since</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1693</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1694</td>
                                    <td class="row-source"><pre>//          &#39;[qLower - qSpacing, qUpper - qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1695</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1696</td>
                                    <td class="row-source"><pre>//      is currently inactive, its corresponding curve sequence is composed of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1697</td>
                                    <td class="row-source"><pre>//      only two members:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1698</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1699</td>
                                    <td class="row-source"><pre>//      &#39;q[0] := qUpper - qSpacing&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1700</td>
                                    <td class="row-source"><pre>//      &#39;q[1] := qLower - qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1701</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1702</td>
                                    <td class="row-source"><pre>//      As part of the transition, we discard the previous curve sequence and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1703</td>
                                    <td class="row-source"><pre>//      initiate this above curve sequence in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1704</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1705</td>
                                    <td class="row-source"><pre>//    Now, the transition to &#39;[qLower - qSpacing, qUpper - qSpacing]&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1706</td>
                                    <td class="row-source"><pre>//    complete and throughout the remainder of this example, we refer to this</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1707</td>
                                    <td class="row-source"><pre>//    interval as the active liquidity interval. Additionally, we redefine:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1708</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1709</td>
                                    <td class="row-source"><pre>//      &#39;qUpper := qUpper - qSpacing&#39;, </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1710</td>
                                    <td class="row-source"><pre>//      &#39;qLower := qLower - qSpacing&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1711</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1712</td>
                                    <td class="row-source"><pre>//    which allows us to continue using the notation &#39;[qLower, qUpper]&#39; in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1713</td>
                                    <td class="row-source"><pre>//    order to refer to the active liquidity interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1714</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1715</td>
                                    <td class="row-source"><pre>//  - In this step, we need to determine whether we should explore the active</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1716</td>
                                    <td class="row-source"><pre>//    interval &#39;[qLower, qUpper]&#39; or to cross it entirely, i.e., all the way</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1717</td>
                                    <td class="row-source"><pre>//    from &#39;qBack&#39; to &#39;qNext&#39;. In the former case, we need to integrate the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1718</td>
                                    <td class="row-source"><pre>//    liquidity distribution function &#39;k(w(.))&#39; piece by piece through which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1719</td>
                                    <td class="row-source"><pre>//    the &#39;incomingCurrentToTarget&#39; and &#39;currentToTarget&#39; are calculated. As we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1720</td>
                                    <td class="row-source"><pre>//    discussed before, the calculation of these integrals leads to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1721</td>
                                    <td class="row-source"><pre>//    &#39;amount0Partial&#39; and &#39;amount1Partial&#39;, respectively. However, the latter</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1722</td>
                                    <td class="row-source"><pre>//    case is more efficient because if the active interval is crossed </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1723</td>
                                    <td class="row-source"><pre>//    entirely, then the precalculated integrals &#39;incomingMax&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1724</td>
                                    <td class="row-source"><pre>//    &#39;outgoingMax&#39; can be used to determine &#39;amount0Partial&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1725</td>
                                    <td class="row-source"><pre>//    &#39;amount1Partial&#39;. In order for the protocol to be able to cross the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1726</td>
                                    <td class="row-source"><pre>//    active interval entirely the following two criteria should be met:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1727</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1728</td>
                                    <td class="row-source"><pre>//    (a) The cross must not violate &#39;qLimit&#39;. In other words, for price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1729</td>
                                    <td class="row-source"><pre>//        increasing swaps we should have</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1730</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1731</td>
                                    <td class="row-source"><pre>//          &#39;qNext &lt;= qLimit&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1732</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1733</td>
                                    <td class="row-source"><pre>//        and for price decreasing swaps, we should have</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1734</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1735</td>
                                    <td class="row-source"><pre>//          &#39;qLimit &lt;= qNext&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1736</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1737</td>
                                    <td class="row-source"><pre>//        which is the case in the present example.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1738</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1739</td>
                                    <td class="row-source"><pre>//    (b) The cross must not violate &#39;amountSpecified&#39;. In order words, if</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1740</td>
                                    <td class="row-source"><pre>//        &#39;exactInput == false&#39;, then the outgoing amount from the pool as a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1741</td>
                                    <td class="row-source"><pre>//        result of crossing all the way from &#39;qBack&#39; to &#39;qNext&#39; must not</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1742</td>
                                    <td class="row-source"><pre>//        exceed the remaining absolute value &#39;0 - amountSpecified&#39;. Similarly,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1743</td>
                                    <td class="row-source"><pre>//        if &#39;exactInput == true&#39;, then the incoming amount to the pool as a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1744</td>
                                    <td class="row-source"><pre>//        result of crossing all the way from &#39;qBack&#39; to &#39;qNext&#39; must not</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1745</td>
                                    <td class="row-source"><pre>//        exceed the remaining value &#39;amountSpecified&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1746</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1747</td>
                                    <td class="row-source"><pre>//        In order to verify this, we first need to recalculate &#39;integralLimit&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1748</td>
                                    <td class="row-source"><pre>//        based on the decremented value for &#39;|amountSpecified|&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1749</td>
                                    <td class="row-source"><pre>//        </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1750</td>
                                    <td class="row-source"><pre>//          &#39;integralLimit :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1751</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1752</td>
                                    <td class="row-source"><pre>//                          |amountSpecified|          1          2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1753</td>
                                    <td class="row-source"><pre>//           outgoingMax * ------------------- * ------------- * ----------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1754</td>
                                    <td class="row-source"><pre>//                          sqrtInverseOffset     sharesTotal      growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1755</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1756</td>
                                    <td class="row-source"><pre>//           == +oo&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1757</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1758</td>
                                    <td class="row-source"><pre>//        which remains equal to &#39;+oo&#39; for this example.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1759</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1760</td>
                                    <td class="row-source"><pre>//        Next, we need to define the notion of &#39;integralLimitInterval&#39; which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1761</td>
                                    <td class="row-source"><pre>//        is compared with &#39;integralLimit&#39; in order to determine if</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1762</td>
                                    <td class="row-source"><pre>//        &#39;amountSpecified&#39; is violated or not. Consider the following four</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1763</td>
                                    <td class="row-source"><pre>//        scenarios:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1764</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1765</td>
                                    <td class="row-source"><pre>//        - If the swap is price increasing and &#39;exactInput == false&#39;, define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1766</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1767</td>
                                    <td class="row-source"><pre>//                                         - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1768</td>
                                    <td class="row-source"><pre>//            integralLimitInterval      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1769</td>
                                    <td class="row-source"><pre>//          &#39;----------------------- := ------- * |  e         k(h - qLower) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1770</td>
                                    <td class="row-source"><pre>//                   2 ** 216              2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1771</td>
                                    <td class="row-source"><pre>//                                               / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1772</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1773</td>
                                    <td class="row-source"><pre>//                - qLower / 2    outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1774</td>
                                    <td class="row-source"><pre>//           == e              * -------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1775</td>
                                    <td class="row-source"><pre>//                                 2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1776</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1777</td>
                                    <td class="row-source"><pre>//        - If the swap is price increasing and &#39;exactInput == true&#39;, define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1778</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1779</td>
                                    <td class="row-source"><pre>//                                         - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1780</td>
                                    <td class="row-source"><pre>//            integralLimitInterval      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1781</td>
                                    <td class="row-source"><pre>//          &#39;----------------------- := ------- * |  e         k(h - qLower) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1782</td>
                                    <td class="row-source"><pre>//                   2 ** 216              2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1783</td>
                                    <td class="row-source"><pre>//                                               / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1784</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1785</td>
                                    <td class="row-source"><pre>//                + qUpper / 2    incomingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1786</td>
                                    <td class="row-source"><pre>//           == e              * -------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1787</td>
                                    <td class="row-source"><pre>//                                 2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1788</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1789</td>
                                    <td class="row-source"><pre>//        - If the swap is price decreasing and &#39;exactInput == false&#39;, define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1790</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1791</td>
                                    <td class="row-source"><pre>//                                         - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1792</td>
                                    <td class="row-source"><pre>//            integralLimitInterval      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1793</td>
                                    <td class="row-source"><pre>//          &#39;----------------------- := ------- * |  e         k(qUpper - h) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1794</td>
                                    <td class="row-source"><pre>//                   2 ** 216              2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1795</td>
                                    <td class="row-source"><pre>//                                               / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1796</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1797</td>
                                    <td class="row-source"><pre>//                + qUpper / 2    outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1798</td>
                                    <td class="row-source"><pre>//           == e              * -------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1799</td>
                                    <td class="row-source"><pre>//                                 2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1800</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1801</td>
                                    <td class="row-source"><pre>//        - If the swap is price decreasing and &#39;exactInput == true&#39;, define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1802</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1803</td>
                                    <td class="row-source"><pre>//                                         - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1804</td>
                                    <td class="row-source"><pre>//            integralLimitInterval      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1805</td>
                                    <td class="row-source"><pre>//          &#39;----------------------- := ------- * |  e         k(qUpper - h) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1806</td>
                                    <td class="row-source"><pre>//                   2 ** 216              2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1807</td>
                                    <td class="row-source"><pre>//                                               / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1808</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1809</td>
                                    <td class="row-source"><pre>//                - qLower / 2    incomingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1810</td>
                                    <td class="row-source"><pre>//           == e              * -------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1811</td>
                                    <td class="row-source"><pre>//                                 2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1812</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1813</td>
                                    <td class="row-source"><pre>//        In the first and the fourth cases above, &#39;amountSpecified&#39; is in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1814</td>
                                    <td class="row-source"><pre>//        &#39;tag0&#39;. By crossing the active interval entirely, the absolute value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1815</td>
                                    <td class="row-source"><pre>//        &#39;|amountSpecified|&#39; is decremented by:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1816</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1817</td>
                                    <td class="row-source"><pre>//                                               growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1818</td>
                                    <td class="row-source"><pre>//          &#39;sqrtInverseOffset * sharesTotal * ---------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1819</td>
                                    <td class="row-source"><pre>//                                              2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1820</td>
                                    <td class="row-source"><pre>//            integralLimitInterval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1821</td>
                                    <td class="row-source"><pre>//           -----------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1822</td>
                                    <td class="row-source"><pre>//                 outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1823</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1824</td>
                                    <td class="row-source"><pre>//        In the second and the third cases above, &#39;amountSpecified&#39; is in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1825</td>
                                    <td class="row-source"><pre>//        &#39;tag1&#39;. By crossing the active interval entirely, the absolute value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1826</td>
                                    <td class="row-source"><pre>//        &#39;|amountSpecified|&#39; is decremented by:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1827</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1828</td>
                                    <td class="row-source"><pre>//                                        growth      integralLimitInterval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1829</td>
                                    <td class="row-source"><pre>//          &#39;sqrtOffset * sharesTotal * ---------- * -----------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1830</td>
                                    <td class="row-source"><pre>//                                       2 ** 111          outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1831</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1832</td>
                                    <td class="row-source"><pre>//        Hence, in both cases, by crossing the active interval, the limit</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1833</td>
                                    <td class="row-source"><pre>//        imposed by &#39;amountSpecified&#39; is not violated if and only if:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1834</td>
                                    <td class="row-source"><pre>//        </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1835</td>
                                    <td class="row-source"><pre>//          &#39;integralLimitInterval &lt;= integralLimit&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1836</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1837</td>
                                    <td class="row-source"><pre>//    In the present example, since &#39;integralLimit == +oo&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1838</td>
                                    <td class="row-source"><pre>//    &#39;qLimit &lt;= qNext&#39; both (a) and (b) are satisfied which means that we can</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1839</td>
                                    <td class="row-source"><pre>//    cross the active interval and move the price to &#39;qNext&#39; directly, while</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1840</td>
                                    <td class="row-source"><pre>//    determining the outgoing and incoming amounts based on the precalculated</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1841</td>
                                    <td class="row-source"><pre>//    parameters of the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1842</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1843</td>
                                    <td class="row-source"><pre>//    Once again, before the execution of this cross, we need to verify the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1844</td>
                                    <td class="row-source"><pre>//    condition, &#39;sharesTotal &gt;= crossThreshold&#39;. If not met, the swap call is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1845</td>
                                    <td class="row-source"><pre>//    halted and the current values accumulated as &#39;amount0&#39; and &#39;amount1&#39; are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1846</td>
                                    <td class="row-source"><pre>//    exchanged.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1847</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1848</td>
                                    <td class="row-source"><pre>//  - In order to move the price from &#39;qBack&#39; to &#39;qNext&#39;, we need to update a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1849</td>
                                    <td class="row-source"><pre>//    number of parameters, including:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1850</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1851</td>
                                    <td class="row-source"><pre>//    - &#39;amount0&#39;: According to the above formulas, as we move the price all</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1852</td>
                                    <td class="row-source"><pre>//      the way from &#39;qBack&#39; to &#39;qNext&#39;, &#39;amount0&#39; should be incremented by:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1853</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1854</td>
                                    <td class="row-source"><pre>//                                                               growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1855</td>
                                    <td class="row-source"><pre>//        &#39;amount0Partial == sqrtInverseOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1856</td>
                                    <td class="row-source"><pre>//                                                              2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1857</td>
                                    <td class="row-source"><pre>//          incomingMax      - qLower / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1858</td>
                                    <td class="row-source"><pre>//         ------------- * e              &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1859</td>
                                    <td class="row-source"><pre>//          outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1860</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1861</td>
                                    <td class="row-source"><pre>//    - &#39;amount1&#39;: According to the above formulas, as we move the price all</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1862</td>
                                    <td class="row-source"><pre>//      the way from &#39;qBack&#39; to &#39;qNext&#39;, &#39;amount1&#39; should be decremented by:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1863</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1864</td>
                                    <td class="row-source"><pre>//                                                        growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1865</td>
                                    <td class="row-source"><pre>//        &#39;amount1Partial == sqrtOffset * sharesTotal * ---------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1866</td>
                                    <td class="row-source"><pre>//                                                       2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1867</td>
                                    <td class="row-source"><pre>//                             + qUpper / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1868</td>
                                    <td class="row-source"><pre>//                           e              &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1869</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1870</td>
                                    <td class="row-source"><pre>//    - &#39;amountSpecified&#39;: Since the swap is partially fulfilled, we should</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1871</td>
                                    <td class="row-source"><pre>//      decrement &#39;amountSpecified&#39; by &#39;amount0Partial&#39; to reflect this:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1872</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1873</td>
                                    <td class="row-source"><pre>//        &#39;amountSpecified -= amount0Partial&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1874</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1875</td>
                                    <td class="row-source"><pre>//    - &#39;curve&#39;: Following the pattern that was introduced earlier, for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1876</td>
                                    <td class="row-source"><pre>//      inactive liquidity intervals, the amended curve sequence for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1877</td>
                                    <td class="row-source"><pre>//      &#39;[qLower, qUpper]&#39; should be:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1878</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1879</td>
                                    <td class="row-source"><pre>//        &#39;q[0] := qUpper&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1880</td>
                                    <td class="row-source"><pre>//        &#39;q[1] := qLower&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1881</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1882</td>
                                    <td class="row-source"><pre>//      This amendment, transforms the function &#39;w&#39; associated with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1883</td>
                                    <td class="row-source"><pre>//      &#39;[qLower, qUpper]&#39; from the following:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1884</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1885</td>
                                    <td class="row-source"><pre>//            w(q)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1886</td>
                                    <td class="row-source"><pre>//              ^</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1887</td>
                                    <td class="row-source"><pre>//      spacing |\</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1888</td>
                                    <td class="row-source"><pre>//              | \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1889</td>
                                    <td class="row-source"><pre>//              |  \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1890</td>
                                    <td class="row-source"><pre>//              |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1891</td>
                                    <td class="row-source"><pre>//              |    \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1892</td>
                                    <td class="row-source"><pre>//              |     \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1893</td>
                                    <td class="row-source"><pre>//              |      \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1894</td>
                                    <td class="row-source"><pre>//              |       \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1895</td>
                                    <td class="row-source"><pre>//              |        \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1896</td>
                                    <td class="row-source"><pre>//              |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1897</td>
                                    <td class="row-source"><pre>//              |          \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1898</td>
                                    <td class="row-source"><pre>//              |           \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1899</td>
                                    <td class="row-source"><pre>//              |            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1900</td>
                                    <td class="row-source"><pre>//              |             \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1901</td>
                                    <td class="row-source"><pre>//              |              \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1902</td>
                                    <td class="row-source"><pre>//              |               \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1903</td>
                                    <td class="row-source"><pre>//              |                \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1904</td>
                                    <td class="row-source"><pre>//            0 +-----------------+-&gt; q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1905</td>
                                    <td class="row-source"><pre>//           qLower               |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1906</td>
                                    <td class="row-source"><pre>//                              qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1907</td>
                                    <td class="row-source"><pre>//                                |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1908</td>
                                    <td class="row-source"><pre>//                            qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1909</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1910</td>
                                    <td class="row-source"><pre>//      to a new function:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1911</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1912</td>
                                    <td class="row-source"><pre>//        &#39;wAmended(q) := q - qLower&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1913</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1914</td>
                                    <td class="row-source"><pre>//      which can be plotted as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1915</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1916</td>
                                    <td class="row-source"><pre>//          wAmended(q)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1917</td>
                                    <td class="row-source"><pre>//              ^</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1918</td>
                                    <td class="row-source"><pre>//      spacing |                /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1919</td>
                                    <td class="row-source"><pre>//              |               /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1920</td>
                                    <td class="row-source"><pre>//              |              /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1921</td>
                                    <td class="row-source"><pre>//              |             /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1922</td>
                                    <td class="row-source"><pre>//              |            /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1923</td>
                                    <td class="row-source"><pre>//              |           /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1924</td>
                                    <td class="row-source"><pre>//              |          /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1925</td>
                                    <td class="row-source"><pre>//              |         /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1926</td>
                                    <td class="row-source"><pre>//              |        /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1927</td>
                                    <td class="row-source"><pre>//              |       /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1928</td>
                                    <td class="row-source"><pre>//              |      /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1929</td>
                                    <td class="row-source"><pre>//              |     /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1930</td>
                                    <td class="row-source"><pre>//              |    /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1931</td>
                                    <td class="row-source"><pre>//              |   /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1932</td>
                                    <td class="row-source"><pre>//              |  /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1933</td>
                                    <td class="row-source"><pre>//              | /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1934</td>
                                    <td class="row-source"><pre>//              |/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1935</td>
                                    <td class="row-source"><pre>//            0 +-----------------+-&gt; q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1936</td>
                                    <td class="row-source"><pre>//           qLower               |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1937</td>
                                    <td class="row-source"><pre>//                              qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1938</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1939</td>
                                    <td class="row-source"><pre>//      As we will demonstrate next, this procedure results in growth for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1940</td>
                                    <td class="row-source"><pre>//      liquidity providers.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1941</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1942</td>
                                    <td class="row-source"><pre>//    - &#39;growth&#39;: As discussed earlier, since the liquidity distribution</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1943</td>
                                    <td class="row-source"><pre>//      function &#39;k(w(.))&#39; is modified to &#39;k(wAmended(.))&#39;, we need to make an</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1944</td>
                                    <td class="row-source"><pre>//      adjustment to the &#39;growth&#39; value and turn it into &#39;growthAmended&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1945</td>
                                    <td class="row-source"><pre>//      In order to determine &#39;growthAmended&#39;, the following equation is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1946</td>
                                    <td class="row-source"><pre>//      solved:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1947</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1948</td>
                                    <td class="row-source"><pre>//        &#39;totalReserveOfTag0Before == totalReserveOfTag0After&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1949</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1950</td>
                                    <td class="row-source"><pre>//      where &#39;totalReserveOfTag0Before&#39; is the total amount of &#39;tag0&#39; within</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1951</td>
                                    <td class="row-source"><pre>//      &#39;[qLower, qUpper]&#39; which is calculated based on &#39;k(w(.))&#39;, whereas</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1952</td>
                                    <td class="row-source"><pre>//      &#39;totalReserveOfTag0After&#39; is the same value calculated based on</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1953</td>
                                    <td class="row-source"><pre>//      &#39;k(wAmended(.))&#39;. The two sides of the equation can be derived as:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1954</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1955</td>
                                    <td class="row-source"><pre>//        &#39;totalReserveOfTag0Before == sqrtInverseOffset * sharesTotal * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1956</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1957</td>
                                    <td class="row-source"><pre>//                                         - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1958</td>
                                    <td class="row-source"><pre>//           growth       2 ** 216       e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1959</td>
                                    <td class="row-source"><pre>//         ---------- * ------------- * ------- * |  e         k(w(h)) dh ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1960</td>
                                    <td class="row-source"><pre>//          2 ** 111     outgoingMax       2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1961</td>
                                    <td class="row-source"><pre>//                                               / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1962</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1963</td>
                                    <td class="row-source"><pre>//                                             growth       2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1964</td>
                                    <td class="row-source"><pre>//         sqrtInverseOffset * sharesTotal * ---------- * ------------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1965</td>
                                    <td class="row-source"><pre>//                                            2 ** 111     outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1966</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1967</td>
                                    <td class="row-source"><pre>//            - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1968</td>
                                    <td class="row-source"><pre>//          e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1969</td>
                                    <td class="row-source"><pre>//         ------- * |  e         k(qUpper - h) dh ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1970</td>
                                    <td class="row-source"><pre>//            2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1971</td>
                                    <td class="row-source"><pre>//                  / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1972</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1973</td>
                                    <td class="row-source"><pre>//                                             growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1974</td>
                                    <td class="row-source"><pre>//         sqrtInverseOffset * sharesTotal * ---------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1975</td>
                                    <td class="row-source"><pre>//                                            2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1976</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1977</td>
                                    <td class="row-source"><pre>//          incomingMax      - qLower / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1978</td>
                                    <td class="row-source"><pre>//         ------------- * e              &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1979</td>
                                    <td class="row-source"><pre>//          outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1980</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1981</td>
                                    <td class="row-source"><pre>//      and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1982</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1983</td>
                                    <td class="row-source"><pre>//        &#39;totalReserveOfTag0After ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1984</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1985</td>
                                    <td class="row-source"><pre>//                                            growthAmended</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1986</td>
                                    <td class="row-source"><pre>//         sqrtInverseOffset * sharesTotal * --------------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1987</td>
                                    <td class="row-source"><pre>//                                              2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1988</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1989</td>
                                    <td class="row-source"><pre>//                            - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1990</td>
                                    <td class="row-source"><pre>//            2 ** 216      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1991</td>
                                    <td class="row-source"><pre>//         ------------- * ------- * |  e         k(h - qLower) dh&#39; == </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1992</td>
                                    <td class="row-source"><pre>//          outgoingMax       2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1993</td>
                                    <td class="row-source"><pre>//                                  / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1994</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1995</td>
                                    <td class="row-source"><pre>//                                            growthAmended</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1996</td>
                                    <td class="row-source"><pre>//         sqrtInverseOffset * sharesTotal * --------------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1997</td>
                                    <td class="row-source"><pre>//                                              2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1998</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1999</td>
                                    <td class="row-source"><pre>//           - qLower / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2000</td>
                                    <td class="row-source"><pre>//         e              &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2001</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2002</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2003</td>
                                    <td class="row-source"><pre>//      Hence, &#39;growthAmended&#39; is given by the following formula:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2004</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2005</td>
                                    <td class="row-source"><pre>//                                    incomingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2006</td>
                                    <td class="row-source"><pre>//        &#39;growthAmended == growth * -------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2007</td>
                                    <td class="row-source"><pre>//                                    outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2008</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2009</td>
                                    <td class="row-source"><pre>//      As proven earlier, &#39;incomingMax&#39; is always greater than or equal to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2010</td>
                                    <td class="row-source"><pre>//      &#39;outgoingMax&#39;. Hence, crossing the active interval results in growth.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2011</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2012</td>
                                    <td class="row-source"><pre>//    - &#39;qCurrent&#39;: Lastly, as we move the price of the pool to &#39;qNext&#39;, the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2013</td>
                                    <td class="row-source"><pre>//      value for &#39;qCurrent&#39; should be updated to reflect this change., which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2014</td>
                                    <td class="row-source"><pre>//      is illustrated as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2015</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2016</td>
                                    <td class="row-source"><pre>//                qLimit                qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2017</td>
                                    <td class="row-source"><pre>//                   |                     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2018</td>
                                    <td class="row-source"><pre>//      ... &lt;--+-------------+-------------+-------------+-------------+--&gt; ...</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2019</td>
                                    <td class="row-source"><pre>//                                         |             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2020</td>
                                    <td class="row-source"><pre>//                                       qNext         qBack</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2021</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2022</td>
                                    <td class="row-source"><pre>//  - Similar to the prior steps, as we reach &#39;qNext&#39;, we transition from the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2023</td>
                                    <td class="row-source"><pre>//    original liquidity interval &#39;[qLower, qUpper]&#39; to its adjacent interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2024</td>
                                    <td class="row-source"><pre>//    &#39;[qLower - qSpacing, qUpper - qSpacing]&#39;. This transition involves the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2025</td>
                                    <td class="row-source"><pre>//    adjustment of growth multipliers. In addition we need to update &#39;growth&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2026</td>
                                    <td class="row-source"><pre>//    &#39;sharesTotal&#39;, &#39;qBack&#39;, &#39;qNext&#39;, as well as the curve sequence. The new</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2027</td>
                                    <td class="row-source"><pre>//    status of the pool following this transition is illustrated as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2028</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2029</td>
                                    <td class="row-source"><pre>//                qLimit                qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2030</td>
                                    <td class="row-source"><pre>//                   |                     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2031</td>
                                    <td class="row-source"><pre>//      ... &lt;--+-------------+-------------+-------------+-------------+--&gt; ...</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2032</td>
                                    <td class="row-source"><pre>//                           |             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2033</td>
                                    <td class="row-source"><pre>//                         qNext         qBack</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2034</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2035</td>
                                    <td class="row-source"><pre>//  - Similar to the prior steps, as we transition to a new liquidity interval,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2036</td>
                                    <td class="row-source"><pre>//    we determine whether we should cross this new active interval entirely or</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2037</td>
                                    <td class="row-source"><pre>//    not. In the present example, since &#39;qLimit &lt;= qNext&#39; and </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2038</td>
                                    <td class="row-source"><pre>//    &#39;amountSpecified == +oo&#39;, we need to cross one more time. This action</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2039</td>
                                    <td class="row-source"><pre>//    will modify &#39;amount0&#39;, &#39;amount1&#39;, &#39;growth&#39;, as well as the curve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2040</td>
                                    <td class="row-source"><pre>//    sequence. Additionally, crossing the active interval moves &#39;qCurrent&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2041</td>
                                    <td class="row-source"><pre>//    &#39;qNext&#39; which is illustrated below:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2042</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2043</td>
                                    <td class="row-source"><pre>//                        qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2044</td>
                                    <td class="row-source"><pre>//                qLimit     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2045</td>
                                    <td class="row-source"><pre>//                   |       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2046</td>
                                    <td class="row-source"><pre>//      ... &lt;--+-------------+-------------+-------------+-------------+--&gt; ...</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2047</td>
                                    <td class="row-source"><pre>//                           |             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2048</td>
                                    <td class="row-source"><pre>//                         qNext         qBack</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2049</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2050</td>
                                    <td class="row-source"><pre>//  - Next, we need to perform another transition in order to enter the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2051</td>
                                    <td class="row-source"><pre>//    liquidity interval that contains &#39;qLimit&#39;. The new status of the pool</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2052</td>
                                    <td class="row-source"><pre>//    following this transition is illustrated as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2053</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2054</td>
                                    <td class="row-source"><pre>//                        qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2055</td>
                                    <td class="row-source"><pre>//                qLimit     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2056</td>
                                    <td class="row-source"><pre>//                   |       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2057</td>
                                    <td class="row-source"><pre>//      ... &lt;--+-------------+-------------+-------------+-------------+--&gt; ...</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2058</td>
                                    <td class="row-source"><pre>//             |             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2059</td>
                                    <td class="row-source"><pre>//           qNext         qBack</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2060</td>
                                    <td class="row-source"><pre>//  </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2061</td>
                                    <td class="row-source"><pre>//  - Once again, as we transition to a new liquidity interval, we determine</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2062</td>
                                    <td class="row-source"><pre>//    whether we should cross this new active interval entirely or not. This,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2063</td>
                                    <td class="row-source"><pre>//    time, since &#39;qNext &lt; qLimit&#39;, we should transact within the active</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2064</td>
                                    <td class="row-source"><pre>//    interval as opposed to crossing it. To this end, we move the price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2065</td>
                                    <td class="row-source"><pre>//    towards &#39;qNext&#39; until either of the following conditions are met:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2066</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2067</td>
                                    <td class="row-source"><pre>//    (a) &#39;amountSpecified&#39; is fulfilled.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2068</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2069</td>
                                    <td class="row-source"><pre>//    (b) &#39;qLimit&#39; is reached.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2070</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2071</td>
                                    <td class="row-source"><pre>//    We move the price from &#39;qCurrent&#39; towards &#39;qNext&#39; by enumerating pieces</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2072</td>
                                    <td class="row-source"><pre>//    of the present liquidity distribution function &#39;k(w(.))&#39;. To this end,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2073</td>
                                    <td class="row-source"><pre>//    the memory pointers &#39;_begin_&#39; and &#39;_target_&#39; are used in order to keep</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2074</td>
                                    <td class="row-source"><pre>//    track of the two endpoints for the current piece under exploration. Here,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2075</td>
                                    <td class="row-source"><pre>//    we refer to these endpoints as &#39;qBegin&#39; and &#39;qTarget&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2076</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2077</td>
                                    <td class="row-source"><pre>//    We start with &#39;qBegin == qCurrent&#39; and move forward by continuously</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2078</td>
                                    <td class="row-source"><pre>//    updating &#39;qBegin&#39; and &#39;qTarget&#39;. In each step, the integrals</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2079</td>
                                    <td class="row-source"><pre>//    &#39;currentToTarget&#39; and &#39;incomingCurrentToTarget&#39; are incremented to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2080</td>
                                    <td class="row-source"><pre>//    account for the outgoing amount from the pool and the incoming amount to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2081</td>
                                    <td class="row-source"><pre>//    the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2082</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2083</td>
                                    <td class="row-source"><pre>//    While incrementing the two integrals, we need to continuously monitor</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2084</td>
                                    <td class="row-source"><pre>//    condition (a). To that end, we once again calculate &#39;integralLimit&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2085</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2086</td>
                                    <td class="row-source"><pre>//      &#39;integralLimit := outgoingMax * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2087</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2088</td>
                                    <td class="row-source"><pre>//        |amountSpecified|          1          2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2089</td>
                                    <td class="row-source"><pre>//       ------------------- * ------------- * ---------- == +oo&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2090</td>
                                    <td class="row-source"><pre>//        sqrtInverseOffset     sharesTotal      growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2091</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2092</td>
                                    <td class="row-source"><pre>//    With each increment of &#39;incomingCurrentToTarget&#39; we check whether it has</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2093</td>
                                    <td class="row-source"><pre>//    exceeded &#39;integralLimit&#39; in which case the swap is halted (alternatively,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2094</td>
                                    <td class="row-source"><pre>//    in the case where &#39;exactInput == false&#39;, we need to continuously check</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2095</td>
                                    <td class="row-source"><pre>//    whether &#39;currentToTarget&#39; has exceeded &#39;integralLimit&#39; or not). However,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2096</td>
                                    <td class="row-source"><pre>//    this stopping criteria does not apply to this example because</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2097</td>
                                    <td class="row-source"><pre>//    &#39;integralLimit == +oo&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2098</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2099</td>
                                    <td class="row-source"><pre>//    Hence, we can move forward until the stopping criteria (b) is met, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2100</td>
                                    <td class="row-source"><pre>//    until</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2101</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2102</td>
                                    <td class="row-source"><pre>//      &#39;qTarget == qLimit&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2103</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2104</td>
                                    <td class="row-source"><pre>//    Once the above condition is met, we need to update a number of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2105</td>
                                    <td class="row-source"><pre>//    parameters, including:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2106</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2107</td>
                                    <td class="row-source"><pre>//    - &#39;amount0&#39;: As discussed in the prior steps, the following increment</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2108</td>
                                    <td class="row-source"><pre>//      should be applied to &#39;amount0&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2109</td>
                                    <td class="row-source"><pre>//                                                               growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2110</td>
                                    <td class="row-source"><pre>//        &#39;amount0Partial := sqrtInverseOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2111</td>
                                    <td class="row-source"><pre>//                                                              2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2112</td>
                                    <td class="row-source"><pre>//                            incomingCurrentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2113</td>
                                    <td class="row-source"><pre>//                           -------------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2114</td>
                                    <td class="row-source"><pre>//                                  outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2115</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2116</td>
                                    <td class="row-source"><pre>//    - &#39;amount1&#39;: As discussed in the prior steps, the following decrement</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2117</td>
                                    <td class="row-source"><pre>//      should be applied to &#39;amount1&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2118</td>
                                    <td class="row-source"><pre>//                                                        growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2119</td>
                                    <td class="row-source"><pre>//        &#39;amount1Partial := sqrtOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2120</td>
                                    <td class="row-source"><pre>//                                                       2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2121</td>
                                    <td class="row-source"><pre>//                            currentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2122</td>
                                    <td class="row-source"><pre>//                           -----------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2123</td>
                                    <td class="row-source"><pre>//                              outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2124</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2125</td>
                                    <td class="row-source"><pre>//    - &#39;amountSpecified&#39;: Since the swap is partially fulfilled, we should</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2126</td>
                                    <td class="row-source"><pre>//      decrement &#39;amountSpecified&#39; by &#39;amount0Partial&#39; to reflect this:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2127</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2128</td>
                                    <td class="row-source"><pre>//        &#39;amountSpecified -= amount0Partial&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2129</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2130</td>
                                    <td class="row-source"><pre>//    - &#39;qCurrent&#39;: Since we moved the price of the pool to &#39;qLimit&#39;, the value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2131</td>
                                    <td class="row-source"><pre>//      for &#39;qCurrent&#39; in memory (i.e., the content of the memory space which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2132</td>
                                    <td class="row-source"><pre>//      is pointed to by &#39;_logPriceCurrent_&#39;) should be updated to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2133</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2134</td>
                                    <td class="row-source"><pre>//        &#39;qCurrent := qTarget&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2135</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2136</td>
                                    <td class="row-source"><pre>//      This is illustrated as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2137</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2138</td>
                                    <td class="row-source"><pre>//                qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2139</td>
                                    <td class="row-source"><pre>//                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2140</td>
                                    <td class="row-source"><pre>//                qLimit</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2141</td>
                                    <td class="row-source"><pre>//                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2142</td>
                                    <td class="row-source"><pre>//      ... &lt;--+-------------+-------------+-------------+-------------+--&gt; ...</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2143</td>
                                    <td class="row-source"><pre>//             |     |       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2144</td>
                                    <td class="row-source"><pre>//           qNext   |     qBack</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2145</td>
                                    <td class="row-source"><pre>//                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2146</td>
                                    <td class="row-source"><pre>//               qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2147</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2148</td>
                                    <td class="row-source"><pre>//    - &#39;curve&#39; and &#39;growth&#39;: Now that the target price is determined as well</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2149</td>
                                    <td class="row-source"><pre>//      as the outgoing and incoming amounts, we need to update the AMM curve </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2150</td>
                                    <td class="row-source"><pre>//      in preparation for the next swap. To this end, the curve sequence</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2151</td>
                                    <td class="row-source"><pre>//      should be amended. In doing so, we need to respect certain</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2152</td>
                                    <td class="row-source"><pre>//      requirements:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2153</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2154</td>
                                    <td class="row-source"><pre>//      Firstly, remember that the last member of the curve sequence should</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2155</td>
                                    <td class="row-source"><pre>//      always correspond to the current price of the pool, i.e., &#39;qCurrent&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2156</td>
                                    <td class="row-source"><pre>//      Now that we have set &#39;qCurrent&#39; to &#39;qTarget&#39; the curve sequence should</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2157</td>
                                    <td class="row-source"><pre>//      be amended with this new value in preparation for the next swap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2158</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2159</td>
                                    <td class="row-source"><pre>//      Secondly, we should be mindful of the fact that amending the curve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2160</td>
                                    <td class="row-source"><pre>//      sequence changes the liquidity distribution function from &#39;k(w(.))&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2161</td>
                                    <td class="row-source"><pre>//      &#39;k(wAmended(.))&#39; and we need to make sure that this change does not</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2162</td>
                                    <td class="row-source"><pre>//      affect our accounting of the total interval reserves with respect to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2163</td>
                                    <td class="row-source"><pre>//      both tags. More precisely, the curve sequence must be amended subject</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2164</td>
                                    <td class="row-source"><pre>//      to the following constraints:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2165</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2166</td>
                                    <td class="row-source"><pre>//        &#39;totalReserveOfTag0Before == totalReserveOfTag0After&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2167</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2168</td>
                                    <td class="row-source"><pre>//        &#39;totalReserveOfTag1Before == totalReserveOfTag1After&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2169</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2170</td>
                                    <td class="row-source"><pre>//      where &#39;totalReserveOfTag0Before&#39; and &#39;totalReserveOfTag1Before&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2171</td>
                                    <td class="row-source"><pre>//      respectively, are the total reserves of &#39;tag0&#39; and &#39;tag1&#39; within</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2172</td>
                                    <td class="row-source"><pre>//      &#39;[qLower, qUpper]&#39; that are calculated based on &#39;k(w(.))&#39;, whereas</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2173</td>
                                    <td class="row-source"><pre>//      &#39;totalReserveOfTag0After&#39; and &#39;totalReserveOfTag1After&#39; are the same</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2174</td>
                                    <td class="row-source"><pre>//      amounts that are calculated based on &#39;k(wAmended(.))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2175</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2176</td>
                                    <td class="row-source"><pre>//      The two sides of the first equation can be derived as:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2177</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2178</td>
                                    <td class="row-source"><pre>//        &#39;totalReserveOfTag0Before := sqrtInverseOffset * sharesTotal * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2179</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2180</td>
                                    <td class="row-source"><pre>//                                         - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2181</td>
                                    <td class="row-source"><pre>//           growth       2 ** 216       e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2182</td>
                                    <td class="row-source"><pre>//         ---------- * ------------- * ------- * |  e         k(w(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2183</td>
                                    <td class="row-source"><pre>//          2 ** 111     outgoingMax       2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2184</td>
                                    <td class="row-source"><pre>//                                               / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2185</td>
                                    <td class="row-source"><pre>//      and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2186</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2187</td>
                                    <td class="row-source"><pre>//        &#39;totalReserveOfTag0After := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2188</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2189</td>
                                    <td class="row-source"><pre>//                                            growthAmended</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2190</td>
                                    <td class="row-source"><pre>//         sqrtInverseOffset * sharesTotal * --------------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2191</td>
                                    <td class="row-source"><pre>//                                               2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2192</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2193</td>
                                    <td class="row-source"><pre>//                            - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2194</td>
                                    <td class="row-source"><pre>//           2 ** 216       e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2195</td>
                                    <td class="row-source"><pre>//         ------------- * ------- * |  e         k(wAmended(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2196</td>
                                    <td class="row-source"><pre>//          outgoingMax       2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2197</td>
                                    <td class="row-source"><pre>//                                  / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2198</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2199</td>
                                    <td class="row-source"><pre>//      which simplify the first equation to:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2200</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2201</td>
                                    <td class="row-source"><pre>//                               / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2202</td>
                                    <td class="row-source"><pre>//                              |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2203</td>
                                    <td class="row-source"><pre>//                              |  e         k(wAmended(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2204</td>
                                    <td class="row-source"><pre>//                              |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2205</td>
                                    <td class="row-source"><pre>//              growth         / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2206</td>
                                    <td class="row-source"><pre>//        &#39;--------------- == ---------------------------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2207</td>
                                    <td class="row-source"><pre>//          growthAmended           / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2208</td>
                                    <td class="row-source"><pre>//                                 |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2209</td>
                                    <td class="row-source"><pre>//                                 |  e         k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2210</td>
                                    <td class="row-source"><pre>//                                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2211</td>
                                    <td class="row-source"><pre>//                                / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2212</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2213</td>
                                    <td class="row-source"><pre>//      The two sides of the second equation can be derived as:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2214</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2215</td>
                                    <td class="row-source"><pre>//        &#39;totalReserveOfTag1Before := sqrtOffset * sharesTotal * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2216</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2217</td>
                                    <td class="row-source"><pre>//                                         - 8     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2218</td>
                                    <td class="row-source"><pre>//           growth       2 ** 216       e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2219</td>
                                    <td class="row-source"><pre>//         ---------- * ------------- * ------- * |  e         k(w(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2220</td>
                                    <td class="row-source"><pre>//          2 ** 111     outgoingMax       2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2221</td>
                                    <td class="row-source"><pre>//                                               / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2222</td>
                                    <td class="row-source"><pre>//      and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2223</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2224</td>
                                    <td class="row-source"><pre>//        &#39;totalReserveOfTag1After := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2225</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2226</td>
                                    <td class="row-source"><pre>//                                     growthAmended      2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2227</td>
                                    <td class="row-source"><pre>//         sqrtOffset * sharesTotal * --------------- * ------------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2228</td>
                                    <td class="row-source"><pre>//                                        2 ** 111       outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2229</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2230</td>
                                    <td class="row-source"><pre>//            - 8     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2231</td>
                                    <td class="row-source"><pre>//          e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2232</td>
                                    <td class="row-source"><pre>//         ------- * |  e         k(wAmended(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2233</td>
                                    <td class="row-source"><pre>//            2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2234</td>
                                    <td class="row-source"><pre>//                  / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2235</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2236</td>
                                    <td class="row-source"><pre>//      which simplifies the second equation to:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2237</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2238</td>
                                    <td class="row-source"><pre>//                               / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2239</td>
                                    <td class="row-source"><pre>//                              |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2240</td>
                                    <td class="row-source"><pre>//                              |  e         k(wAmended(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2241</td>
                                    <td class="row-source"><pre>//                              |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2242</td>
                                    <td class="row-source"><pre>//            growth           / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2243</td>
                                    <td class="row-source"><pre>//        &#39;--------------- == ---------------------------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2244</td>
                                    <td class="row-source"><pre>//          growthAmended           / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2245</td>
                                    <td class="row-source"><pre>//                                 |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2246</td>
                                    <td class="row-source"><pre>//                                 |  e         k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2247</td>
                                    <td class="row-source"><pre>//                                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2248</td>
                                    <td class="row-source"><pre>//                                / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2249</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2250</td>
                                    <td class="row-source"><pre>//      Based on the above equations, finding &#39;growthAmended&#39; with respect to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2251</td>
                                    <td class="row-source"><pre>//      &#39;k(w(.))&#39; and &#39;k(wAmended(.))&#39; is straightforward.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2252</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2253</td>
                                    <td class="row-source"><pre>//      However, in order to satisfy both of the equations, we should have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2254</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2255</td>
                                    <td class="row-source"><pre>//            / qTarget                         / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2256</td>
                                    <td class="row-source"><pre>//           |   + h/2                         |   - h/2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2257</td>
                                    <td class="row-source"><pre>//           |  e      k(wAmended(h)) dh       |  e      k(wAmended(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2258</td>
                                    <td class="row-source"><pre>//           |                                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2259</td>
                                    <td class="row-source"><pre>//          / qLower                          / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2260</td>
                                    <td class="row-source"><pre>//        &#39;------------------------------ == ------------------------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2261</td>
                                    <td class="row-source"><pre>//               / qTarget                         / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2262</td>
                                    <td class="row-source"><pre>//              |    + h/2                        |    - h/2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2263</td>
                                    <td class="row-source"><pre>//              |  e       k(w(h)) dh             |  e       k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2264</td>
                                    <td class="row-source"><pre>//              |                                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2265</td>
                                    <td class="row-source"><pre>//             / qLower                          / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2266</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2267</td>
                                    <td class="row-source"><pre>//      Because of the above constraint, we need to take an additional step</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2268</td>
                                    <td class="row-source"><pre>//      prior to amending the curve sequence with &#39;qTarget&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2269</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2270</td>
                                    <td class="row-source"><pre>//      Observe that the current curve sequence is last updated when we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2271</td>
                                    <td class="row-source"><pre>//      transitioned into &#39;[qLower, qUpper]&#39; and it is composed of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2272</td>
                                    <td class="row-source"><pre>//      following two points:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2273</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2274</td>
                                    <td class="row-source"><pre>//        &#39;q[0] := qLower&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2275</td>
                                    <td class="row-source"><pre>//        &#39;q[1] := qUpper&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2276</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2277</td>
                                    <td class="row-source"><pre>//      The corresponding diagram for the current curve sequence is illustrated</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2278</td>
                                    <td class="row-source"><pre>//      as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2279</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2280</td>
                                    <td class="row-source"><pre>//            w(q)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2281</td>
                                    <td class="row-source"><pre>//              ^</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2282</td>
                                    <td class="row-source"><pre>//      spacing |                /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2283</td>
                                    <td class="row-source"><pre>//              |               /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2284</td>
                                    <td class="row-source"><pre>//              |              /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2285</td>
                                    <td class="row-source"><pre>//              |             /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2286</td>
                                    <td class="row-source"><pre>//              |            /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2287</td>
                                    <td class="row-source"><pre>//              |           /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2288</td>
                                    <td class="row-source"><pre>//              |          /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2289</td>
                                    <td class="row-source"><pre>//              |\</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2290</td>
                                    <td class="row-source"><pre>//              | \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2291</td>
                                    <td class="row-source"><pre>//              |  \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2292</td>
                                    <td class="row-source"><pre>//              |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2293</td>
                                    <td class="row-source"><pre>//              |        /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2294</td>
                                    <td class="row-source"><pre>//              |       /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2295</td>
                                    <td class="row-source"><pre>//              |      /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2296</td>
                                    <td class="row-source"><pre>//              |     /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2297</td>
                                    <td class="row-source"><pre>//            0 +----+----+-------+-&gt; q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2298</td>
                                    <td class="row-source"><pre>//           qLower  |    |       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2299</td>
                                    <td class="row-source"><pre>//                   |   q[2]  qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2300</td>
                                    <td class="row-source"><pre>//                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2301</td>
                                    <td class="row-source"><pre>//               qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2302</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2303</td>
                                    <td class="row-source"><pre>//            w(q)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2304</td>
                                    <td class="row-source"><pre>//              ^</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2305</td>
                                    <td class="row-source"><pre>//      spacing |\</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2306</td>
                                    <td class="row-source"><pre>//              | \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2307</td>
                                    <td class="row-source"><pre>//              |  \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2308</td>
                                    <td class="row-source"><pre>//              |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2309</td>
                                    <td class="row-source"><pre>//              |    \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2310</td>
                                    <td class="row-source"><pre>//              |     \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2311</td>
                                    <td class="row-source"><pre>//              |      \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2312</td>
                                    <td class="row-source"><pre>//              |       \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2313</td>
                                    <td class="row-source"><pre>//              |        \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2314</td>
                                    <td class="row-source"><pre>//              |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2315</td>
                                    <td class="row-source"><pre>//              |          \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2316</td>
                                    <td class="row-source"><pre>//              |           \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2317</td>
                                    <td class="row-source"><pre>//              |            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2318</td>
                                    <td class="row-source"><pre>//              |             \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2319</td>
                                    <td class="row-source"><pre>//              |              \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2320</td>
                                    <td class="row-source"><pre>//            0 +-------+------+-&gt; q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2321</td>
                                    <td class="row-source"><pre>//           qLower     |      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2322</td>
                                    <td class="row-source"><pre>//                      |    qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2323</td>
                                    <td class="row-source"><pre>//                      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2324</td>
                                    <td class="row-source"><pre>//                   qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2325</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2326</td>
                                    <td class="row-source"><pre>//      Before amending the curve sequence with &#39;qTarget&#39;, we first determine a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2327</td>
                                    <td class="row-source"><pre>//      point between &#39;qTarget&#39; and &#39;qNext == qLower&#39; which is regarded as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2328</td>
                                    <td class="row-source"><pre>//      &#39;qOvershoot&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2329</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2330</td>
                                    <td class="row-source"><pre>//            w(q)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2331</td>
                                    <td class="row-source"><pre>//              ^</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2332</td>
                                    <td class="row-source"><pre>//      spacing |\</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2333</td>
                                    <td class="row-source"><pre>//              | \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2334</td>
                                    <td class="row-source"><pre>//              |  \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2335</td>
                                    <td class="row-source"><pre>//              |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2336</td>
                                    <td class="row-source"><pre>//              |    \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2337</td>
                                    <td class="row-source"><pre>//              |     \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2338</td>
                                    <td class="row-source"><pre>//              |      \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2339</td>
                                    <td class="row-source"><pre>//              |       \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2340</td>
                                    <td class="row-source"><pre>//              |        \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2341</td>
                                    <td class="row-source"><pre>//              |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2342</td>
                                    <td class="row-source"><pre>//              |          \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2343</td>
                                    <td class="row-source"><pre>//              |           \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2344</td>
                                    <td class="row-source"><pre>//              |            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2345</td>
                                    <td class="row-source"><pre>//              |             \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2346</td>
                                    <td class="row-source"><pre>//              |              \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2347</td>
                                    <td class="row-source"><pre>//              |               \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2348</td>
                                    <td class="row-source"><pre>//              |                \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2349</td>
                                    <td class="row-source"><pre>//            0 +----+----+-------+-&gt; q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2350</td>
                                    <td class="row-source"><pre>//           qLower  |    |       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2351</td>
                                    <td class="row-source"><pre>//                   |    |     qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2352</td>
                                    <td class="row-source"><pre>//                   |    |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2353</td>
                                    <td class="row-source"><pre>//                   | qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2354</td>
                                    <td class="row-source"><pre>//                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2355</td>
                                    <td class="row-source"><pre>//               qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2356</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2357</td>
                                    <td class="row-source"><pre>//      Then, the curve sequence is amended with &#39;qOvershoot&#39; which leads to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2358</td>
                                    <td class="row-source"><pre>//      the following sequence:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2359</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2360</td>
                                    <td class="row-source"><pre>//        &#39;q[0] := qUpper&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2361</td>
                                    <td class="row-source"><pre>//        &#39;q[1] := qLower&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2362</td>
                                    <td class="row-source"><pre>//        &#39;q[2] := qOvershoot&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2363</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2364</td>
                                    <td class="row-source"><pre>//      and the following diagram:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2365</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2366</td>
                                    <td class="row-source"><pre>//              ^</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2367</td>
                                    <td class="row-source"><pre>//      spacing |\</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2368</td>
                                    <td class="row-source"><pre>//              | \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2369</td>
                                    <td class="row-source"><pre>//              |  \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2370</td>
                                    <td class="row-source"><pre>//              |                /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2371</td>
                                    <td class="row-source"><pre>//              |               /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2372</td>
                                    <td class="row-source"><pre>//              |              /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2373</td>
                                    <td class="row-source"><pre>//              |             /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2374</td>
                                    <td class="row-source"><pre>//              |            /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2375</td>
                                    <td class="row-source"><pre>//              |           /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2376</td>
                                    <td class="row-source"><pre>//              |          /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2377</td>
                                    <td class="row-source"><pre>//              |         /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2378</td>
                                    <td class="row-source"><pre>//              |        /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2379</td>
                                    <td class="row-source"><pre>//              |       /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2380</td>
                                    <td class="row-source"><pre>//              |      /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2381</td>
                                    <td class="row-source"><pre>//              |     /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2382</td>
                                    <td class="row-source"><pre>//            0 +----+----+-------+-&gt; q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2383</td>
                                    <td class="row-source"><pre>//           qLower  |    |       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2384</td>
                                    <td class="row-source"><pre>//                   |    |     qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2385</td>
                                    <td class="row-source"><pre>//                   |    |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2386</td>
                                    <td class="row-source"><pre>//                   |  qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2387</td>
                                    <td class="row-source"><pre>//                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2388</td>
                                    <td class="row-source"><pre>//               qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2389</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2390</td>
                                    <td class="row-source"><pre>//      In this case, amending the curve sequence has increased its length.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2391</td>
                                    <td class="row-source"><pre>//      However, this is not always the case. As explained in &#39;Curve.sol&#39;, this</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2392</td>
                                    <td class="row-source"><pre>//      process may involve clearing a number of members from the end of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2393</td>
                                    <td class="row-source"><pre>//      curve sequence and then inserting the new member.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2394</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2395</td>
                                    <td class="row-source"><pre>//      After the amendment with &#39;qOvershoot&#39;, the resulting curve sequence is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2396</td>
                                    <td class="row-source"><pre>//      then amended with &#39;qTarget&#39; which leads to the following sequence:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2397</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2398</td>
                                    <td class="row-source"><pre>//        &#39;q[0] := qUpper&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2399</td>
                                    <td class="row-source"><pre>//        &#39;q[1] := qLower&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2400</td>
                                    <td class="row-source"><pre>//        &#39;q[2] := qOvershoot&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2401</td>
                                    <td class="row-source"><pre>//        &#39;q[3] := qTarget&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2402</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2403</td>
                                    <td class="row-source"><pre>//      and the following diagram:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2404</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2405</td>
                                    <td class="row-source"><pre>//          wAmended(q)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2406</td>
                                    <td class="row-source"><pre>//              ^</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2407</td>
                                    <td class="row-source"><pre>//      spacing |\</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2408</td>
                                    <td class="row-source"><pre>//              | \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2409</td>
                                    <td class="row-source"><pre>//              |  \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2410</td>
                                    <td class="row-source"><pre>//              |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2411</td>
                                    <td class="row-source"><pre>//              |                /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2412</td>
                                    <td class="row-source"><pre>//              |               /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2413</td>
                                    <td class="row-source"><pre>//              |              /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2414</td>
                                    <td class="row-source"><pre>//              |             /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2415</td>
                                    <td class="row-source"><pre>//              |            /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2416</td>
                                    <td class="row-source"><pre>//              |           /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2417</td>
                                    <td class="row-source"><pre>//              |          /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2418</td>
                                    <td class="row-source"><pre>//              |     \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2419</td>
                                    <td class="row-source"><pre>//              |      \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2420</td>
                                    <td class="row-source"><pre>//              |       \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2421</td>
                                    <td class="row-source"><pre>//              |        \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2422</td>
                                    <td class="row-source"><pre>//            0 +----+----+-------+-&gt; q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2423</td>
                                    <td class="row-source"><pre>//           qLower  |    |       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2424</td>
                                    <td class="row-source"><pre>//                   |    |     qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2425</td>
                                    <td class="row-source"><pre>//                   |    |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2426</td>
                                    <td class="row-source"><pre>//                   | qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2427</td>
                                    <td class="row-source"><pre>//                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2428</td>
                                    <td class="row-source"><pre>//               qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2429</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2430</td>
                                    <td class="row-source"><pre>//      The purpose of first amending with &#39;qOvershoot&#39; is to have an</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2431</td>
                                    <td class="row-source"><pre>//      additional degree of freedom in order to satisfy the equation:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2432</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2433</td>
                                    <td class="row-source"><pre>//        &#39;f(qOvershoot) == 0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2434</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2435</td>
                                    <td class="row-source"><pre>//      where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2436</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2437</td>
                                    <td class="row-source"><pre>//        &#39;f(qOvershoot) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2438</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2439</td>
                                    <td class="row-source"><pre>//            / qUpper                         / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2440</td>
                                    <td class="row-source"><pre>//           |   - h/2                        |   + h/2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2441</td>
                                    <td class="row-source"><pre>//           |  e      k(wAmended(h)) dh      |  e      k(wAmended(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2442</td>
                                    <td class="row-source"><pre>//           |                                |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2443</td>
                                    <td class="row-source"><pre>//          / qTarget                        / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2444</td>
                                    <td class="row-source"><pre>//         ------------------------------ - ------------------------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2445</td>
                                    <td class="row-source"><pre>//               / qUpper                         / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2446</td>
                                    <td class="row-source"><pre>//              |    - h/2                       |    + h/2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2447</td>
                                    <td class="row-source"><pre>//              |  e       k(w(h)) dh            |  e       k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2448</td>
                                    <td class="row-source"><pre>//              |                                |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2449</td>
                                    <td class="row-source"><pre>//             / qTarget                        / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2450</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2451</td>
                                    <td class="row-source"><pre>//      By investigating the above equation, we can observe that:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2452</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2453</td>
                                    <td class="row-source"><pre>//        - Both of the denominators are fixed. This is because at this stage,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2454</td>
                                    <td class="row-source"><pre>//          &#39;qTarget&#39; is fully determined either through &#39;qLimit&#39; or</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2455</td>
                                    <td class="row-source"><pre>//          &#39;amountSpecified&#39;. Additionally, the current curve sequence is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2456</td>
                                    <td class="row-source"><pre>//          fixed which dictates the shape of &#39;w(.)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2457</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2458</td>
                                    <td class="row-source"><pre>//        - Both of the numerators are functions of &#39;qOvershoot&#39;. This is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2459</td>
                                    <td class="row-source"><pre>//          because &#39;wAmended(.)&#39; can be fully characterized by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2460</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2461</td>
                                    <td class="row-source"><pre>//            - the current curve sequence which is fixed,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2462</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2463</td>
                                    <td class="row-source"><pre>//            - &#39;qTarget&#39; which is also fixed,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2464</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2465</td>
                                    <td class="row-source"><pre>//            - and &#39;qOvershoot&#39; which is the only unknown value that we are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2466</td>
                                    <td class="row-source"><pre>//              trying to determine.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2467</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2468</td>
                                    <td class="row-source"><pre>//      Hence, in order to update the liquidity distribution function from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2469</td>
                                    <td class="row-source"><pre>//      &#39;k(w(.))&#39; to &#39;k(wAmended(.))&#39;, which updates the AMM diagram of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2470</td>
                                    <td class="row-source"><pre>//      active interval, we need to solve the above equation with respect to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2471</td>
                                    <td class="row-source"><pre>//      &#39;qOvershoot&#39;. As proven in nofeeswap&#39;s yellowpaper, there always exist</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2472</td>
                                    <td class="row-source"><pre>//      a root between &#39;qTarget&#39; and &#39;qNext&#39; that satisfies:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2473</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2474</td>
                                    <td class="row-source"><pre>//        &#39;growthAmended &gt;= growth&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2475</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2476</td>
                                    <td class="row-source"><pre>//      This root is found via numerical search by running the methods</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2477</td>
                                    <td class="row-source"><pre>//      &#39;moveOvershoot&#39; and &#39;searchOvershoot&#39; from &#39;Interval.sol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2478</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2479</td>
                                    <td class="row-source"><pre>//      Remember that &#39;k(w(.))&#39; and &#39;k(wAmended(.))&#39; are piecewise linear</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2480</td>
                                    <td class="row-source"><pre>//      functions whose domains cover the entire active interval. The method</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2481</td>
                                    <td class="row-source"><pre>//      &#39;moveOvershoot&#39; from &#39;Interval.sol&#39; identifies a range within</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2482</td>
                                    <td class="row-source"><pre>//      &#39;[qLower, qUpper]&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2483</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2484</td>
                                    <td class="row-source"><pre>//        - in which &#39;k(w(.))&#39; is linear,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2485</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2486</td>
                                    <td class="row-source"><pre>//        - in which &#39;k(wAmended(.))&#39; is linear, and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2487</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2488</td>
                                    <td class="row-source"><pre>//        - to which &#39;qOvershoot&#39; belongs.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2489</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2490</td>
                                    <td class="row-source"><pre>//      Since &#39;f(.)&#39; is a continuous function, the membership of a root (i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2491</td>
                                    <td class="row-source"><pre>//      &#39;qOvershoot&#39;) to a particular range can be verified by evaluating the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2492</td>
                                    <td class="row-source"><pre>//      sign of &#39;f(.)&#39; at the two ends of the range. Hence, in light of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2493</td>
                                    <td class="row-source"><pre>//      intermediate value theorem, if the signs at the two ends of the range</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2494</td>
                                    <td class="row-source"><pre>//      are different, then there has to be a root somewhere within this</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2495</td>
                                    <td class="row-source"><pre>//      range.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2496</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2497</td>
                                    <td class="row-source"><pre>//      Next, the method &#39;searchOvershoot&#39; from &#39;Interval.sol&#39; performs a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2498</td>
                                    <td class="row-source"><pre>//      Newton search in order to pinpoint the precise value of &#39;qOvershoot&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2499</td>
                                    <td class="row-source"><pre>//      within the range that is identified by &#39;moveOvershoot&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2500</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2501</td>
                                    <td class="row-source"><pre>//      Once &#39;qOvershoot&#39; is calculated, we proceed with the two amendments to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2502</td>
                                    <td class="row-source"><pre>//      the curve sequence via &#39;qOvershoot&#39; and &#39;qTarget&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2503</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2504</td>
                                    <td class="row-source"><pre>//      After that, we derive &#39;growthAmended&#39; based on the following formula:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2505</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2506</td>
                                    <td class="row-source"><pre>//                                          / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2507</td>
                                    <td class="row-source"><pre>//                                         |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2508</td>
                                    <td class="row-source"><pre>//                                         |  e         k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2509</td>
                                    <td class="row-source"><pre>//                                         |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2510</td>
                                    <td class="row-source"><pre>//                                        / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2511</td>
                                    <td class="row-source"><pre>//        &#39;growthAmended == growth * ---------------------------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2512</td>
                                    <td class="row-source"><pre>//                                      / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2513</td>
                                    <td class="row-source"><pre>//                                     |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2514</td>
                                    <td class="row-source"><pre>//                                     |  e         k(wAmended(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2515</td>
                                    <td class="row-source"><pre>//                                     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2516</td>
                                    <td class="row-source"><pre>//                                    / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2517</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2518</td>
                                    <td class="row-source"><pre>//      This concludes the update of our liquidity distribution function (or</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2519</td>
                                    <td class="row-source"><pre>//      equivalently, the update of our AMM diagram) for the next swap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2520</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2521</td>
                                    <td class="row-source"><pre>//  - The last step involves writing the dynamic parameters of the pool as well</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2522</td>
                                    <td class="row-source"><pre>//    as the amended curve sequence in the protocol&#39;s storage which concludes</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2523</td>
                                    <td class="row-source"><pre>//    this example.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2524</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2525</td>
                                    <td class="row-source"><pre>// Swap Inputs</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2526</td>
                                    <td class="row-source"><pre>// ----------------------------------------------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2527</td>
                                    <td class="row-source"><pre>// The following memory pointers correspond to the inputs of the method &#39;swap&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2528</td>
                                    <td class="row-source"><pre>// from &#39;Nofeeswap.sol&#39;. Each parameter is read from calldata via the method</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2529</td>
                                    <td class="row-source"><pre>// &#39;readSwapInput&#39; from &#39;Calldata.sol&#39;. Then, the parameters are transformed to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2530</td>
                                    <td class="row-source"><pre>// appropriate formats and stored in their dedicated memory locations as listed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2531</td>
                                    <td class="row-source"><pre>// below. Throughout the execution of the swap, the following memory pointers</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2532</td>
                                    <td class="row-source"><pre>// as well as the corresponding getter functions can be used to access each</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2533</td>
                                    <td class="row-source"><pre>// parameter. Moreover, when invoking an applicable hook these input parameters</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2534</td>
                                    <td class="row-source"><pre>// are passed to the hook as calldata and they can be accessed via the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2535</td>
                                    <td class="row-source"><pre>// corresponding calldata pointers and getter functions that are listed in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2536</td>
                                    <td class="row-source"><pre>// &#39;HookCalldata.sol&#39;.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">2537</td>
                                    <td class="row-source"><pre>uint16 constant _swapInput_ = 248;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2538</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2539</td>
                                    <td class="row-source"><pre>// &#39;crossThreshold&#39; refers to a minimum limit on the total number of shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2540</td>
                                    <td class="row-source"><pre>// that should be available in any interval for the &#39;swap&#39; method to transact</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2541</td>
                                    <td class="row-source"><pre>// in that interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2542</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2543</td>
                                    <td class="row-source"><pre>// For example, if &#39;crossThreshold == 50&#39;, then there has to be a minimum of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2544</td>
                                    <td class="row-source"><pre>// 50 shares present in an interval so that the algorithm either enters that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2545</td>
                                    <td class="row-source"><pre>// interval or crosses it entirely. Once we encounter an interval with the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2546</td>
                                    <td class="row-source"><pre>// total number of shares less than 50, the &#39;swap&#39; call is halted and the price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2547</td>
                                    <td class="row-source"><pre>// of the pool does not go beyond that point.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2548</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2549</td>
                                    <td class="row-source"><pre>// However, if &#39;crossThreshold == 0&#39;, which is the default, no minimum number</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2550</td>
                                    <td class="row-source"><pre>// of shares is imposed.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2551</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2552</td>
                                    <td class="row-source"><pre>// The calldata layout of the method &#39;swap&#39; in &#39;Nofeeswap.sol&#39; does not have a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2553</td>
                                    <td class="row-source"><pre>// slot dedicated to &#39;crossThreshold&#39;. Instead, the two inputs &#39;crossThreshold&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2554</td>
                                    <td class="row-source"><pre>// and &#39;zeroForOne&#39; share the same slot in calldata as illustrated below:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2555</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2556</td>
                                    <td class="row-source"><pre>//     +---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2557</td>
                                    <td class="row-source"><pre>//     | crossThreshold (128 bits) |   zeroForOne (128 bits)   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2558</td>
                                    <td class="row-source"><pre>//     +---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2559</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2560</td>
                                    <td class="row-source"><pre>// &#39;crossThreshold&#39; occupies the most significant 128 bits and &#39;zeroForOne&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2561</td>
                                    <td class="row-source"><pre>// occupies the least significant 128 bits. Hence, 16 bytes are reserved for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2562</td>
                                    <td class="row-source"><pre>// &#39;crossThreshold&#39; in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2563</td>
                                    <td class="row-source"><pre>uint16 constant _crossThreshold_ = 248;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2564</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2565</td>
                                    <td class="row-source"><pre>// The input &#39;amountSpecified&#39; of the &#39;swap&#39; method in &#39;Nofeeswap.sol&#39; is a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2566</td>
                                    <td class="row-source"><pre>// signed integer. If positive (&#39;exactInput == true&#39;), this value represents</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2567</td>
                                    <td class="row-source"><pre>// the requested incoming amount to be given to the pool as a result of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2568</td>
                                    <td class="row-source"><pre>// swap call. If negative (&#39;exactInput == false&#39;), this value represents the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2569</td>
                                    <td class="row-source"><pre>// requested outgoing amount to be taken from the pool as a result of the swap</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2570</td>
                                    <td class="row-source"><pre>// call. As an initial step of the swap algorithm, the method &#39;readSwapInput&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2571</td>
                                    <td class="row-source"><pre>// from &#39;Calldata.sol&#39; performs the following actions:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2572</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2573</td>
                                    <td class="row-source"><pre>//  - Reads the integer representation of &#39;amountSpecified&#39; from the dedicated</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2574</td>
                                    <td class="row-source"><pre>//    calldata slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2575</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2576</td>
                                    <td class="row-source"><pre>//  - Caps it by &#39;2 ** 127 - 1&#39; from above and by &#39;1 - 2 ** 127&#39; from below.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2577</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2578</td>
                                    <td class="row-source"><pre>//  - Transforms it to the &#39;X127&#39; format.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2579</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2580</td>
                                    <td class="row-source"><pre>//  - Stores the resulting value in the 32 byte memory space which is referred</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2581</td>
                                    <td class="row-source"><pre>//    to by &#39;_amountSpecified_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2582</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2583</td>
                                    <td class="row-source"><pre>// Throughout the execution of the swap, &#39;amountSpecified&#39; is partially</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2584</td>
                                    <td class="row-source"><pre>// fulfilled with each interval that we visit and because of this, the content</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2585</td>
                                    <td class="row-source"><pre>// of this memory space is continuously updated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2586</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2587</td>
                                    <td class="row-source"><pre>// Due to limited granularity of logarithmic price in &#39;X59&#39; representation, a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2588</td>
                                    <td class="row-source"><pre>// requested amount may not be fulfilled. However,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2589</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2590</td>
                                    <td class="row-source"><pre>//  - if &#39;amountSpecified &gt; 0&#39;, the incoming amount to be given to the pool as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2591</td>
                                    <td class="row-source"><pre>//    a result of the swap call must not exceed &#39;amountSpecified&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2592</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2593</td>
                                    <td class="row-source"><pre>//  - if &#39;amountSpecified &lt; 0&#39;, the outgoing amount to be taken from the pool</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2594</td>
                                    <td class="row-source"><pre>//    as a result of the swap call must be greater than or equal to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2595</td>
                                    <td class="row-source"><pre>//    &#39;0 - amountSpecified&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2596</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2597</td>
                                    <td class="row-source"><pre>// 32 bytes are reserved for the &#39;X127&#39; representation of &#39;amountSpecified&#39; in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2598</td>
                                    <td class="row-source"><pre>// memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2599</td>
                                    <td class="row-source"><pre>uint16 constant _amountSpecified_ = 264;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2600</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2601</td>
                                    <td class="row-source"><pre>// The input &#39;logPriceLimit&#39; of the &#39;swap&#39; method in &#39;Nofeeswap.sol&#39; is a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2602</td>
                                    <td class="row-source"><pre>// signed value in &#39;X59&#39; format. Define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2603</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2604</td>
                                    <td class="row-source"><pre>//  &#39;pLimit := exp(logPriceLimit / (2 ** 59))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2605</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2606</td>
                                    <td class="row-source"><pre>// The input &#39;logPriceLimit&#39; imposes a limit on the price of the pool post</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2607</td>
                                    <td class="row-source"><pre>// execution of the swap call.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2608</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2609</td>
                                    <td class="row-source"><pre>//  - For price increasing swaps, &#39;logPriceLimit&#39; serves as an upper bound, in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2610</td>
                                    <td class="row-source"><pre>//    which case the price of the pool must not exceed &#39;pLimit&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2611</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2612</td>
                                    <td class="row-source"><pre>//  - For price decreasing swaps, &#39;logPriceLimit&#39; serves as a lower bound, in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2613</td>
                                    <td class="row-source"><pre>//    which case the price of the pool must not subceed &#39;pLimit&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2614</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2615</td>
                                    <td class="row-source"><pre>// In both cases, once the price of the pool reaches &#39;pLimit&#39;, the execution of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2616</td>
                                    <td class="row-source"><pre>// the swap is halted. Put simply, no amount of tags are traded with any price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2617</td>
                                    <td class="row-source"><pre>// worst than &#39;pLimit&#39; for the swapper.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2618</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2619</td>
                                    <td class="row-source"><pre>// 32 bytes are reserved for &#39;logPriceLimit&#39; in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2620</td>
                                    <td class="row-source"><pre>uint16 constant _logPriceLimit_ = 296;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2621</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2622</td>
                                    <td class="row-source"><pre>// Let &#39;pLower&#39; and &#39;pUpper&#39;, respectively, denote the minimum and maximum</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2623</td>
                                    <td class="row-source"><pre>// price in the current active liquidity interval and define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2624</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2625</td>
                                    <td class="row-source"><pre>//  &#39;qLower := log(pLower / pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2626</td>
                                    <td class="row-source"><pre>//  &#39;qUpper := log(pUpper / pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2627</td>
                                    <td class="row-source"><pre>//  &#39;qSpacing := log(pUpper / pLower)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2628</td>
                                    <td class="row-source"><pre>//  &#39;qMost  := + 16 - 1 / (2 ** 59) - qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2629</td>
                                    <td class="row-source"><pre>//  &#39;qLeast := - 16 + 1 / (2 ** 59) + qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2630</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2631</td>
                                    <td class="row-source"><pre>// As previously argued, for every integer &#39;j&#39;, the interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2632</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2633</td>
                                    <td class="row-source"><pre>//  &#39;[qLower + j * qSpacing, qUpper + j * qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2634</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2635</td>
                                    <td class="row-source"><pre>// is a valid liquidity interval if and only if:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2636</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2637</td>
                                    <td class="row-source"><pre>//  &#39;- qMost &lt;= qLower + j * qSpacing&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2638</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2639</td>
                                    <td class="row-source"><pre>// and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2640</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2641</td>
                                    <td class="row-source"><pre>//  &#39;qUpper + j * qSpacing &lt;= + qMost.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2642</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2643</td>
                                    <td class="row-source"><pre>// This includes the current active liquidity interval &#39;[qLower, qUpper]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2644</td>
                                    <td class="row-source"><pre>// which corresponds to &#39;j == 0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2645</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2646</td>
                                    <td class="row-source"><pre>// Because of this,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2647</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2648</td>
                                    <td class="row-source"><pre>//  &#39;qCurrent := log(pCurrent / pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2649</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2650</td>
                                    <td class="row-source"><pre>// always satisfies</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2651</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2652</td>
                                    <td class="row-source"><pre>//  &#39;qCurrent &gt;= qLeast + ((qLower - qLeast) % qSpacing)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2653</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2654</td>
                                    <td class="row-source"><pre>// and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2655</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2656</td>
                                    <td class="row-source"><pre>//  &#39;qCurrent &lt;= qMost - ((qMost - qLower) % qSpacing)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2657</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2658</td>
                                    <td class="row-source"><pre>// where &#39;pCurrent&#39; is the current price of the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2659</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2660</td>
                                    <td class="row-source"><pre>// In order to enforce the above inequalities, the following value is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2661</td>
                                    <td class="row-source"><pre>// calculated in the method &#39;setSwapParams&#39; of &#39;swap.sol&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2662</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2663</td>
                                    <td class="row-source"><pre>//  &#39;qLimit := min(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2664</td>
                                    <td class="row-source"><pre>//     max(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2665</td>
                                    <td class="row-source"><pre>//       qLeast + ((qLower - qLeast) % qSpacing),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2666</td>
                                    <td class="row-source"><pre>//       log(pLimit / pOffset)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2667</td>
                                    <td class="row-source"><pre>//     ),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2668</td>
                                    <td class="row-source"><pre>//     qMost - ((qMost - qLower) % qSpacing)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2669</td>
                                    <td class="row-source"><pre>//   )&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2670</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2671</td>
                                    <td class="row-source"><pre>// based on &#39;qLower&#39;, &#39;qUpper&#39;, and &#39;logPriceLimit&#39;. Then, the offset binary</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2672</td>
                                    <td class="row-source"><pre>// &#39;X59&#39; representation of &#39;qLimit&#39;, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2673</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2674</td>
                                    <td class="row-source"><pre>//  &#39;logPriceLimitOffsetted := (2 ** 59) * (16 + qLimit)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2675</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2676</td>
                                    <td class="row-source"><pre>// is stored in the memory space which is pointed to by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2677</td>
                                    <td class="row-source"><pre>// &#39;_logPriceLimitOffsetted_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2678</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2679</td>
                                    <td class="row-source"><pre>// Because</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2680</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2681</td>
                                    <td class="row-source"><pre>//  &#39;- 16 + 1 / (2 ** 59) &lt;= qLimit &lt;= + 16 - 1 / (2 ** 59)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2682</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2683</td>
                                    <td class="row-source"><pre>// we have</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2684</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2685</td>
                                    <td class="row-source"><pre>//  &#39;1 &lt;= logPriceLimitOffsetted &lt;= (2 ** 64) - 1&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2686</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2687</td>
                                    <td class="row-source"><pre>// which is why 8 bytes are reserved for &#39;logPriceLimitOffsetted&#39; in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2688</td>
                                    <td class="row-source"><pre>uint16 constant _logPriceLimitOffsetted_ = 328;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2689</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2690</td>
                                    <td class="row-source"><pre>// Swap Parameters</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2691</td>
                                    <td class="row-source"><pre>// ----------------------------------------------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2692</td>
                                    <td class="row-source"><pre>// The following memory pointers correspond to a number of secondary parameters</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2693</td>
                                    <td class="row-source"><pre>// that are derived and stored in memory in order to facilitate the execution</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2694</td>
                                    <td class="row-source"><pre>// of each &#39;swap&#39; call. The following memory pointers as well as the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2695</td>
                                    <td class="row-source"><pre>// corresponding getter functions can be used to access each parameter.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2696</td>
                                    <td class="row-source"><pre>// Moreover, when invoking either of the &#39;midSwap&#39; and &#39;postSwap&#39; hooks, if</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2697</td>
                                    <td class="row-source"><pre>// applicable, these parameters are included in memory snapshot that is passed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2698</td>
                                    <td class="row-source"><pre>// to the hook as calldata. Hence they can be accessed via the corresponding</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2699</td>
                                    <td class="row-source"><pre>// calldata pointers and getter functions that are listed in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2700</td>
                                    <td class="row-source"><pre>// &#39;HookCalldata.sol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2701</td>
                                    <td class="row-source"><pre>uint16 constant _swapParams_ = 336;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2702</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2703</td>
                                    <td class="row-source"><pre>// As discussed before, the calldata layout of the method &#39;swap&#39; in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2704</td>
                                    <td class="row-source"><pre>// &#39;Nofeeswap.sol&#39; does not have a slot dedicated to &#39;crossThreshold&#39; or</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2705</td>
                                    <td class="row-source"><pre>// &#39;zeroForOne&#39;. Instead, the two inputs &#39;crossThreshold&#39; and &#39;zeroForOne&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2706</td>
                                    <td class="row-source"><pre>// share the same slot in calldata as illustrated below:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2707</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2708</td>
                                    <td class="row-source"><pre>//     +---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2709</td>
                                    <td class="row-source"><pre>//     | crossThreshold (128 bits) |   zeroForOne (128 bits)   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2710</td>
                                    <td class="row-source"><pre>//     +---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2711</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2712</td>
                                    <td class="row-source"><pre>// &#39;crossThreshold&#39; occupies the most significant 128 bits and &#39;zeroForOne&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2713</td>
                                    <td class="row-source"><pre>// occupies the least significant 128 bits.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2714</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2715</td>
                                    <td class="row-source"><pre>//  - If the given &#39;zeroForOne&#39; input is equal to &#39;0&#39;, then the swap is price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2716</td>
                                    <td class="row-source"><pre>//    increasing in which case &#39;tag0&#39; is outgoing from the pool and &#39;tag1&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2717</td>
                                    <td class="row-source"><pre>//    incoming to the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2718</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2719</td>
                                    <td class="row-source"><pre>//  - If the given &#39;zeroForOne&#39; input is equal to &#39;1&#39;, then the swap is price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2720</td>
                                    <td class="row-source"><pre>//    decreasing in which case &#39;tag0&#39; is incoming to the pool and &#39;tag1&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2721</td>
                                    <td class="row-source"><pre>//    outgoing from the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2722</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2723</td>
                                    <td class="row-source"><pre>//  - If the given &#39;zeroForOne&#39; input is equal to any other value, then the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2724</td>
                                    <td class="row-source"><pre>//    movement of the price is towards &#39;logPriceLimit&#39;, i.e., the swap is price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2725</td>
                                    <td class="row-source"><pre>//    increasing if</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2726</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2727</td>
                                    <td class="row-source"><pre>//      &#39;pCurrent &lt; pLimit&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2728</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2729</td>
                                    <td class="row-source"><pre>//    and the swap is price decreasing if</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2730</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2731</td>
                                    <td class="row-source"><pre>//      &#39;pLimit &lt; pCurrent&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2732</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2733</td>
                                    <td class="row-source"><pre>//    where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2734</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2735</td>
                                    <td class="row-source"><pre>//      &#39;pLimit := exp(logPriceLimit / (2 ** 59))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2736</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2737</td>
                                    <td class="row-source"><pre>//    and &#39;pCurrent&#39; represents the current price of the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2738</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2739</td>
                                    <td class="row-source"><pre>// A single byte is reserved for this memory space. After the investigation of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2740</td>
                                    <td class="row-source"><pre>// calldata and comparing &#39;pCurrent&#39; with &#39;pLimit&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2741</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2742</td>
                                    <td class="row-source"><pre>//   - If the swap is deemed to be price increasing, then the byte which is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2743</td>
                                    <td class="row-source"><pre>//     pointed to by &#39;_zeroForOne_&#39; is left as &#39;0x00&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2744</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2745</td>
                                    <td class="row-source"><pre>//   - If the swap is price decreasing, then this byte is populated with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2746</td>
                                    <td class="row-source"><pre>//     &#39;0xFF&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2747</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2748</td>
                                    <td class="row-source"><pre>// The getter function &#39;getZeroForOne&#39; in this script and the getter function</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2749</td>
                                    <td class="row-source"><pre>// &#39;getZeroForOneFromCalldata&#39; in &#39;HookCalldata.sol&#39; give access to the content</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2750</td>
                                    <td class="row-source"><pre>// of this memory space (or calldata in the context of the hook contract) as a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2751</td>
                                    <td class="row-source"><pre>// boolean with &#39;false&#39; and &#39;true&#39; representing price increasing and price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2752</td>
                                    <td class="row-source"><pre>// decreasing swaps, respectively.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2753</td>
                                    <td class="row-source"><pre>uint16 constant _zeroForOne_ = 336;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2754</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2755</td>
                                    <td class="row-source"><pre>// The input &#39;amountSpecified&#39; of the &#39;swap&#39; method in &#39;Nofeeswap.sol&#39; is a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2756</td>
                                    <td class="row-source"><pre>// signed integer. The following memory spaces contains the sign of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2757</td>
                                    <td class="row-source"><pre>// &#39;amountSpecified&#39; which can be accessed as a boolean. To this end, a single</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2758</td>
                                    <td class="row-source"><pre>// byte is reserved in memory which is pointed to by &#39;_exactInput_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2759</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2760</td>
                                    <td class="row-source"><pre>//   - If &#39;amountSpecified &gt; 0&#39;, then &#39;amountSpecified&#39; represents the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2761</td>
                                    <td class="row-source"><pre>//     requested incoming amount to be given to the pool as a result of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2762</td>
                                    <td class="row-source"><pre>//     swap call. In this case the byte which is pointed to by &#39;_exactInput_&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2763</td>
                                    <td class="row-source"><pre>//     is left as &#39;0x00&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2764</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2765</td>
                                    <td class="row-source"><pre>//   - If &#39;amountSpecified &lt; 0&#39;, then &#39;0 - amountSpecified&#39; represents the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2766</td>
                                    <td class="row-source"><pre>//     requested outgoing amount to be taken from the pool as a result of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2767</td>
                                    <td class="row-source"><pre>//     swap call. In this case the byte which is pointed to by &#39;_exactInput_&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2768</td>
                                    <td class="row-source"><pre>//     is populated with &#39;0xFF&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2769</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2770</td>
                                    <td class="row-source"><pre>// The getter function &#39;getExactInput&#39; in this script and the getter function</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2771</td>
                                    <td class="row-source"><pre>// &#39;getExactInputFromCalldata&#39; in &#39;HookCalldata.sol&#39; give access to the content</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2772</td>
                                    <td class="row-source"><pre>// of this memory space (or calldata in the context of the hook contract) as a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2773</td>
                                    <td class="row-source"><pre>// boolean with &#39;false&#39; and &#39;true&#39; representing exact output and exact input </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2774</td>
                                    <td class="row-source"><pre>// swaps, respectively.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2775</td>
                                    <td class="row-source"><pre>uint16 constant _exactInput_ = 337;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2776</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2777</td>
                                    <td class="row-source"><pre>// The execution of a swap call may involve transacting in a single liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2778</td>
                                    <td class="row-source"><pre>// interval, or it may require visits to multiple intervals.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2779</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2780</td>
                                    <td class="row-source"><pre>// If &#39;crossThreshold&#39; and &#39;logPriceLimitOffsetted&#39; are not binding, and in the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2781</td>
                                    <td class="row-source"><pre>// presence of sufficient liquidity, the protocol should be able to fulfill</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2782</td>
                                    <td class="row-source"><pre>// &#39;amountSpecified&#39; in the current active interval. This process involves a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2783</td>
                                    <td class="row-source"><pre>// movement of price from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2784</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2785</td>
                                    <td class="row-source"><pre>//  &#39;qCurrent := log(pCurrent / pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2786</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2787</td>
                                    <td class="row-source"><pre>// to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2788</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2789</td>
                                    <td class="row-source"><pre>//  &#39;qTarget := log(pTarget / pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2790</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2791</td>
                                    <td class="row-source"><pre>// within the same active liquidity interval, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2792</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2793</td>
                                    <td class="row-source"><pre>//   &#39;qLower &lt;= qTarget &lt;= qUpper&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2794</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2795</td>
                                    <td class="row-source"><pre>// In order to accomplish this, we need to solve the equation:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2796</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2797</td>
                                    <td class="row-source"><pre>//  &#39;|amountSpecified| == </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2798</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2799</td>
                                    <td class="row-source"><pre>//      (getZeroForOne() != getExactInput() ? sqrtOffset : sqrtInverseOffset) * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2800</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2801</td>
                                    <td class="row-source"><pre>//                      growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2802</td>
                                    <td class="row-source"><pre>//      sharesTotal * ---------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2803</td>
                                    <td class="row-source"><pre>//                     2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2804</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2805</td>
                                    <td class="row-source"><pre>//       getExactInput() ? incomingCurrentToTarget : currentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2806</td>
                                    <td class="row-source"><pre>//      -------------------------------------------------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2807</td>
                                    <td class="row-source"><pre>//                                outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2808</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2809</td>
                                    <td class="row-source"><pre>// where &#39;|amountSpecified|&#39;, &#39;sqrtOffset&#39;, &#39;sqrtInverseOffset&#39;, &#39;outgoingMax&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2810</td>
                                    <td class="row-source"><pre>// &#39;sharesTotal&#39;, and &#39;growth&#39; remain fixed as long as we are in the same</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2811</td>
                                    <td class="row-source"><pre>// interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2812</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2813</td>
                                    <td class="row-source"><pre>// Hence, as an initial step of a swap call&#39;s execution and with each visit to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2814</td>
                                    <td class="row-source"><pre>// a new interval, the following value is calculated in &#39;X216&#39; format:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2815</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2816</td>
                                    <td class="row-source"><pre>//  &#39;integralLimit := min(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2817</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2818</td>
                                    <td class="row-source"><pre>//      oneX216 - epsilonX216,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2819</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2820</td>
                                    <td class="row-source"><pre>//                           1          2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2821</td>
                                    <td class="row-source"><pre>//      outgoingMax *  ------------- * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2822</td>
                                    <td class="row-source"><pre>//                      sharesTotal      growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2823</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2824</td>
                                    <td class="row-source"><pre>//                                |amountSpecified|</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2825</td>
                                    <td class="row-source"><pre>//      -----------------------------------------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2826</td>
                                    <td class="row-source"><pre>//       (getZeroForOne() != getExactInput()) ? sqrtOffset : sqrtInverseOffset</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2827</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2828</td>
                                    <td class="row-source"><pre>//   )&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2829</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2830</td>
                                    <td class="row-source"><pre>// Based on the above equations, it is straightforward to verify that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2831</td>
                                    <td class="row-source"><pre>// &#39;amountSpecified&#39; is fulfilled if and only if:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2832</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2833</td>
                                    <td class="row-source"><pre>//   &#39;getExactInput() ? incomingCurrentToTarget : currentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2834</td>
                                    <td class="row-source"><pre>//     == </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2835</td>
                                    <td class="row-source"><pre>//    integralLimit&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2836</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2837</td>
                                    <td class="row-source"><pre>// Since the left-hand side is a function of &#39;qTarget&#39;, the above equation is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2838</td>
                                    <td class="row-source"><pre>// solved by methods &#39;searchOutgoingTarget&#39; and &#39;searchIncomingTarget&#39; in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2839</td>
                                    <td class="row-source"><pre>// &#39;Interval.sol&#39; in order to calculate the precise value of &#39;qTarget&#39; that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2840</td>
                                    <td class="row-source"><pre>// fulfills &#39;amountSpecified&#39;. These two methods work with &#39;integralLimit&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2841</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2842</td>
                                    <td class="row-source"><pre>// &#39;integralLimit&#39; is less than &#39;oneX216&#39; and does not exceed 216 bits. Hence,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2843</td>
                                    <td class="row-source"><pre>// 27 bytes are reserved for the memory space that stores &#39;integralLimit&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2844</td>
                                    <td class="row-source"><pre>uint16 constant _integralLimit_ = 338;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2845</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2846</td>
                                    <td class="row-source"><pre>// Let &#39;pLower&#39; and &#39;pUpper&#39;, respectively, denote the minimum and maximum</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2847</td>
                                    <td class="row-source"><pre>// price in the current active liquidity interval and define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2848</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2849</td>
                                    <td class="row-source"><pre>//  &#39;qLower := log(pLower / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2850</td>
                                    <td class="row-source"><pre>//  &#39;qUpper := log(pUpper / pOffset)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2851</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2852</td>
                                    <td class="row-source"><pre>// By crossing the active interval entirely from one end to the other end, the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2853</td>
                                    <td class="row-source"><pre>// absolute value &#39;|amountSpecified|&#39; is decremented by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2854</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2855</td>
                                    <td class="row-source"><pre>//  &#39;(getZeroForOne() != getExactInput() ? sqrtOffset : sqrtInverseOffset) * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2856</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2857</td>
                                    <td class="row-source"><pre>//                   growth      integralLimitInterval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2858</td>
                                    <td class="row-source"><pre>//   sharesTotal * ---------- * -----------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2859</td>
                                    <td class="row-source"><pre>//                  2 ** 111          outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2860</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2861</td>
                                    <td class="row-source"><pre>// where &#39;integralLimitInterval&#39; for the present interval is defined as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2862</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2863</td>
                                    <td class="row-source"><pre>//  &#39;integralLimitInterval := (getExactInput() ? incomingMax : outgoingMax)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2864</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2865</td>
                                    <td class="row-source"><pre>//           (getZeroForOne() != getExactInput() ? - qLower : + qUpper) / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2866</td>
                                    <td class="row-source"><pre>//       * e                                                               &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2867</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2868</td>
                                    <td class="row-source"><pre>// By crossing the active interval, the limit imposed by &#39;amountSpecified&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2869</td>
                                    <td class="row-source"><pre>// not violated if and only if:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2870</td>
                                    <td class="row-source"><pre>//        </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2871</td>
                                    <td class="row-source"><pre>//  &#39;integralLimitInterval &lt;= integralLimit&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2872</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2873</td>
                                    <td class="row-source"><pre>// Hence, &#39;integralLimitInterval&#39; can be used to determined whether we should</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2874</td>
                                    <td class="row-source"><pre>// cross a new active interval entirely or not.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2875</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2876</td>
                                    <td class="row-source"><pre>// &#39;integralLimitInterval&#39; is calculated with each visit to a new interval and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2877</td>
                                    <td class="row-source"><pre>// stored in the 27 bytes memory space which is pointed to by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2878</td>
                                    <td class="row-source"><pre>// &#39;_integralLimitInterval_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2879</td>
                                    <td class="row-source"><pre>uint16 constant _integralLimitInterval_ = 365;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2880</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2881</td>
                                    <td class="row-source"><pre>// Throughout the execution of a swap, this 32 bytes memory space hosts the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2882</td>
                                    <td class="row-source"><pre>// &#39;X127&#39; representation of &#39;amount0&#39; which is the total amount of &#39;tag0&#39; that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2883</td>
                                    <td class="row-source"><pre>// is traded so far. Concluding the visit to each interval involves</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2884</td>
                                    <td class="row-source"><pre>// incrementing the absolute value &#39;|amount0|&#39; with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2885</td>
                                    <td class="row-source"><pre>//                                                         growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2886</td>
                                    <td class="row-source"><pre>//  &#39;amount0Partial := sqrtInverseOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2887</td>
                                    <td class="row-source"><pre>//                                                        2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2888</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2889</td>
                                    <td class="row-source"><pre>//   (getZeroForOne() ? incomingCurrentToTarget : currentToTarget)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2890</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2891</td>
                                    <td class="row-source"><pre>// If positive, &#39;amount0&#39; is incoming to the pool and if negative it is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2892</td>
                                    <td class="row-source"><pre>// outgoing from the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2893</td>
                                    <td class="row-source"><pre>uint16 constant _amount0_ = 392;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2894</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2895</td>
                                    <td class="row-source"><pre>// Throughout the execution of a swap, this 32 bytes memory space hosts the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2896</td>
                                    <td class="row-source"><pre>// &#39;X127&#39; representation of &#39;amount1&#39; which is the total amount of &#39;tag1&#39; that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2897</td>
                                    <td class="row-source"><pre>// is traded so far. Concluding the visit to each interval involves</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2898</td>
                                    <td class="row-source"><pre>// incrementing the absolute value &#39;|amount1|&#39; with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2899</td>
                                    <td class="row-source"><pre>//                                                  growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2900</td>
                                    <td class="row-source"><pre>//  &#39;amount1Partial := sqrtOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2901</td>
                                    <td class="row-source"><pre>//                                                 2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2902</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2903</td>
                                    <td class="row-source"><pre>//   (getZeroForOne() ? currentToTarget : incomingCurrentToTarget)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2904</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2905</td>
                                    <td class="row-source"><pre>// If positive, &#39;amount1&#39; is incoming to the pool and if negative it is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2906</td>
                                    <td class="row-source"><pre>// outgoing from the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2907</td>
                                    <td class="row-source"><pre>uint16 constant _amount1_ = 424;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2908</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2909</td>
                                    <td class="row-source"><pre>// At each point throughout the execution of a swap, as we transition from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2910</td>
                                    <td class="row-source"><pre>// each interval to the next one, the memory pointer &#39;_back_&#39; is used in order</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2911</td>
                                    <td class="row-source"><pre>// to keep track of the active interval boundary in the opposite direction of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2912</td>
                                    <td class="row-source"><pre>// the swap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2913</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2914</td>
                                    <td class="row-source"><pre>// Let &#39;pLower&#39; and &#39;pUpper&#39;, respectively, denote the minimum and maximum</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2915</td>
                                    <td class="row-source"><pre>// price in the current active liquidity interval and define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2916</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2917</td>
                                    <td class="row-source"><pre>//  &#39;qBack := log((getZeroForOne() ? pUpper : pLower) / pOffset)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2918</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2919</td>
                                    <td class="row-source"><pre>// The 62 bytes memory space which is pointed to by &#39;_back_&#39; hosts the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2920</td>
                                    <td class="row-source"><pre>// following values:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2921</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2922</td>
                                    <td class="row-source"><pre>//  &#39;_back_.log() := (2 ** 59) * (16 + qBack)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2923</td>
                                    <td class="row-source"><pre>//  &#39;_back_.sqrt(false) := (2 ** 216) * exp(- 8 - qBack / 2)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2924</td>
                                    <td class="row-source"><pre>//  &#39;_back_.sqrt(true) := (2 ** 216) * exp(- 8 + qBack / 2)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2925</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2926</td>
                                    <td class="row-source"><pre>// which can be accessed via &#39;PriceLibrary&#39;. The logarithmic price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2927</td>
                                    <td class="row-source"><pre>// &#39;_back_.log()&#39; occupies 64 bits, whereas &#39;_back_.sqrt(false)&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2928</td>
                                    <td class="row-source"><pre>// &#39;_back_.sqrt(true)&#39; occupy 216 bits each.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2929</td>
                                    <td class="row-source"><pre>uint16 constant _back_ = 456;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2930</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2931</td>
                                    <td class="row-source"><pre>// At each point throughout the execution of a swap, as we transition from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2932</td>
                                    <td class="row-source"><pre>// each interval to the next one, the memory pointer &#39;_next_&#39; is used in order</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2933</td>
                                    <td class="row-source"><pre>// to keep track of the active interval boundary in the direction of the swap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2934</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2935</td>
                                    <td class="row-source"><pre>// Let &#39;pLower&#39; and &#39;pUpper&#39;, respectively, denote the minimum and maximum</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2936</td>
                                    <td class="row-source"><pre>// price in the current active liquidity interval and define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2937</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2938</td>
                                    <td class="row-source"><pre>//  &#39;qNext := log((getZeroForOne() ? pLower : pUpper) / pOffset)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2939</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2940</td>
                                    <td class="row-source"><pre>// The 62 bytes memory space which is pointed to by &#39;_next_&#39; hosts the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2941</td>
                                    <td class="row-source"><pre>// following values:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2942</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2943</td>
                                    <td class="row-source"><pre>//  &#39;_next_.log() := (2 ** 59) * (16 + qNext)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2944</td>
                                    <td class="row-source"><pre>//  &#39;_next_.sqrt(false) := (2 ** 216) * exp(- 8 - qNext / 2)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2945</td>
                                    <td class="row-source"><pre>//  &#39;_next_.sqrt(true) := (2 ** 216) * exp(- 8 + qNext / 2)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2946</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2947</td>
                                    <td class="row-source"><pre>// which can be accessed via &#39;PriceLibrary&#39;. The logarithmic price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2948</td>
                                    <td class="row-source"><pre>// &#39;_next_.log()&#39; occupies 64 bits, whereas &#39;_next_.sqrt(false)&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2949</td>
                                    <td class="row-source"><pre>// &#39;_next_.sqrt(true)&#39; occupy 216 bits each.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2950</td>
                                    <td class="row-source"><pre>uint16 constant _next_ = 518;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2951</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2952</td>
                                    <td class="row-source"><pre>// An LP may choose any consecutive range of liquidity intervals to deposit</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2953</td>
                                    <td class="row-source"><pre>// their liquidity. By doing so, the LP acquires a number of shares in every</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2954</td>
                                    <td class="row-source"><pre>// liquidity interval that belongs to the given range.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2955</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2956</td>
                                    <td class="row-source"><pre>// Let &#39;pLower&#39; and &#39;pUpper&#39;, respectively, denote the minimum and maximum</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2957</td>
                                    <td class="row-source"><pre>// price in the current active liquidity interval and define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2958</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2959</td>
                                    <td class="row-source"><pre>//  &#39;qLower := log(pLower / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2960</td>
                                    <td class="row-source"><pre>//  &#39;qUpper := log(pUpper / pOffset)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2961</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2962</td>
                                    <td class="row-source"><pre>// Additionally, let</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2963</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2964</td>
                                    <td class="row-source"><pre>//    sqrtInverseOffset     growthMultiplier[qUpper]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2965</td>
                                    <td class="row-source"><pre>//  &#39;------------------- * --------------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2966</td>
                                    <td class="row-source"><pre>//         2 ** 127                 2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2967</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2968</td>
                                    <td class="row-source"><pre>// represent the total amount of &#39;tag0&#39; corresponding to a single liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2969</td>
                                    <td class="row-source"><pre>// provider&#39;s share from &#39;qUpper&#39; to &#39;+oo&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2970</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2971</td>
                                    <td class="row-source"><pre>//    sqrtOffset     growthMultiplier[qLower]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2972</td>
                                    <td class="row-source"><pre>//  &#39;------------ * --------------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2973</td>
                                    <td class="row-source"><pre>//     2 ** 127             2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2974</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2975</td>
                                    <td class="row-source"><pre>// represent the total amount of &#39;tag1&#39; corresponding to a single liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2976</td>
                                    <td class="row-source"><pre>// provider&#39;s share from &#39;-oo&#39; to &#39;qLower&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2977</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2978</td>
                                    <td class="row-source"><pre>// The 32 bytes memory space which is pointed to by &#39;_backGrowthMultiplier_&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2979</td>
                                    <td class="row-source"><pre>// hosts the &#39;X208&#39; representation of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2980</td>
                                    <td class="row-source"><pre>// &#39;growthMultiplier[getZeroForOne() ? qUpper : qLower]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2981</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2982</td>
                                    <td class="row-source"><pre>// The 32 bytes memory space which is pointed to by &#39;_nextGrowthMultiplier_&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2983</td>
                                    <td class="row-source"><pre>// hosts the &#39;X208&#39; representation of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2984</td>
                                    <td class="row-source"><pre>// &#39;growthMultiplier[getZeroForOne() ? qLower : qUpper]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2985</td>
                                    <td class="row-source"><pre>uint16 constant _backGrowthMultiplier_ = 580;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2986</td>
                                    <td class="row-source"><pre>uint16 constant _nextGrowthMultiplier_ = 612;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2987</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2988</td>
                                    <td class="row-source"><pre>// Interval Parameters</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2989</td>
                                    <td class="row-source"><pre>// ----------------------------------------------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2990</td>
                                    <td class="row-source"><pre>// The following memory pointers correspond to the main variables that are used</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2991</td>
                                    <td class="row-source"><pre>// to calculate swaps within the active liquidity interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2992</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2993</td>
                                    <td class="row-source"><pre>// Let &#39;pCurrent&#39; denote the current price of the pool and let &#39;pLower&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2994</td>
                                    <td class="row-source"><pre>// &#39;pUpper&#39;, respectively, denote the minimum and maximum price in the current</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2995</td>
                                    <td class="row-source"><pre>// active liquidity interval. Define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2996</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2997</td>
                                    <td class="row-source"><pre>//  &#39;qLower := log(pLower / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2998</td>
                                    <td class="row-source"><pre>//  &#39;qUpper := log(pUpper / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2999</td>
                                    <td class="row-source"><pre>//  &#39;qSpacing := log(pUpper / pLower)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3000</td>
                                    <td class="row-source"><pre>//  &#39;qCurrent := log(pCurrent / pOffset)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3001</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3002</td>
                                    <td class="row-source"><pre>// Then we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3003</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3004</td>
                                    <td class="row-source"><pre>//  &#39;qLower &lt;= qCurrent &lt;= qUpper&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3005</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3006</td>
                                    <td class="row-source"><pre>// Consider a swap that involves a movement of price from &#39;qCurrent&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3007</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3008</td>
                                    <td class="row-source"><pre>//  &#39;qTarget := log(pTarget / pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3009</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3010</td>
                                    <td class="row-source"><pre>// within the same active liquidity interval, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3011</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3012</td>
                                    <td class="row-source"><pre>//  &#39;qLower &lt;= qTarget &lt;= qUpper&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3013</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3014</td>
                                    <td class="row-source"><pre>// Notice that &#39;qTarget&#39; is an unknown value which will be determined based on</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3015</td>
                                    <td class="row-source"><pre>// one of the followings:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3016</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3017</td>
                                    <td class="row-source"><pre>//  - &#39;qLimitWithinInterval&#39;, which is calculated based on the input</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3018</td>
                                    <td class="row-source"><pre>//    &#39;logPriceLimit&#39; as well as &#39;qLower&#39; and &#39;qUpper&#39;. It is stored in the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3019</td>
                                    <td class="row-source"><pre>//    memory space which is pointed to by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3020</td>
                                    <td class="row-source"><pre>//    &#39;_logPriceLimitOffsettedWithinInterval_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3021</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3022</td>
                                    <td class="row-source"><pre>//  - &#39;integralLimit&#39;, which is calculated based on the input &#39;amountSpecified&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3023</td>
                                    <td class="row-source"><pre>//    and is stored in the memory space which is pointed to by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3024</td>
                                    <td class="row-source"><pre>//    &#39;_integralLimit_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3025</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3026</td>
                                    <td class="row-source"><pre>// After determination of &#39;qTarget&#39;, the amounts of &#39;tag0&#39; and &#39;tag1&#39; to be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3027</td>
                                    <td class="row-source"><pre>// exchanged as a result of the movement within &#39;[qLower, qUpper]&#39; are equal</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3028</td>
                                    <td class="row-source"><pre>// to:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3029</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3030</td>
                                    <td class="row-source"><pre>//                                                         growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3031</td>
                                    <td class="row-source"><pre>//  &#39;amount0Partial := sqrtInverseOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3032</td>
                                    <td class="row-source"><pre>//                                                        2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3033</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3034</td>
                                    <td class="row-source"><pre>//    getZeroForOne() ? incomingCurrentToTarget : currentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3035</td>
                                    <td class="row-source"><pre>//   -------------------------------------------------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3036</td>
                                    <td class="row-source"><pre>//                            outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3037</td>
                                    <td class="row-source"><pre>// and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3038</td>
                                    <td class="row-source"><pre>//                                                  growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3039</td>
                                    <td class="row-source"><pre>//  &#39;amount1Partial := sqrtOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3040</td>
                                    <td class="row-source"><pre>//                                                 2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3041</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3042</td>
                                    <td class="row-source"><pre>//    getZeroForOne() ? currentToTarget : incomingCurrentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3043</td>
                                    <td class="row-source"><pre>//   -------------------------------------------------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3044</td>
                                    <td class="row-source"><pre>//                            outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3045</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3046</td>
                                    <td class="row-source"><pre>// where the parameters &#39;sqrtInverseOffset&#39;, &#39;sqrtOffset&#39;, &#39;sharesTotal&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3047</td>
                                    <td class="row-source"><pre>// &#39;growth&#39;, and &#39;outgoingMax&#39; remain fixed throughout the movement from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3048</td>
                                    <td class="row-source"><pre>// &#39;qCurrent&#39; to &#39;qTarget&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3049</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3050</td>
                                    <td class="row-source"><pre>// While searching for &#39;qTarget&#39;, the two integrals &#39;currentToTarget&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3051</td>
                                    <td class="row-source"><pre>// &#39;incomingCurrentToTarget&#39; are calculated. These two integrals are defined as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3052</td>
                                    <td class="row-source"><pre>// follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3053</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3054</td>
                                    <td class="row-source"><pre>//                           - 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3055</td>
                                    <td class="row-source"><pre>//    currentToTarget      e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3056</td>
                                    <td class="row-source"><pre>//  &#39;----------------- := ------- * (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3057</td>
                                    <td class="row-source"><pre>//       2 ** 216            2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3058</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3059</td>
                                    <td class="row-source"><pre>//                         / qCurrent                 / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3060</td>
                                    <td class="row-source"><pre>//                        |    + h / 2               |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3061</td>
                                    <td class="row-source"><pre>//     getZeroForOne() ?  |  e         k(w(h)) dh :  |  e         k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3062</td>
                                    <td class="row-source"><pre>//                        |                          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3063</td>
                                    <td class="row-source"><pre>//                       / qTarget                  / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3064</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3065</td>
                                    <td class="row-source"><pre>//   )&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3066</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3067</td>
                                    <td class="row-source"><pre>// and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3068</td>
                                    <td class="row-source"><pre>//                                   - 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3069</td>
                                    <td class="row-source"><pre>//    incomingCurrentToTarget      e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3070</td>
                                    <td class="row-source"><pre>//  &#39;------------------------- := ------- * (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3071</td>
                                    <td class="row-source"><pre>//           2 ** 216                2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3072</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3073</td>
                                    <td class="row-source"><pre>//                         / qCurrent                 / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3074</td>
                                    <td class="row-source"><pre>//                        |    - h / 2               |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3075</td>
                                    <td class="row-source"><pre>//     getZeroForOne() ?  |  e         k(w(h)) dh :  |  e         k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3076</td>
                                    <td class="row-source"><pre>//                        |                          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3077</td>
                                    <td class="row-source"><pre>//                       / qTarget                  / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3078</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3079</td>
                                    <td class="row-source"><pre>//   )&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3080</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3081</td>
                                    <td class="row-source"><pre>// To further clarify the above definitions, we first need to define the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3082</td>
                                    <td class="row-source"><pre>// function &#39;w(.)&#39; which is constructed based on the curve sequence.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3083</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3084</td>
                                    <td class="row-source"><pre>// The curve sequence comprises 64 bit logarithmic prices in the form of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3085</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3086</td>
                                    <td class="row-source"><pre>//  &#39;(2 ** 59) * (16 + qHistorical)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3087</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3088</td>
                                    <td class="row-source"><pre>// where every &#39;qHistorical&#39; satisfies:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3089</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3090</td>
                                    <td class="row-source"><pre>//  &#39;qLower &lt;= qHistorical &lt;= qUpper&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3091</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3092</td>
                                    <td class="row-source"><pre>// Hence, each slot of the curve sequence consists of up to four members. The</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3093</td>
                                    <td class="row-source"><pre>// curve sequence should have at least two members. The first and the second</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3094</td>
                                    <td class="row-source"><pre>// members are &#39;qLower&#39; and &#39;qUpper&#39; with the order depending on the pool&#39;s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3095</td>
                                    <td class="row-source"><pre>// history. The last member is always &#39;qCurrent&#39;. Consider the following curve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3096</td>
                                    <td class="row-source"><pre>// sequence:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3097</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3098</td>
                                    <td class="row-source"><pre>//  &#39;q[0], q[1], q[2], ..., q[l - 1]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3099</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3100</td>
                                    <td class="row-source"><pre>// where &#39;l&#39; is the number of members. Additionally, to simplify the notations,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3101</td>
                                    <td class="row-source"><pre>// the out-of-range member &#39;q[l]&#39; is assigned the same value as &#39;q[l - 1]&#39;. In</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3102</td>
                                    <td class="row-source"><pre>// order for the above sequence to be considered valid, we should have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3103</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3104</td>
                                    <td class="row-source"><pre>//  &#39;min(q[i - 1], q[i - 2]) &lt; q[i] &lt; max(q[i - 1], q[i - 2])&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3105</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3106</td>
                                    <td class="row-source"><pre>// for every &#39;2 &lt;= i &lt; l&#39;. Define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3107</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3108</td>
                                    <td class="row-source"><pre>//  &#39;w : [qLower, qUpper] -&gt; [0, qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3109</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3110</td>
                                    <td class="row-source"><pre>// as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3111</td>
                                    <td class="row-source"><pre>//           l - 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3112</td>
                                    <td class="row-source"><pre>//           -----</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3113</td>
                                    <td class="row-source"><pre>//           \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3114</td>
                                    <td class="row-source"><pre>//  &#39;w(q) := /     w_i(q)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3115</td>
                                    <td class="row-source"><pre>//           -----</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3116</td>
                                    <td class="row-source"><pre>//           i = 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3117</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3118</td>
                                    <td class="row-source"><pre>// where for every &#39;0 &lt;= i &lt;= l - 2&#39;, the function</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3119</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3120</td>
                                    <td class="row-source"><pre>//  &#39;w_i : [qLower, qUpper] -&gt; [0, qSpacing]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3121</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3122</td>
                                    <td class="row-source"><pre>// is regarded as a phase which is defined as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3123</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3124</td>
                                    <td class="row-source"><pre>//  &#39;w_i(q) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3125</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3126</td>
                                    <td class="row-source"><pre>//    /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3127</td>
                                    <td class="row-source"><pre>//   |  |q - q[i + 1]|  if  min(q[i], q[i + 2]) &lt; q &lt; max(q[i], q[i + 2])</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3128</td>
                                    <td class="row-source"><pre>//   |                                                                    &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3129</td>
                                    <td class="row-source"><pre>//   |  0               otherwise</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3130</td>
                                    <td class="row-source"><pre>//    \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3131</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3132</td>
                                    <td class="row-source"><pre>// Observe that for each &#39;0 &lt;= i &lt;= l - 2&#39;, the phase &#39;w_i&#39; can be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3133</td>
                                    <td class="row-source"><pre>// characterized via the following three consecutive members of the curve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3134</td>
                                    <td class="row-source"><pre>// sequence:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3135</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3136</td>
                                    <td class="row-source"><pre>//  &#39;q[i], q[i + 1], q[i + 2]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3137</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3138</td>
                                    <td class="row-source"><pre>// Next, we need to define the function &#39;k(.)&#39; which is constructed from the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3139</td>
                                    <td class="row-source"><pre>// kernel. The kernel is composed of breakpoints. Let &#39;m + 1&#39; denote the number</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3140</td>
                                    <td class="row-source"><pre>// of these breakpoints. For every integer &#39;0 &lt;= i &lt;= m&#39; the i-th breakpoint of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3141</td>
                                    <td class="row-source"><pre>// the kernel represents the pair &#39;(b[i], c[i])&#39; where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3142</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3143</td>
                                    <td class="row-source"><pre>//  &#39;0 == b[0] &lt;  b[1] &lt;= b[2] &lt;= ... &lt;= b[m - 1] &lt;  b[m] == qSpacing&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3144</td>
                                    <td class="row-source"><pre>//  &#39;0 == c[0] &lt;= c[1] &lt;= c[2] &lt;= ... &lt;= c[m - 1] &lt;= c[m] == 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3145</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3146</td>
                                    <td class="row-source"><pre>// Each breakpoint occupies 64 bytes, in which:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3147</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3148</td>
                                    <td class="row-source"><pre>//  - the &#39;X15&#39; representation of &#39;(2 ** 15) * c[i]&#39; occupies 2 bytes,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3149</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3150</td>
                                    <td class="row-source"><pre>//  - the &#39;X59&#39; representation of &#39;(2 ** 59) * b[i]&#39; occupies 8 bytes,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3151</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3152</td>
                                    <td class="row-source"><pre>//  - the &#39;X216&#39; representation of &#39;(2 ** 216) * exp(- b[i] / 2)&#39; occupies 27</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3153</td>
                                    <td class="row-source"><pre>//    bytes,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3154</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3155</td>
                                    <td class="row-source"><pre>//  - the &#39;X216&#39; representation of &#39;(2 ** 216) * exp(- 16 + b[i] / 2)&#39; occupies</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3156</td>
                                    <td class="row-source"><pre>//    27 bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3157</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3158</td>
                                    <td class="row-source"><pre>// The above-mentioned layout is illustrated as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3159</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3160</td>
                                    <td class="row-source"><pre>//                      A 512 bit kernel breakpoint</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3161</td>
                                    <td class="row-source"><pre>//  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3162</td>
                                    <td class="row-source"><pre>//  |  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3163</td>
                                    <td class="row-source"><pre>//  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3164</td>
                                    <td class="row-source"><pre>//  |  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3165</td>
                                    <td class="row-source"><pre>//  |  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3166</td>
                                    <td class="row-source"><pre>//  |  |        |                             (2 ** 216) * exp(- 16 + b[i] / 2)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3167</td>
                                    <td class="row-source"><pre>//  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3168</td>
                                    <td class="row-source"><pre>//  |  |          (2 ** 216) * exp(- b[i] / 2)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3169</td>
                                    <td class="row-source"><pre>//  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3170</td>
                                    <td class="row-source"><pre>//  |    (2 ** 59) * b[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3171</td>
                                    <td class="row-source"><pre>//   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3172</td>
                                    <td class="row-source"><pre>//    (2 ** 15) * c[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3173</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3174</td>
                                    <td class="row-source"><pre>// Consider the following list of kernel breakpoints:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3175</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3176</td>
                                    <td class="row-source"><pre>//  &#39;(b[0], c[0]), (b[1], c[1]), (b[2], c[2]), ..., (b[m], c[m])&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3177</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3178</td>
                                    <td class="row-source"><pre>// and for every integer &#39;0 &lt; i &lt;= m&#39;, define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3179</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3180</td>
                                    <td class="row-source"><pre>//  &#39;k_i : [0, qSpacing] -&gt; [0, 1]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3181</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3182</td>
                                    <td class="row-source"><pre>// as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3183</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3184</td>
                                    <td class="row-source"><pre>//  &#39;k_i(q) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3185</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3186</td>
                                    <td class="row-source"><pre>//    /            c[i] - c[i - 1]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3187</td>
                                    <td class="row-source"><pre>//   | c[i - 1] + ----------------- * (q - b[i - 1])  if  b[i - 1] &lt; q &lt; b[i]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3188</td>
                                    <td class="row-source"><pre>//   |             b[i] - b[i - 1]                                           &#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3189</td>
                                    <td class="row-source"><pre>//   | 0                                              otherwise</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3190</td>
                                    <td class="row-source"><pre>//    \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3191</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3192</td>
                                    <td class="row-source"><pre>// which means that if &#39;b[i - 1] == b[i]&#39;, then &#39;k_i(q) := 0&#39;. Now, the kernel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3193</td>
                                    <td class="row-source"><pre>// function</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3194</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3195</td>
                                    <td class="row-source"><pre>//  &#39;k : [0, qSpacing] -&gt; [0, 1]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3196</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3197</td>
                                    <td class="row-source"><pre>// is defined as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3198</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3199</td>
                                    <td class="row-source"><pre>//             m</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3200</td>
                                    <td class="row-source"><pre>//           -----</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3201</td>
                                    <td class="row-source"><pre>//           \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3202</td>
                                    <td class="row-source"><pre>//  &#39;k(q) := /     k_i(q)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3203</td>
                                    <td class="row-source"><pre>//           -----</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3204</td>
                                    <td class="row-source"><pre>//           i = 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3205</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3206</td>
                                    <td class="row-source"><pre>// Define the liquidity distribution function</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3207</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3208</td>
                                    <td class="row-source"><pre>//  &#39;k(w(.)) : [qLower, qUpper] -&gt; [0, 1]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3209</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3210</td>
                                    <td class="row-source"><pre>// for the active interval as the composition of &#39;k(.)&#39; with &#39;w(.)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3211</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3212</td>
                                    <td class="row-source"><pre>// As argued above, while searching for &#39;qTarget&#39;, the integrals</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3213</td>
                                    <td class="row-source"><pre>// &#39;currentToTarget&#39; and &#39;incomingCurrentToTarget&#39; are calculated based on</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3214</td>
                                    <td class="row-source"><pre>// &#39;k(w(.))&#39; which enables the protocol to determine &#39;amount0Partial&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3215</td>
                                    <td class="row-source"><pre>// &#39;amount1Partial&#39; when moving the price from &#39;qCurrent&#39; to &#39;qTarget&#39;. In</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3216</td>
                                    <td class="row-source"><pre>// addition, we need to calculate two other integrals that are referred to as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3217</td>
                                    <td class="row-source"><pre>// &#39;currentToOrigin&#39; and &#39;originToOvershoot&#39; which will be defined later in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3218</td>
                                    <td class="row-source"><pre>// this script. Next, we explain how this search is conducted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3219</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3220</td>
                                    <td class="row-source"><pre>// Remember that both &#39;w(.)&#39; and &#39;k(.)&#39; are piecewise linear functions. As a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3221</td>
                                    <td class="row-source"><pre>// result, &#39;k(w(.))&#39; is also piecewise linear. In search for &#39;qTarget&#39;, we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3222</td>
                                    <td class="row-source"><pre>// enumerate the pieces of &#39;k(w(.))&#39;, one by one, until we discover the piece</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3223</td>
                                    <td class="row-source"><pre>// to which &#39;qTarget&#39; belongs. To this end, the two indices &#39;indexCurve&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3224</td>
                                    <td class="row-source"><pre>// &#39;indexKernelTotal&#39; are employed:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3225</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3226</td>
                                    <td class="row-source"><pre>//  - &#39;indexCurve&#39; keeps track of the current phase under exploration (i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3227</td>
                                    <td class="row-source"><pre>//    the piece of &#39;w(.)&#39;). Remember, that &#39;w_indexCurve&#39; can be characterized</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3228</td>
                                    <td class="row-source"><pre>//    via the following three consecutive members of the curve sequence:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3229</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3230</td>
                                    <td class="row-source"><pre>//      &#39;q[indexCurve], q[indexCurve + 1], q[indexCurve + 2]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3231</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3232</td>
                                    <td class="row-source"><pre>//    Here, we refer to &#39;q[indexCurve + 1]&#39; and &#39;q[indexCurve]&#39; as &#39;qOrigin&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3233</td>
                                    <td class="row-source"><pre>//    and &#39;qEnd&#39;, respectively. Throughout the search, &#39;qOrigin&#39; and &#39;qEnd&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3234</td>
                                    <td class="row-source"><pre>//    are stored, respectively, in the memory spaces which are pointed to by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3235</td>
                                    <td class="row-source"><pre>//    &#39;_origin_&#39; and &#39;_end_&#39;, and they are updated with each transition to a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3236</td>
                                    <td class="row-source"><pre>//    new phase.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3237</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3238</td>
                                    <td class="row-source"><pre>//    Additionally, the memory space which is pointed to by &#39;_direction_&#39; keeps</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3239</td>
                                    <td class="row-source"><pre>//    track of the boolean:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3240</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3241</td>
                                    <td class="row-source"><pre>//      &#39;qEnd &lt; q[indexCurve + 2]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3242</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3243</td>
                                    <td class="row-source"><pre>//    Hence, &#39;getDirection() == false&#39; means that we are currently searching</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3244</td>
                                    <td class="row-source"><pre>//    within the range</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3245</td>
                                    <td class="row-source"><pre>//    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3246</td>
                                    <td class="row-source"><pre>//      &#39;q[indexCurve + 2] &lt; q &lt; qEnd&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3247</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3248</td>
                                    <td class="row-source"><pre>//    in which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3249</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3250</td>
                                    <td class="row-source"><pre>//      &#39;w(q) == w_indexCurve(q) == q - qOrigin&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3251</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3252</td>
                                    <td class="row-source"><pre>//    Whereas, &#39;getDirection() == true&#39; means that we are currently searching</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3253</td>
                                    <td class="row-source"><pre>//    within the range</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3254</td>
                                    <td class="row-source"><pre>//    </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3255</td>
                                    <td class="row-source"><pre>//      &#39;qEnd &lt; q &lt; q[indexCurve + 2]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3256</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3257</td>
                                    <td class="row-source"><pre>//    in which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3258</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3259</td>
                                    <td class="row-source"><pre>//      &#39;w(q) == w_indexCurve(q) == qOrigin - q&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3260</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3261</td>
                                    <td class="row-source"><pre>//    In order to determine whether &#39;qTarget&#39; belongs to the current range</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3262</td>
                                    <td class="row-source"><pre>//    under exploration, i.e., the range between</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3263</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3264</td>
                                    <td class="row-source"><pre>//      &#39;min(qEnd, q[indexCurve + 2])&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3265</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3266</td>
                                    <td class="row-source"><pre>//    and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3267</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3268</td>
                                    <td class="row-source"><pre>//      &#39;max(qEnd, q[indexCurve + 2])&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3269</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3270</td>
                                    <td class="row-source"><pre>//    we start from the price &#39;q[indexCurve + 2]&#39; and proceed towards the price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3271</td>
                                    <td class="row-source"><pre>//    &#39;qEnd&#39; by enumerating the pieces of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3272</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3273</td>
                                    <td class="row-source"><pre>//      &#39;k(w(q)) == getDirection() ? k(qOrigin - q) : k(q - qOrigin)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3274</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3275</td>
                                    <td class="row-source"><pre>//    one by one. The fact that &#39;w(.)&#39; is a linear function throughout the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3276</td>
                                    <td class="row-source"><pre>//    above range, means that we only need to worry about the pieces of either</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3277</td>
                                    <td class="row-source"><pre>//    &#39;k(qOrigin - q)&#39; or &#39;k(q - qOrigin)&#39;, depending on the direction.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3278</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3279</td>
                                    <td class="row-source"><pre>//    The process of enumerating phases starts with the following initial</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3280</td>
                                    <td class="row-source"><pre>//    state:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3281</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3282</td>
                                    <td class="row-source"><pre>//      - &#39;indexCurve := l - 2&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3283</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3284</td>
                                    <td class="row-source"><pre>//      - &#39;qOrigin := q[indexCurve + 1] == q[l - 1] == qCurrent&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3285</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3286</td>
                                    <td class="row-source"><pre>//      - &#39;qEnd := q[indexCurve] == q[l - 2]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3287</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3288</td>
                                    <td class="row-source"><pre>//    Once we reach &#39;qEnd&#39;, we transition to a new phase by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3289</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3290</td>
                                    <td class="row-source"><pre>//      - decrementing &#39;indexCurve&#39; by one,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3291</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3292</td>
                                    <td class="row-source"><pre>//      - updating &#39;qOrigin&#39; and &#39;qEnd&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3293</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3294</td>
                                    <td class="row-source"><pre>//      - updating the direction flag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3295</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3296</td>
                                    <td class="row-source"><pre>//    and the cycle continues until we reach the phase to which &#39;qTarget&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3297</td>
                                    <td class="row-source"><pre>//    belongs.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3298</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3299</td>
                                    <td class="row-source"><pre>//  - &#39;indexKernelTotal&#39; keeps track of the pieces of the kernel function that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3300</td>
                                    <td class="row-source"><pre>//    we enumerate as we explore the current phase. As defined earlier, let:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3301</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3302</td>
                                    <td class="row-source"><pre>//      - &#39;qOrigin := q[indexCurve + 1]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3303</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3304</td>
                                    <td class="row-source"><pre>//      - &#39;qEnd := q[indexCurve]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3305</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3306</td>
                                    <td class="row-source"><pre>//      - &#39;getDirection() := qEnd &lt; q[indexCurve + 2]&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3307</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3308</td>
                                    <td class="row-source"><pre>//    correspond to the current phase under exploration which leads to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3309</td>
                                    <td class="row-source"><pre>//    following simplification of the liquidity distribution function:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3310</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3311</td>
                                    <td class="row-source"><pre>//      &#39;k(w(q)) == getDirection() ? k(qOrigin - q) : k(q - qOrigin)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3312</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3313</td>
                                    <td class="row-source"><pre>//    within the range</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3314</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3315</td>
                                    <td class="row-source"><pre>//      &#39;min(q[indexCurve + 2], qEnd) &lt; q &lt; max(q[indexCurve + 2], qEnd)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3316</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3317</td>
                                    <td class="row-source"><pre>//    Hence, as we move from &#39;q[indexCurve + 2]&#39; to &#39;qEnd&#39;, each piece of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3318</td>
                                    <td class="row-source"><pre>//    &#39;k(w(.))&#39; can be characterized via the following four vertical and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3319</td>
                                    <td class="row-source"><pre>//    horizontal coordinates:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3320</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3321</td>
                                    <td class="row-source"><pre>//      &#39;cTotal0 := c[indexKernelTotal - 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3322</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3323</td>
                                    <td class="row-source"><pre>//      &#39;qTotal0 := getDirection() ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3324</td>
                                    <td class="row-source"><pre>//                  qOrigin - b[indexKernelTotal - 1] : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3325</td>
                                    <td class="row-source"><pre>//                  qOrigin + b[indexKernelTotal - 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3326</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3327</td>
                                    <td class="row-source"><pre>//      &#39;cTotal1 := c[indexKernelTotal]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3328</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3329</td>
                                    <td class="row-source"><pre>//      &#39;qTotal1 := getDirection() ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3330</td>
                                    <td class="row-source"><pre>//                  qOrigin - b[indexKernelTotal] : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3331</td>
                                    <td class="row-source"><pre>//                  qOrigin + b[indexKernelTotal]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3332</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3333</td>
                                    <td class="row-source"><pre>//    The pair &#39;(cTotal0, qTotal0)&#39; is stored in the memory space which is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3334</td>
                                    <td class="row-source"><pre>//    pointed to by &#39;_total0_&#39; and similarly, the pair &#39;(cTotal1, qTotal1)&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3335</td>
                                    <td class="row-source"><pre>//    stored in the memory space which is pointed to by &#39;_total1_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3336</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3337</td>
                                    <td class="row-source"><pre>//    Hence, the function &#39;k(w(.))&#39; is linear within the intersection of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3338</td>
                                    <td class="row-source"><pre>//    two ranges:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3339</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3340</td>
                                    <td class="row-source"><pre>//      &#39;min(q[indexCurve + 2], qEnd) &lt; q &lt; max(q[indexCurve + 2], qEnd)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3341</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3342</td>
                                    <td class="row-source"><pre>//    and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3343</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3344</td>
                                    <td class="row-source"><pre>//      &#39;min(qTotal0, qTotal1) &lt; q &lt; max(qTotal0, qTotal1)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3345</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3346</td>
                                    <td class="row-source"><pre>//    As long as &#39;k(w(.))&#39; is linear, we have closed-forms for all of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3347</td>
                                    <td class="row-source"><pre>//    integrals that we intend to calculate. Hence, it is important to keep</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3348</td>
                                    <td class="row-source"><pre>//    track of the domain in which &#39;k(w(.))&#39; is linear and to update it as we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3349</td>
                                    <td class="row-source"><pre>//    move forward in our search. Moreover, we need to make sure that &#39;qTarget&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3350</td>
                                    <td class="row-source"><pre>//    does not go beyond &#39;qLimitWithinInterval&#39;. Hence, with each transition to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3351</td>
                                    <td class="row-source"><pre>//    a new phase or a new piece of the kernel function, we make the following</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3352</td>
                                    <td class="row-source"><pre>//    two updates:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3353</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3354</td>
                                    <td class="row-source"><pre>//      &#39;qBegin := getDirection() ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3355</td>
                                    <td class="row-source"><pre>//                 min(q[indexCurve + 2], qTotal0) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3356</td>
                                    <td class="row-source"><pre>//                 max(q[indexCurve + 2], qTotal0)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3357</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3358</td>
                                    <td class="row-source"><pre>//      &#39;qTarget := (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3359</td>
                                    <td class="row-source"><pre>//                    getDirection() == getZeroForOne()</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3360</td>
                                    <td class="row-source"><pre>//                  ) ? (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3361</td>
                                    <td class="row-source"><pre>//                    getDirection() ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3362</td>
                                    <td class="row-source"><pre>//                    max(max(qEnd, qTotal1), qLimitWithinInterval) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3363</td>
                                    <td class="row-source"><pre>//                    min(min(qEnd, qTotal1), qLimitWithinInterval)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3364</td>
                                    <td class="row-source"><pre>//                  ) : (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3365</td>
                                    <td class="row-source"><pre>//                    getDirection() ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3366</td>
                                    <td class="row-source"><pre>//                    max(qEnd, qTotal1) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3367</td>
                                    <td class="row-source"><pre>//                    min(qEnd, qTotal1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3368</td>
                                    <td class="row-source"><pre>//                  )&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3369</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3370</td>
                                    <td class="row-source"><pre>//    where &#39;qBegin&#39; and &#39;qTarget&#39; are stored, respectively, in the memory</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3371</td>
                                    <td class="row-source"><pre>//    spaces that are pointed to by &#39;_begin_&#39; and &#39;_target_&#39;. Both values are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3372</td>
                                    <td class="row-source"><pre>//    updated with each transition to a new phase or a new piece of &#39;k(w(.))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3373</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3374</td>
                                    <td class="row-source"><pre>//    The process of enumerating the pieces of the kernel function starts with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3375</td>
                                    <td class="row-source"><pre>//    the initial state &#39;indexKernelTotal := 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3376</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3377</td>
                                    <td class="row-source"><pre>// While searching for &#39;qTarget&#39;, we need to calculate the following two</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3378</td>
                                    <td class="row-source"><pre>// integrals, in addition to &#39;currentToTarget&#39; and &#39;incomingCurrentToTarget&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3379</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3380</td>
                                    <td class="row-source"><pre>//                           - 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3381</td>
                                    <td class="row-source"><pre>//    currentToOrigin      e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3382</td>
                                    <td class="row-source"><pre>//  &#39;----------------- := ------- * (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3383</td>
                                    <td class="row-source"><pre>//       2 ** 216            2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3384</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3385</td>
                                    <td class="row-source"><pre>//                         / qOrigin                  / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3386</td>
                                    <td class="row-source"><pre>//                        |    - h / 2               |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3387</td>
                                    <td class="row-source"><pre>//     getZeroForOne() ?  |  e         k(w(h)) dh :  |  e         k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3388</td>
                                    <td class="row-source"><pre>//                        |                          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3389</td>
                                    <td class="row-source"><pre>//                       / qCurrent                 / qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3390</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3391</td>
                                    <td class="row-source"><pre>//   )&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3392</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3393</td>
                                    <td class="row-source"><pre>// and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3394</td>
                                    <td class="row-source"><pre>//                             - 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3395</td>
                                    <td class="row-source"><pre>//    originToOvershoot      e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3396</td>
                                    <td class="row-source"><pre>//  &#39;------------------- := ------- * (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3397</td>
                                    <td class="row-source"><pre>//        2 ** 216             2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3398</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3399</td>
                                    <td class="row-source"><pre>//     getZeroForOne() ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3400</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3401</td>
                                    <td class="row-source"><pre>//       / qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3402</td>
                                    <td class="row-source"><pre>//      |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3403</td>
                                    <td class="row-source"><pre>//      |  e         k(qOrigin - h) dh :</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3404</td>
                                    <td class="row-source"><pre>//      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3405</td>
                                    <td class="row-source"><pre>//     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3406</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3407</td>
                                    <td class="row-source"><pre>//       / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3408</td>
                                    <td class="row-source"><pre>//      |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3409</td>
                                    <td class="row-source"><pre>//      |  e         k(h - qOrigin) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3410</td>
                                    <td class="row-source"><pre>//      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3411</td>
                                    <td class="row-source"><pre>//     / qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3412</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3413</td>
                                    <td class="row-source"><pre>//   )&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3414</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3415</td>
                                    <td class="row-source"><pre>// To summarize, the four integrals:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3416</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3417</td>
                                    <td class="row-source"><pre>//  - &#39;currentToTarget&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3418</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3419</td>
                                    <td class="row-source"><pre>//  - &#39;incomingCurrentToTarget&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3420</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3421</td>
                                    <td class="row-source"><pre>//  - &#39;currentToOrigin&#39;, and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3422</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3423</td>
                                    <td class="row-source"><pre>//  - &#39;originToOvershoot&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3424</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3425</td>
                                    <td class="row-source"><pre>// are incremented with each decrement of &#39;indexCurve&#39; or increment of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3426</td>
                                    <td class="row-source"><pre>// &#39;indexKernelTotal&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3427</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3428</td>
                                    <td class="row-source"><pre>// The following figure illustrates the ranges covered by the above integrals</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3429</td>
                                    <td class="row-source"><pre>// in the case of &#39;getZeroForOne() == false&#39;, i.e., &#39;qCurrent &lt; qTarget&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3430</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3431</td>
                                    <td class="row-source"><pre>//                                                currentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3432</td>
                                    <td class="row-source"><pre>//                                                exp(- h / 2) * k(w(h))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3433</td>
                                    <td class="row-source"><pre>//           currentToOrigin                    / </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3434</td>
                                    <td class="row-source"><pre>//    exp(+ h / 2) * k(w(h))                   /\ </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3435</td>
                                    <td class="row-source"><pre>//                          \                 /   incomingCurrentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3436</td>
                                    <td class="row-source"><pre>//                           \               /    exp(+ h / 2) * k(w(h))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3437</td>
                                    <td class="row-source"><pre>//                            \             /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3438</td>
                                    <td class="row-source"><pre>//                     |&lt;------------&gt;|&lt;--------&gt;|</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3439</td>
                                    <td class="row-source"><pre>//                     |              |          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3440</td>
                                    <td class="row-source"><pre>//      +--------------+--------------+----------+------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3441</td>
                                    <td class="row-source"><pre>//      |              |              |          |                  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3442</td>
                                    <td class="row-source"><pre>//    qLower           |          qCurrent       |                qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3443</td>
                                    <td class="row-source"><pre>//                     |                         |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3444</td>
                                    <td class="row-source"><pre>//                     |&lt;-----------------------&gt;|</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3445</td>
                                    <td class="row-source"><pre>//                     |            \            |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3446</td>
                                    <td class="row-source"><pre>//                  qOrigin          \        qTarget == qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3447</td>
                                    <td class="row-source"><pre>//                                    \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3448</td>
                                    <td class="row-source"><pre>//                             originToOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3449</td>
                                    <td class="row-source"><pre>//                             exp(- h / 2) * k(h - qOrigin)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3450</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3451</td>
                                    <td class="row-source"><pre>// The search for &#39;qTarget&#39; is conducted by calling the method &#39;moveTarget()&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3452</td>
                                    <td class="row-source"><pre>// from &#39;Interval.sol&#39; in a loop until either of the following condition are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3453</td>
                                    <td class="row-source"><pre>// met:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3454</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3455</td>
                                    <td class="row-source"><pre>//  - &#39;qLimitWithinInterval == qTarget&#39;, or</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3456</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3457</td>
                                    <td class="row-source"><pre>//  - &#39;integralLimit == (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3458</td>
                                    <td class="row-source"><pre>//       getExactInput() ? incomingCurrentToTarget : currentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3459</td>
                                    <td class="row-source"><pre>//     )&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3460</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3461</td>
                                    <td class="row-source"><pre>// Define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3462</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3463</td>
                                    <td class="row-source"><pre>//                                - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3464</td>
                                    <td class="row-source"><pre>//    integral0Incremented      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3465</td>
                                    <td class="row-source"><pre>//  &#39;---------------------- := ------- * |  e         k(w(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3466</td>
                                    <td class="row-source"><pre>//          2 ** 216              2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3467</td>
                                    <td class="row-source"><pre>//                                      / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3468</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3469</td>
                                    <td class="row-source"><pre>//                                - 8     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3470</td>
                                    <td class="row-source"><pre>//    integral1Incremented      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3471</td>
                                    <td class="row-source"><pre>//  &#39;---------------------- := ------- * |  e         k(w(h)) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3472</td>
                                    <td class="row-source"><pre>//          2 ** 216              2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3473</td>
                                    <td class="row-source"><pre>//                                      / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3474</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3475</td>
                                    <td class="row-source"><pre>// Now, the total reserves of &#39;tag0&#39; and &#39;tag1&#39; within &#39;[qLower, qUpper]&#39; after</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3476</td>
                                    <td class="row-source"><pre>// the movement of price from &#39;qCurrent&#39; to &#39;qTarget&#39; (i.e., after the exchange</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3477</td>
                                    <td class="row-source"><pre>// of &#39;amount0Partial&#39; and &#39;amount1Partial&#39;) are equal to </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3478</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3479</td>
                                    <td class="row-source"><pre>//                                       growth      integral0Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3480</td>
                                    <td class="row-source"><pre>//  &#39;sqrtInverseOffset * sharesTotal * ---------- * ----------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3481</td>
                                    <td class="row-source"><pre>//                                      2 ** 111         outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3482</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3483</td>
                                    <td class="row-source"><pre>// and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3484</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3485</td>
                                    <td class="row-source"><pre>//                                growth      integral1Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3486</td>
                                    <td class="row-source"><pre>//  &#39;sqrtOffset * sharesTotal * ---------- * ----------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3487</td>
                                    <td class="row-source"><pre>//                               2 ** 111         outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3488</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3489</td>
                                    <td class="row-source"><pre>// respectively. The ranges covered by &#39;integral0Incremented&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3490</td>
                                    <td class="row-source"><pre>// &#39;integral1Incremented&#39; are illustrated as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3491</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3492</td>
                                    <td class="row-source"><pre>//                                                    integral0Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3493</td>
                                    <td class="row-source"><pre>//                                                    exp(- h / 2) * k(w(h))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3494</td>
                                    <td class="row-source"><pre>//                integral1Incremented               /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3495</td>
                                    <td class="row-source"><pre>//                exp(+ h / 2) * k(w(h))            /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3496</td>
                                    <td class="row-source"><pre>//      |&lt;--------------------------------------&gt;|&lt;----------------&gt;|</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3497</td>
                                    <td class="row-source"><pre>//      |                                        |                  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3498</td>
                                    <td class="row-source"><pre>//      +----------------------------------------+------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3499</td>
                                    <td class="row-source"><pre>//      |                                        |                  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3500</td>
                                    <td class="row-source"><pre>//    qLower                                  qTarget             qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3501</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3502</td>
                                    <td class="row-source"><pre>// After the search for &#39;qTarget&#39; is concluded, and &#39;amount0Partial&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3503</td>
                                    <td class="row-source"><pre>// &#39;amount1Partial&#39; are calculated, we need to determine &#39;qOvershoot&#39;. If</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3504</td>
                                    <td class="row-source"><pre>// &#39;getZeroForOne() == false&#39;, we have</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3505</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3506</td>
                                    <td class="row-source"><pre>//  &#39;qTarget &lt;= qOvershoot &lt;= qUpper&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3507</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3508</td>
                                    <td class="row-source"><pre>// and if &#39;getZeroForOne() == true&#39;, we have</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3509</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3510</td>
                                    <td class="row-source"><pre>//  &#39;qLower &lt;= qOvershoot &lt;= qTarget&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3511</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3512</td>
                                    <td class="row-source"><pre>// The curve sequence is first amended with &#39;qOvershoot&#39; and then &#39;qTarget&#39;, in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3513</td>
                                    <td class="row-source"><pre>// preparation for the next swap.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3514</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3515</td>
                                    <td class="row-source"><pre>// To this end, define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3516</td>
                                    <td class="row-source"><pre>//                              - 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3517</td>
                                    <td class="row-source"><pre>//    currentToOvershoot      e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3518</td>
                                    <td class="row-source"><pre>//  &#39;-------------------- := ------- * (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3519</td>
                                    <td class="row-source"><pre>//         2 ** 216             2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3520</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3521</td>
                                    <td class="row-source"><pre>//                         / qCurrent                 / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3522</td>
                                    <td class="row-source"><pre>//                        |    + h / 2               |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3523</td>
                                    <td class="row-source"><pre>//     getZeroForOne() ?  |  e         k(w(h)) dh :  |  e         k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3524</td>
                                    <td class="row-source"><pre>//                        |                          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3525</td>
                                    <td class="row-source"><pre>//                       / qOvershoot               / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3526</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3527</td>
                                    <td class="row-source"><pre>//   )&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3528</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3529</td>
                                    <td class="row-source"><pre>// and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3530</td>
                                    <td class="row-source"><pre>//                             - 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3531</td>
                                    <td class="row-source"><pre>//    targetToOvershoot      e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3532</td>
                                    <td class="row-source"><pre>//  &#39;------------------- := ------- * (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3533</td>
                                    <td class="row-source"><pre>//         2 ** 216            2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3534</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3535</td>
                                    <td class="row-source"><pre>//     getZeroForOne()</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3536</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3537</td>
                                    <td class="row-source"><pre>//         / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3538</td>
                                    <td class="row-source"><pre>//        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3539</td>
                                    <td class="row-source"><pre>//     ?  |  e         k(qTarget - h) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3540</td>
                                    <td class="row-source"><pre>//        |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3541</td>
                                    <td class="row-source"><pre>//       / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3542</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3543</td>
                                    <td class="row-source"><pre>//         / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3544</td>
                                    <td class="row-source"><pre>//        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3545</td>
                                    <td class="row-source"><pre>//     :  |  e         k(h - qTarget) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3546</td>
                                    <td class="row-source"><pre>//        |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3547</td>
                                    <td class="row-source"><pre>//       / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3548</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3549</td>
                                    <td class="row-source"><pre>//   )&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3550</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3551</td>
                                    <td class="row-source"><pre>// While searching for &#39;qOvershoot&#39;, the four integrals:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3552</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3553</td>
                                    <td class="row-source"><pre>//  - &#39;currentToOvershoot&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3554</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3555</td>
                                    <td class="row-source"><pre>//  - &#39;targetToOvershoot&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3556</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3557</td>
                                    <td class="row-source"><pre>//  - &#39;originToOvershoot&#39;, and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3558</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3559</td>
                                    <td class="row-source"><pre>//  - &#39;currentToOrigin&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3560</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3561</td>
                                    <td class="row-source"><pre>// are kept track of. The following figure illustrates the ranges covered by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3562</td>
                                    <td class="row-source"><pre>// the above integrals in the case of &#39;getZeroForOne() == false&#39;, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3563</td>
                                    <td class="row-source"><pre>// &#39;qCurrent &lt; qTarget&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3564</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3565</td>
                                    <td class="row-source"><pre>//           currentToOrigin                      currentToOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3566</td>
                                    <td class="row-source"><pre>//    exp(+ h / 2) * k(w(h))                      exp(- h / 2) * k(w(h))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3567</td>
                                    <td class="row-source"><pre>//                          \                    /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3568</td>
                                    <td class="row-source"><pre>//                           \                  /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3569</td>
                                    <td class="row-source"><pre>//                            \                /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3570</td>
                                    <td class="row-source"><pre>//              |&lt;-------------------&gt;|&lt;---------------&gt;|</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3571</td>
                                    <td class="row-source"><pre>//              |                     |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3572</td>
                                    <td class="row-source"><pre>//              |                     |    qTarget      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3573</td>
                                    <td class="row-source"><pre>//              |                     |       |         |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3574</td>
                                    <td class="row-source"><pre>//      +-------+---------------------+-------+---------+-----------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3575</td>
                                    <td class="row-source"><pre>//      |       |                     |       |         |           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3576</td>
                                    <td class="row-source"><pre>//    qLower    |                 qCurrent    |&lt;-------&gt;|         qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3577</td>
                                    <td class="row-source"><pre>//              |                                  /    |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3578</td>
                                    <td class="row-source"><pre>//              |                                 /     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3579</td>
                                    <td class="row-source"><pre>//              |                targetToOvershoot      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3580</td>
                                    <td class="row-source"><pre>//              |    exp(- h / 2) * k(h - qTarget)      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3581</td>
                                    <td class="row-source"><pre>//              |                                       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3582</td>
                                    <td class="row-source"><pre>//              |                                       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3583</td>
                                    <td class="row-source"><pre>//              |&lt;-------------------------------------&gt;|</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3584</td>
                                    <td class="row-source"><pre>//              |                     /                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3585</td>
                                    <td class="row-source"><pre>//           qOrigin                 /              qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3586</td>
                                    <td class="row-source"><pre>//                                  /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3587</td>
                                    <td class="row-source"><pre>//                                 /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3588</td>
                                    <td class="row-source"><pre>//                originToOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3589</td>
                                    <td class="row-source"><pre>//    exp(- h / 2) * k(h - qOrigin)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3590</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3591</td>
                                    <td class="row-source"><pre>// Now, in order to find &#39;qOvershoot&#39;, we need to solve the equation:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3592</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3593</td>
                                    <td class="row-source"><pre>//   &#39;f(qOvershoot) == 0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3594</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3595</td>
                                    <td class="row-source"><pre>// where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3596</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3597</td>
                                    <td class="row-source"><pre>//   &#39;f(qOvershoot) := getZeroForOne() ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3598</td>
                                    <td class="row-source"><pre>//                     s0(qOvershoot) - s1(qOvershoot) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3599</td>
                                    <td class="row-source"><pre>//                     s1(qOvershoot) - s0(qOvershoot)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3600</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3601</td>
                                    <td class="row-source"><pre>// and the two functions &#39;s0&#39; and &#39;s1&#39; are defined as:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3602</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3603</td>
                                    <td class="row-source"><pre>//                          - 8      / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3604</td>
                                    <td class="row-source"><pre>//                        e         |   + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3605</td>
                                    <td class="row-source"><pre>//                       ------- *  |  e        k(wAmended(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3606</td>
                                    <td class="row-source"><pre>//                          2       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3607</td>
                                    <td class="row-source"><pre>//                                 / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3608</td>
                                    <td class="row-source"><pre>//   &#39;s1(qOvershoot) := ------------------------------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3609</td>
                                    <td class="row-source"><pre>//                                integral1Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3610</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3611</td>
                                    <td class="row-source"><pre>//                          - 8      / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3612</td>
                                    <td class="row-source"><pre>//                        e         |   - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3613</td>
                                    <td class="row-source"><pre>//                       ------- *  |  e        k(wAmended(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3614</td>
                                    <td class="row-source"><pre>//                          2       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3615</td>
                                    <td class="row-source"><pre>//                                 / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3616</td>
                                    <td class="row-source"><pre>//   &#39;s0(qOvershoot) := ------------------------------------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3617</td>
                                    <td class="row-source"><pre>//                                integral0Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3618</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3619</td>
                                    <td class="row-source"><pre>// Now, according to the amendement procedure which is described in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3620</td>
                                    <td class="row-source"><pre>// &#39;Curve.sol&#39;, if &#39;getZeroForOne() == false&#39;, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3621</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3622</td>
                                    <td class="row-source"><pre>//                       / k(w(h))            if  qOvershoot &lt; h &lt; qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3623</td>
                                    <td class="row-source"><pre>//   &#39;k(wAmended(h)) == |  k(h - qTarget)     if  qTarget &lt; h &lt; qOvershoot &#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3624</td>
                                    <td class="row-source"><pre>//                      |  k(qOvershoot - h)  if  qOrigin &lt; h &lt; qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3625</td>
                                    <td class="row-source"><pre>//                       \ k(w(h))            if  qLower &lt; h &lt; qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3626</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3627</td>
                                    <td class="row-source"><pre>// and if &#39;getZeroForOne() == true&#39;, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3628</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3629</td>
                                    <td class="row-source"><pre>//                       / k(w(h))            if  qLower &lt; h &lt; qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3630</td>
                                    <td class="row-source"><pre>//   &#39;k(wAmended(h)) == |  k(qTarget - h)     if  qOvershoot &lt; h &lt; qTarget &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3631</td>
                                    <td class="row-source"><pre>//                      |  k(h - qOvershoot)  if  qTarget &lt; h &lt; qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3632</td>
                                    <td class="row-source"><pre>//                       \ k(w(h))            if  qOrigin &lt; h &lt; qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3633</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3634</td>
                                    <td class="row-source"><pre>// For the case &#39;getZeroForOne() == false&#39;, the above formulas conclude that:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3635</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3636</td>
                                    <td class="row-source"><pre>//  - the numerator of &#39;s1&#39; is equal to:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3637</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3638</td>
                                    <td class="row-source"><pre>//        - 8     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3639</td>
                                    <td class="row-source"><pre>//      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3640</td>
                                    <td class="row-source"><pre>//    &#39;------- * |  e         k(wAmended(h)) dh == </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3641</td>
                                    <td class="row-source"><pre>//        2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3642</td>
                                    <td class="row-source"><pre>//              / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3643</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3644</td>
                                    <td class="row-source"><pre>//        - 8     / qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3645</td>
                                    <td class="row-source"><pre>//      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3646</td>
                                    <td class="row-source"><pre>//     ------- * |  e         k(wAmended(h)) dh +</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3647</td>
                                    <td class="row-source"><pre>//        2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3648</td>
                                    <td class="row-source"><pre>//              / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3649</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3650</td>
                                    <td class="row-source"><pre>//                                - 8     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3651</td>
                                    <td class="row-source"><pre>//                              e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3652</td>
                                    <td class="row-source"><pre>//                             ------- * |  e         k(wAmended(h)) dh ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3653</td>
                                    <td class="row-source"><pre>//                                2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3654</td>
                                    <td class="row-source"><pre>//                                      / qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3655</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3656</td>
                                    <td class="row-source"><pre>//        - 8     / qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3657</td>
                                    <td class="row-source"><pre>//      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3658</td>
                                    <td class="row-source"><pre>//     ------- * |  e         k(w(h)) dh +</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3659</td>
                                    <td class="row-source"><pre>//        2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3660</td>
                                    <td class="row-source"><pre>//              / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3661</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3662</td>
                                    <td class="row-source"><pre>//                                - 8     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3663</td>
                                    <td class="row-source"><pre>//                              e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3664</td>
                                    <td class="row-source"><pre>//                             ------- * |  e         k(qOvershoot - h) dh ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3665</td>
                                    <td class="row-source"><pre>//                                2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3666</td>
                                    <td class="row-source"><pre>//                                      / qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3667</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3668</td>
                                    <td class="row-source"><pre>//        - 8     / qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3669</td>
                                    <td class="row-source"><pre>//      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3670</td>
                                    <td class="row-source"><pre>//     ------- * |  e         k(w(h)) dh +</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3671</td>
                                    <td class="row-source"><pre>//        2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3672</td>
                                    <td class="row-source"><pre>//              / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3673</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3674</td>
                                    <td class="row-source"><pre>//                                - 8     / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3675</td>
                                    <td class="row-source"><pre>//                              e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3676</td>
                                    <td class="row-source"><pre>//                             ------- * |  e         k(qOvershoot - h) dh -</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3677</td>
                                    <td class="row-source"><pre>//                                2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3678</td>
                                    <td class="row-source"><pre>//                                      / qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3679</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3680</td>
                                    <td class="row-source"><pre>//                                - 8     / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3681</td>
                                    <td class="row-source"><pre>//                              e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3682</td>
                                    <td class="row-source"><pre>//                             ------- * |  e         k(qOvershoot - h) dh ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3683</td>
                                    <td class="row-source"><pre>//                                2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3684</td>
                                    <td class="row-source"><pre>//                                      / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3685</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3686</td>
                                    <td class="row-source"><pre>//        - 8     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3687</td>
                                    <td class="row-source"><pre>//      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3688</td>
                                    <td class="row-source"><pre>//     ------- * |  e         k(w(h)) dh - </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3689</td>
                                    <td class="row-source"><pre>//        2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3690</td>
                                    <td class="row-source"><pre>//              / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3691</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3692</td>
                                    <td class="row-source"><pre>//        - 8     / qTarget                   - 8     / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3693</td>
                                    <td class="row-source"><pre>//      e        |    + h / 2               e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3694</td>
                                    <td class="row-source"><pre>//     ------- * |  e         k(w(h)) dh - ------- * |  e         k(w(h)) dh +</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3695</td>
                                    <td class="row-source"><pre>//        2      |                            2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3696</td>
                                    <td class="row-source"><pre>//              / qCurrent                          / qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3697</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3698</td>
                                    <td class="row-source"><pre>//        - 8 + (qOrigin + qOvershoot) / 2     / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3699</td>
                                    <td class="row-source"><pre>//      e                                     |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3700</td>
                                    <td class="row-source"><pre>//     ------------------------------------ * |  e         k(h - qOrigin) dh -</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3701</td>
                                    <td class="row-source"><pre>//                        2                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3702</td>
                                    <td class="row-source"><pre>//                                           / qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3703</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3704</td>
                                    <td class="row-source"><pre>//        - 8 + (qTarget + qOvershoot) / 2     / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3705</td>
                                    <td class="row-source"><pre>//      e                                     |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3706</td>
                                    <td class="row-source"><pre>//     ------------------------------------ * |  e         k(h - qTarget) dh ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3707</td>
                                    <td class="row-source"><pre>//                        2                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3708</td>
                                    <td class="row-source"><pre>//                                           / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3709</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3710</td>
                                    <td class="row-source"><pre>//      integral1Incremented - incomingCurrentToTarget - currentToOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3711</td>
                                    <td class="row-source"><pre>//     ------------------------------------------------------------------ + </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3712</td>
                                    <td class="row-source"><pre>//                                  2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3713</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3714</td>
                                    <td class="row-source"><pre>//      exp((qOrigin + qOvershoot) / 2) * originToOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3715</td>
                                    <td class="row-source"><pre>//     ----------------------------------------------------- - </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3716</td>
                                    <td class="row-source"><pre>//                            2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3717</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3718</td>
                                    <td class="row-source"><pre>//      exp((qTarget + qOvershoot) / 2) * targetToOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3719</td>
                                    <td class="row-source"><pre>//     -----------------------------------------------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3720</td>
                                    <td class="row-source"><pre>//                            2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3721</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3722</td>
                                    <td class="row-source"><pre>//  - the numerator of &#39;s0&#39; is equal to:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3723</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3724</td>
                                    <td class="row-source"><pre>//        - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3725</td>
                                    <td class="row-source"><pre>//      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3726</td>
                                    <td class="row-source"><pre>//    &#39;------- * |  e         k(wAmended(h)) dh == </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3727</td>
                                    <td class="row-source"><pre>//        2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3728</td>
                                    <td class="row-source"><pre>//              / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3729</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3730</td>
                                    <td class="row-source"><pre>//        - 8     / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3731</td>
                                    <td class="row-source"><pre>//      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3732</td>
                                    <td class="row-source"><pre>//     ------- * |  e         k(wAmended(h)) dh +</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3733</td>
                                    <td class="row-source"><pre>//        2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3734</td>
                                    <td class="row-source"><pre>//              / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3735</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3736</td>
                                    <td class="row-source"><pre>//                                - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3737</td>
                                    <td class="row-source"><pre>//                              e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3738</td>
                                    <td class="row-source"><pre>//                             ------- * |  e         k(wAmended(h)) dh == </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3739</td>
                                    <td class="row-source"><pre>//                                2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3740</td>
                                    <td class="row-source"><pre>//                                      / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3741</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3742</td>
                                    <td class="row-source"><pre>//        - 8     / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3743</td>
                                    <td class="row-source"><pre>//      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3744</td>
                                    <td class="row-source"><pre>//     ------- * |  e         k(h - qTarget) dh +</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3745</td>
                                    <td class="row-source"><pre>//        2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3746</td>
                                    <td class="row-source"><pre>//              / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3747</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3748</td>
                                    <td class="row-source"><pre>//                                - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3749</td>
                                    <td class="row-source"><pre>//                              e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3750</td>
                                    <td class="row-source"><pre>//                             ------- * |  e         k(w(h)) dh == </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3751</td>
                                    <td class="row-source"><pre>//                                2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3752</td>
                                    <td class="row-source"><pre>//                                      / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3753</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3754</td>
                                    <td class="row-source"><pre>//        - 8     / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3755</td>
                                    <td class="row-source"><pre>//      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3756</td>
                                    <td class="row-source"><pre>//     ------- * |  e         k(h - qTarget) dh +</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3757</td>
                                    <td class="row-source"><pre>//        2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3758</td>
                                    <td class="row-source"><pre>//              / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3759</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3760</td>
                                    <td class="row-source"><pre>//        - 8     / qTarget                   - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3761</td>
                                    <td class="row-source"><pre>//      e        |    - h / 2               e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3762</td>
                                    <td class="row-source"><pre>//     ------- * |  e         k(w(h)) dh + ------- * |  e         k(w(h)) dh -</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3763</td>
                                    <td class="row-source"><pre>//        2      |                            2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3764</td>
                                    <td class="row-source"><pre>//              / qCurrent                          / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3765</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3766</td>
                                    <td class="row-source"><pre>//        - 8     / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3767</td>
                                    <td class="row-source"><pre>//      e        |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3768</td>
                                    <td class="row-source"><pre>//     ------- * |  e         k(w(h)) dh == </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3769</td>
                                    <td class="row-source"><pre>//        2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3770</td>
                                    <td class="row-source"><pre>//              / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3771</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3772</td>
                                    <td class="row-source"><pre>//      targetToOvershoot + currentToTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3773</td>
                                    <td class="row-source"><pre>//     ------------------------------------- + </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3774</td>
                                    <td class="row-source"><pre>//                    2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3775</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3776</td>
                                    <td class="row-source"><pre>//      integral0Incremented - currentToOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3777</td>
                                    <td class="row-source"><pre>//     -------------------------------------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3778</td>
                                    <td class="row-source"><pre>//                       2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3779</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3780</td>
                                    <td class="row-source"><pre>// Similar arguments can be made for the case &#39;getZeroForOne() == true&#39; and for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3781</td>
                                    <td class="row-source"><pre>// both cases, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3782</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3783</td>
                                    <td class="row-source"><pre>//   &#39;f(qOvershoot) := getZeroForOne() ? (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3784</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3785</td>
                                    <td class="row-source"><pre>//      (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3786</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3787</td>
                                    <td class="row-source"><pre>//        exp(- (qOrigin + qOvershoot) / 2) * originToOvershoot -</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3788</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3789</td>
                                    <td class="row-source"><pre>//        exp(- (qTarget + qOvershoot) / 2) * targetToOvershoot - </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3790</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3791</td>
                                    <td class="row-source"><pre>//        incomingCurrentToTarget - currentToOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3792</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3793</td>
                                    <td class="row-source"><pre>//      ) / integral0Incremented - (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3794</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3795</td>
                                    <td class="row-source"><pre>//        targetToOvershoot + currentToTarget - currentToOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3796</td>
                                    <td class="row-source"><pre>//      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3797</td>
                                    <td class="row-source"><pre>//      ) / integral1Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3798</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3799</td>
                                    <td class="row-source"><pre>//    ) : (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3800</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3801</td>
                                    <td class="row-source"><pre>//      (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3802</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3803</td>
                                    <td class="row-source"><pre>//        exp(+ (qOrigin + qOvershoot) / 2) * originToOvershoot -</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3804</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3805</td>
                                    <td class="row-source"><pre>//        exp(+ (qTarget + qOvershoot) / 2) * targetToOvershoot - </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3806</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3807</td>
                                    <td class="row-source"><pre>//        incomingCurrentToTarget - currentToOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3808</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3809</td>
                                    <td class="row-source"><pre>//      ) / integral1Incremented - (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3810</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3811</td>
                                    <td class="row-source"><pre>//        targetToOvershoot + currentToTarget - currentToOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3812</td>
                                    <td class="row-source"><pre>//      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3813</td>
                                    <td class="row-source"><pre>//      ) / integral0Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3814</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3815</td>
                                    <td class="row-source"><pre>//    )&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3816</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3817</td>
                                    <td class="row-source"><pre>// We use Newton&#39;s method in order to pinpoint the precise value for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3818</td>
                                    <td class="row-source"><pre>// &#39;qOvershoot&#39; which satisfies:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3819</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3820</td>
                                    <td class="row-source"><pre>//   &#39;f(qOvershoot) == 0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3821</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3822</td>
                                    <td class="row-source"><pre>// To this end, we need access to a simple and closed-form expression for all</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3823</td>
                                    <td class="row-source"><pre>// of the above integrals. Hence, we first need to restrict our search to a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3824</td>
                                    <td class="row-source"><pre>// domain in which both &#39;k(w(.))&#39; and &#39;k(|h - qTarget|)&#39; are linear.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3825</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3826</td>
                                    <td class="row-source"><pre>// Hence, prior to the above-mentioned numerical search, we first need to move</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3827</td>
                                    <td class="row-source"><pre>// &#39;qOvershoot&#39; from &#39;qTarget&#39; towards &#39;qNext&#39; until we determine the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3828</td>
                                    <td class="row-source"><pre>// followings:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3829</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3830</td>
                                    <td class="row-source"><pre>//   - The piece of &#39;k(w(.))&#39; to which &#39;qOvershoot&#39; belongs.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3831</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3832</td>
                                    <td class="row-source"><pre>//   - The piece of &#39;k(|h - qTarget|)&#39; to which &#39;qOvershoot&#39; belongs.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3833</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3834</td>
                                    <td class="row-source"><pre>// The former is accomplished via a similar procedure as we delineated before</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3835</td>
                                    <td class="row-source"><pre>// in search for &#39;qTarget&#39;. Put simply, we start with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3836</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3837</td>
                                    <td class="row-source"><pre>//   &#39;qOvershoot := qTarget&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3838</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3839</td>
                                    <td class="row-source"><pre>// because</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3840</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3841</td>
                                    <td class="row-source"><pre>//   &#39;f(qTarget) &lt; 0&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3842</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3843</td>
                                    <td class="row-source"><pre>// and we keep moving &#39;qOvershoot&#39; forward until we encounter a point that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3844</td>
                                    <td class="row-source"><pre>// satisfies:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3845</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3846</td>
                                    <td class="row-source"><pre>//   &#39;f(qOvershoot) &gt; 0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3847</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3848</td>
                                    <td class="row-source"><pre>// Throughout the movement from &#39;qTarget&#39; towards &#39;qNext&#39;, we keep track of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3849</td>
                                    <td class="row-source"><pre>// current phase under exploration using the variables:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3850</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3851</td>
                                    <td class="row-source"><pre>//   - &#39;indexCurve&#39;, &#39;qOrigin&#39;, &#39;qEnd&#39;, &#39;direction&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3852</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3853</td>
                                    <td class="row-source"><pre>// and we keep track of the current piece of the kernel function using the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3854</td>
                                    <td class="row-source"><pre>// variables:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3855</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3856</td>
                                    <td class="row-source"><pre>//   - &#39;indexKernelTotal&#39;, &#39;cTotal0&#39;, &#39;cTotal1&#39;, &#39;qTotal0&#39;, &#39;qTotal1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3857</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3858</td>
                                    <td class="row-source"><pre>// Throughout the search for &#39;qOvershoot&#39;, the piece of &#39;k(|h - qTarget|)&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3859</td>
                                    <td class="row-source"><pre>// which &#39;qOvershoot&#39; belongs is determined using an additional index:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3860</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3861</td>
                                    <td class="row-source"><pre>//  - &#39;indexKernelForward&#39; keeps track of the pieces of the function</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3862</td>
                                    <td class="row-source"><pre>//    &#39;k(|h - qTarget|)&#39; that we enumerate as we move from &#39;qTarget&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3863</td>
                                    <td class="row-source"><pre>//    &#39;qOvershoot&#39;. Each piece of &#39;k(|h - qTarget|)&#39; can be characterized via</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3864</td>
                                    <td class="row-source"><pre>//    the following four vertical and horizontal coordinates:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3865</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3866</td>
                                    <td class="row-source"><pre>//      &#39;cForward0 := c[indexKernelForward - 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3867</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3868</td>
                                    <td class="row-source"><pre>//      &#39;qForward0 := getZeroForOne() ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3869</td>
                                    <td class="row-source"><pre>//                    qTarget - b[indexKernelForward - 1] : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3870</td>
                                    <td class="row-source"><pre>//                    qTarget + b[indexKernelForward - 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3871</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3872</td>
                                    <td class="row-source"><pre>//      &#39;cForward1 := c[indexKernelForward]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3873</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3874</td>
                                    <td class="row-source"><pre>//      &#39;qForward1 := getZeroForOne() ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3875</td>
                                    <td class="row-source"><pre>//                    qTarget - b[indexKernelForward] : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3876</td>
                                    <td class="row-source"><pre>//                    qTarget + b[indexKernelForward]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3877</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3878</td>
                                    <td class="row-source"><pre>//    The pair &#39;(cForward0, qForward0)&#39; is stored in the memory space which is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3879</td>
                                    <td class="row-source"><pre>//    pointed to by &#39;_forward0_&#39; and similarly, the pair</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3880</td>
                                    <td class="row-source"><pre>//    &#39;(cForward1, qForward1)&#39; is stored in the memory space which is pointed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3881</td>
                                    <td class="row-source"><pre>//    to by &#39;_forward1_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3882</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3883</td>
                                    <td class="row-source"><pre>//    Hence, the function &#39;k(|. - qTarget|)&#39; is linear within the range:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3884</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3885</td>
                                    <td class="row-source"><pre>//      &#39;min(qForward0, qForward1) &lt; q &lt; max(qForward0, qForward1)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3886</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3887</td>
                                    <td class="row-source"><pre>//    and the function &#39;k(w(.))&#39; is linear within the intersection of the two</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3888</td>
                                    <td class="row-source"><pre>//    ranges:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3889</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3890</td>
                                    <td class="row-source"><pre>//      &#39;min(q[indexCurve + 2], qEnd) &lt; q &lt; max(q[indexCurve + 2], qEnd)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3891</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3892</td>
                                    <td class="row-source"><pre>//    and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3893</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3894</td>
                                    <td class="row-source"><pre>//      &#39;min(qTotal0, qTotal1) &lt; q &lt; max(qTotal0, qTotal1)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3895</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3896</td>
                                    <td class="row-source"><pre>//    Now, in order to have closed-forms for all of the integrals that the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3897</td>
                                    <td class="row-source"><pre>//    formula for &#39;f(qOvershoot)&#39; comprises, at each step, we keep track of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3898</td>
                                    <td class="row-source"><pre>//    domain in which both &#39;k(w(.))&#39; and &#39;k(|. - qTarget|)&#39; are linear and we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3899</td>
                                    <td class="row-source"><pre>//    update this domain as we move forward in our search. Hence, with every</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3900</td>
                                    <td class="row-source"><pre>//    update of &#39;indexCurve&#39;, &#39;indexKernelTotal&#39;, and &#39;indexKernelForward&#39;, we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3901</td>
                                    <td class="row-source"><pre>//    make the following two updates:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3902</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3903</td>
                                    <td class="row-source"><pre>//      &#39;qBegin := (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3904</td>
                                    <td class="row-source"><pre>//                   direction == getZeroForOne()</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3905</td>
                                    <td class="row-source"><pre>//                 ) ? (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3906</td>
                                    <td class="row-source"><pre>//                   direction ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3907</td>
                                    <td class="row-source"><pre>//                   max(max(q[indexCurve + 2], qTotal0), qForward0) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3908</td>
                                    <td class="row-source"><pre>//                   min(min(q[indexCurve + 2], qTotal0), qForward0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3909</td>
                                    <td class="row-source"><pre>//                 ) : (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3910</td>
                                    <td class="row-source"><pre>//                   direction ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3911</td>
                                    <td class="row-source"><pre>//                   max(q[indexCurve + 2], qTotal0) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3912</td>
                                    <td class="row-source"><pre>//                   min(q[indexCurve + 2], qTotal0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3913</td>
                                    <td class="row-source"><pre>//                 )&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3914</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3915</td>
                                    <td class="row-source"><pre>//      &#39;qOvershoot := (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3916</td>
                                    <td class="row-source"><pre>//                       direction == getZeroForOne()</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3917</td>
                                    <td class="row-source"><pre>//                     ) ? (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3918</td>
                                    <td class="row-source"><pre>//                       direction ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3919</td>
                                    <td class="row-source"><pre>//                       max(max(qEnd, qTotal1), qForward1) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3920</td>
                                    <td class="row-source"><pre>//                       min(min(qEnd, qTotal1), qForward1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3921</td>
                                    <td class="row-source"><pre>//                     ) : (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3922</td>
                                    <td class="row-source"><pre>//                       direction ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3923</td>
                                    <td class="row-source"><pre>//                       max(qEnd, qTotal1) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3924</td>
                                    <td class="row-source"><pre>//                       min(qEnd, qTotal1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3925</td>
                                    <td class="row-source"><pre>//                     )&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3926</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3927</td>
                                    <td class="row-source"><pre>//    where &#39;qBegin&#39; and &#39;qOvershoot&#39; are stored, respectively, in the memory</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3928</td>
                                    <td class="row-source"><pre>//    spaces that are pointed to by &#39;_begin_&#39; and &#39;_overshoot_&#39;. Both values</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3929</td>
                                    <td class="row-source"><pre>//    are updated with each transition to a new phase, a new piece of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3930</td>
                                    <td class="row-source"><pre>//    &#39;k(w(.))&#39;, or a new piece of &#39;k(|. - qTarget|)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3931</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3932</td>
                                    <td class="row-source"><pre>//    The process of enumerating the pieces of &#39;k(|. - qTarget|)&#39; starts with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3933</td>
                                    <td class="row-source"><pre>//    the initial state &#39;indexKernelForward := 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3934</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3935</td>
                                    <td class="row-source"><pre>// Determining the search domain to which &#39;qOvershoot&#39; belongs and in which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3936</td>
                                    <td class="row-source"><pre>// both &#39;k(w(.))&#39; and &#39;k(|. - qTarget|)&#39; are linear, is conducted by calling</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3937</td>
                                    <td class="row-source"><pre>// the method &#39;moveOvershoot&#39; from &#39;Interval.sol&#39; in a loop until the following</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3938</td>
                                    <td class="row-source"><pre>// condition is met:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3939</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3940</td>
                                    <td class="row-source"><pre>//   &#39;f(qBegin) &lt;= 0&#39; and &#39;f(qOvershoot) &gt;  0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3941</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3942</td>
                                    <td class="row-source"><pre>// Then, according to the intermediate value theorem, there exists a solution</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3943</td>
                                    <td class="row-source"><pre>// in this search domain which satisfies:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3944</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3945</td>
                                    <td class="row-source"><pre>//   &#39;f(qOvershoot) == 0&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3946</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3947</td>
                                    <td class="row-source"><pre>// Then, this solution is found by calling the method &#39;searchOvershoot&#39; from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3948</td>
                                    <td class="row-source"><pre>// &#39;Interval.sol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3949</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3950</td>
                                    <td class="row-source"><pre>// In order to calculate the Newton step at each stage, we need to find the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3951</td>
                                    <td class="row-source"><pre>// derivative of &#39;f(.)&#39;. If &#39;getZeroForOne() == false&#39;, then we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3952</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3953</td>
                                    <td class="row-source"><pre>//          d f</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3954</td>
                                    <td class="row-source"><pre>//   &#39;-------------- ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3955</td>
                                    <td class="row-source"><pre>//     d qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3956</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3957</td>
                                    <td class="row-source"><pre>//    (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3958</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3959</td>
                                    <td class="row-source"><pre>//        + (qOrigin + qOvershoot) / 2    originToOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3960</td>
                                    <td class="row-source"><pre>//      e                              * ------------------- -</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3961</td>
                                    <td class="row-source"><pre>//                                              2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3962</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3963</td>
                                    <td class="row-source"><pre>//        + (qTarget + qOvershoot) / 2    targetToOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3964</td>
                                    <td class="row-source"><pre>//      e                              * ------------------- +</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3965</td>
                                    <td class="row-source"><pre>//                                              2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3966</td>
                                    <td class="row-source"><pre>//         - 8 + qOrigin / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3967</td>
                                    <td class="row-source"><pre>//       e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3968</td>
                                    <td class="row-source"><pre>//      --------------------- * k(qOvershoot - qOrigin) -</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3969</td>
                                    <td class="row-source"><pre>//                2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3970</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3971</td>
                                    <td class="row-source"><pre>//         - 8 + qTarget / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3972</td>
                                    <td class="row-source"><pre>//       e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3973</td>
                                    <td class="row-source"><pre>//      --------------------- * k(qOvershoot - qTarget)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3974</td>
                                    <td class="row-source"><pre>//                2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3975</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3976</td>
                                    <td class="row-source"><pre>//    ) / integral1Incremented - (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3977</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3978</td>
                                    <td class="row-source"><pre>//         - 8 - qOvershoot / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3979</td>
                                    <td class="row-source"><pre>//       e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3980</td>
                                    <td class="row-source"><pre>//      ------------------------ * k(qOvershoot - qTarget) - </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3981</td>
                                    <td class="row-source"><pre>//                  2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3982</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3983</td>
                                    <td class="row-source"><pre>//         - 8 - qOvershoot / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3984</td>
                                    <td class="row-source"><pre>//       e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3985</td>
                                    <td class="row-source"><pre>//      ------------------------ * k(qOvershoot - qOrigin) </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3986</td>
                                    <td class="row-source"><pre>//                  2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3987</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3988</td>
                                    <td class="row-source"><pre>//    ) / integral0Incremented&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3989</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3990</td>
                                    <td class="row-source"><pre>// If &#39;getZeroForOne() == true&#39;, then we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3991</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3992</td>
                                    <td class="row-source"><pre>//          d f</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3993</td>
                                    <td class="row-source"><pre>//   &#39;-------------- ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3994</td>
                                    <td class="row-source"><pre>//     d qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3995</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3996</td>
                                    <td class="row-source"><pre>//    (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3997</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3998</td>
                                    <td class="row-source"><pre>//         - 8 + qOvershoot / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3999</td>
                                    <td class="row-source"><pre>//       e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4000</td>
                                    <td class="row-source"><pre>//      ------------------------ * k(qTarget - qOvershoot) - </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4001</td>
                                    <td class="row-source"><pre>//                  2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4002</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4003</td>
                                    <td class="row-source"><pre>//         - 8 + qOvershoot / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4004</td>
                                    <td class="row-source"><pre>//       e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4005</td>
                                    <td class="row-source"><pre>//      ------------------------ * k(qOrigin - qOvershoot) </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4006</td>
                                    <td class="row-source"><pre>//                  2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4007</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4008</td>
                                    <td class="row-source"><pre>//    ) / integral1Incremented - (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4009</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4010</td>
                                    <td class="row-source"><pre>//        - (qOrigin + qOvershoot) / 2    originToOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4011</td>
                                    <td class="row-source"><pre>//      e                              * ------------------- -</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4012</td>
                                    <td class="row-source"><pre>//                                              2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4013</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4014</td>
                                    <td class="row-source"><pre>//        - (qTarget + qOvershoot) / 2    targetToOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4015</td>
                                    <td class="row-source"><pre>//      e                              * ------------------- +</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4016</td>
                                    <td class="row-source"><pre>//                                              2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4017</td>
                                    <td class="row-source"><pre>//         - 8 - qOrigin / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4018</td>
                                    <td class="row-source"><pre>//       e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4019</td>
                                    <td class="row-source"><pre>//      --------------------- * k(qOrigin - qOvershoot) - </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4020</td>
                                    <td class="row-source"><pre>//                2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4021</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4022</td>
                                    <td class="row-source"><pre>//         - 8 - qTarget / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4023</td>
                                    <td class="row-source"><pre>//       e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4024</td>
                                    <td class="row-source"><pre>//      --------------------- * k(qTarget - qOvershoot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4025</td>
                                    <td class="row-source"><pre>//                2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4026</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4027</td>
                                    <td class="row-source"><pre>//    ) / integral0Incremented&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4028</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4029</td>
                                    <td class="row-source"><pre>// After the calulation of &#39;qOvershoot&#39;, the amended values &#39;growthAmended&#39;, </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4030</td>
                                    <td class="row-source"><pre>// &#39;integral0Amended&#39; and &#39;integral1Amended&#39; are determined as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4031</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4032</td>
                                    <td class="row-source"><pre>//                         growth              growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4033</td>
                                    <td class="row-source"><pre>//  &#39;growthAmended == ---------------- == ----------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4034</td>
                                    <td class="row-source"><pre>//                     s0(qOvershoot)      s1(qOvershoot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4035</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4036</td>
                                    <td class="row-source"><pre>//                            - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4037</td>
                                    <td class="row-source"><pre>//    integral0Amended      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4038</td>
                                    <td class="row-source"><pre>//  &#39;------------------ := ------- * |  e         k(wAmended(h)) dh == </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4039</td>
                                    <td class="row-source"><pre>//        2 ** 216            2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4040</td>
                                    <td class="row-source"><pre>//                                  / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4041</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4042</td>
                                    <td class="row-source"><pre>//                              growth        integral0Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4043</td>
                                    <td class="row-source"><pre>//                         --------------- * ----------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4044</td>
                                    <td class="row-source"><pre>//                          growthAmended           2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4045</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4046</td>
                                    <td class="row-source"><pre>//                            - 8     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4047</td>
                                    <td class="row-source"><pre>//    integral1Amended      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4048</td>
                                    <td class="row-source"><pre>//  &#39;------------------ := ------- * |  e         k(wAmended(h)) dh == </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4049</td>
                                    <td class="row-source"><pre>//        2 ** 216            2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4050</td>
                                    <td class="row-source"><pre>//                                  / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4051</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4052</td>
                                    <td class="row-source"><pre>//                              growth        integral0Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4053</td>
                                    <td class="row-source"><pre>//                         --------------- * ----------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4054</td>
                                    <td class="row-source"><pre>//                          growthAmended           2 ** 216</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4055</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4056</td>
                                    <td class="row-source"><pre>// where the ranges covered by &#39;integral0Amended&#39; and &#39;integral1Amended&#39; are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4057</td>
                                    <td class="row-source"><pre>// illustrated as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4058</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4059</td>
                                    <td class="row-source"><pre>//                         integral0Amended</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4060</td>
                                    <td class="row-source"><pre>//                         exp(- h / 2) * k(wAmended(h))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4061</td>
                                    <td class="row-source"><pre>//                                                      \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4062</td>
                                    <td class="row-source"><pre>//             integral1Amended                          \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4063</td>
                                    <td class="row-source"><pre>//             exp(+ h / 2) * k(wAmended(h))              \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4064</td>
                                    <td class="row-source"><pre>//      |&lt;--------------------------------------&gt;|&lt;----------------&gt;|</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4065</td>
                                    <td class="row-source"><pre>//      |                                        |                  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4066</td>
                                    <td class="row-source"><pre>//      +----------------------------------------+------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4067</td>
                                    <td class="row-source"><pre>//      |                                        |                  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4068</td>
                                    <td class="row-source"><pre>//    qLower                                  qTarget             qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4069</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4070</td>
                                    <td class="row-source"><pre>// In the following section, the memory pointers that are used for the purpose</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4071</td>
                                    <td class="row-source"><pre>// of the above calculations are introduced.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4072</td>
                                    <td class="row-source"><pre>uint16 constant _interval_ = 644;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4073</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4074</td>
                                    <td class="row-source"><pre>// The direction of the current &#39;phase&#39; under exploration. Everytime that we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4075</td>
                                    <td class="row-source"><pre>// move from one &#39;phase&#39; to the next, by decrementing &#39;indexCurve&#39; this binary</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4076</td>
                                    <td class="row-source"><pre>// value is flipped. &#39;direction&#39; should not be confused with &#39;zeroForOne&#39; which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4077</td>
                                    <td class="row-source"><pre>// does not change throughout a swap. Define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4078</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4079</td>
                                    <td class="row-source"><pre>//  &#39;qEnd := q[indexCurve]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4080</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4081</td>
                                    <td class="row-source"><pre>// &#39;direction = 0x00&#39; if &#39;q[indexCurve + 2] &lt; qEnd&#39;, i.e., when we are moving</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4082</td>
                                    <td class="row-source"><pre>// towards &#39;+oo&#39;, in search for &#39;qTarget&#39; or &#39;qOvershoot&#39;. In this case, for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4083</td>
                                    <td class="row-source"><pre>// every &#39;q[indexCurve + 2] &lt; h &lt; qEnd&#39;, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4084</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4085</td>
                                    <td class="row-source"><pre>//  &#39;w(h) := h - qOrigin&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4086</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4087</td>
                                    <td class="row-source"><pre>// &#39;direction = 0xFF&#39; if &#39;qEnd &lt; q[indexCurve + 2]&#39;, i.e., when we are moving</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4088</td>
                                    <td class="row-source"><pre>// towards &#39;-oo&#39;, in search for &#39;qTarget&#39; or &#39;qOvershoot&#39;. In this case, for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4089</td>
                                    <td class="row-source"><pre>// every &#39;qEnd &lt; h &lt; q[indexCurve + 2]&#39;, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4090</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4091</td>
                                    <td class="row-source"><pre>//  &#39;w(h) := qOrigin - h&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4092</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4093</td>
                                    <td class="row-source"><pre>uint16 constant _direction_ = 644;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4094</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4095</td>
                                    <td class="row-source"><pre>// The index of &#39;qEnd&#39; among the members of the &#39;curve&#39;, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4096</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4097</td>
                                    <td class="row-source"><pre>//  &#39;qEnd == q[indexCurve]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4098</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4099</td>
                                    <td class="row-source"><pre>// While searching for &#39;qTarget&#39; and &#39;qOvershoot&#39;, the value of &#39;indexCurve&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4100</td>
                                    <td class="row-source"><pre>// starts from &#39;curveLength - twoIndex&#39; and is decremented by &#39;oneIndex&#39; with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4101</td>
                                    <td class="row-source"><pre>// each run of the function &#39;movePhase()&#39; in &#39;Interval.sol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4102</td>
                                    <td class="row-source"><pre>uint16 constant _indexCurve_ = 645;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4103</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4104</td>
                                    <td class="row-source"><pre>// The index of &#39;qTotal1&#39; and &#39;cTotal1&#39; among the breakpoints of the &#39;kernel&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4105</td>
                                    <td class="row-source"><pre>// i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4106</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4107</td>
                                    <td class="row-source"><pre>//  &#39;cTotal0 := c[indexKernelTotal - 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4108</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4109</td>
                                    <td class="row-source"><pre>//  &#39;qTotal0 := direction ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4110</td>
                                    <td class="row-source"><pre>//              qOrigin - b[indexKernelTotal - 1] : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4111</td>
                                    <td class="row-source"><pre>//              qOrigin + b[indexKernelTotal - 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4112</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4113</td>
                                    <td class="row-source"><pre>//  &#39;cTotal1 == c[indexKernelTotal]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4114</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4115</td>
                                    <td class="row-source"><pre>//  &#39;qTotal1 == direction ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4116</td>
                                    <td class="row-source"><pre>//              qOrigin - b[indexKernelTotal] : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4117</td>
                                    <td class="row-source"><pre>//              qOrigin + b[indexKernelTotal]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4118</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4119</td>
                                    <td class="row-source"><pre>// While searching for &#39;qTarget&#39; and &#39;qOvershoot&#39;, the value of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4120</td>
                                    <td class="row-source"><pre>// &#39;indexKernelTotal&#39; starts from &#39;oneIndex&#39; and is incremented by &#39;oneIndex&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4121</td>
                                    <td class="row-source"><pre>// with each transition to a new piece of kernel as we explore &#39;k(w(h))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4122</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4123</td>
                                    <td class="row-source"><pre>// If &#39;getDirection() == false&#39;, then we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4124</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4125</td>
                                    <td class="row-source"><pre>//  &#39;k(w(h)) == k(h - qOrigin) == k_indexKernelTotal(h - qOrigin) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4126</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4127</td>
                                    <td class="row-source"><pre>//                         cTotal1 - cTotal0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4128</td>
                                    <td class="row-source"><pre>//              cTotal0 + ------------------- * (h - qTotal0)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4129</td>
                                    <td class="row-source"><pre>//                         qTotal1 - qTotal0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4130</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4131</td>
                                    <td class="row-source"><pre>// for every &#39;qBegin &lt; h &lt; qTarget&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4132</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4133</td>
                                    <td class="row-source"><pre>// If &#39;getDirection() == true&#39;, then we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4134</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4135</td>
                                    <td class="row-source"><pre>//  &#39;k(w(h)) == k(qOrigin - h) == k_indexKernelTotal(qOrigin - h) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4136</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4137</td>
                                    <td class="row-source"><pre>//                         cTotal1 - cTotal0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4138</td>
                                    <td class="row-source"><pre>//              cTotal0 + ------------------- * (qTotal0 - h)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4139</td>
                                    <td class="row-source"><pre>//                         qTotal0 - qTotal1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4140</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4141</td>
                                    <td class="row-source"><pre>// for every &#39;qTarget &lt; h &lt; qBegin&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4142</td>
                                    <td class="row-source"><pre>uint16 constant _indexKernelTotal_ = 647;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4143</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4144</td>
                                    <td class="row-source"><pre>// The index of &#39;qForward1&#39; and &#39;cForward1&#39; among the breakpoints of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4145</td>
                                    <td class="row-source"><pre>// &#39;kernel&#39;, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4146</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4147</td>
                                    <td class="row-source"><pre>//  &#39;cForward0 := c[indexKernelForward - 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4148</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4149</td>
                                    <td class="row-source"><pre>//  &#39;qForward0 := getZeroForOne() ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4150</td>
                                    <td class="row-source"><pre>//                qTarget - b[indexKernelForward - 1] : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4151</td>
                                    <td class="row-source"><pre>//                qTarget + b[indexKernelForward - 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4152</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4153</td>
                                    <td class="row-source"><pre>//  &#39;cForward1 := c[indexKernelForward]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4154</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4155</td>
                                    <td class="row-source"><pre>//  &#39;qForward1 := getZeroForOne() ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4156</td>
                                    <td class="row-source"><pre>//                qTarget - b[indexKernelForward] : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4157</td>
                                    <td class="row-source"><pre>//                qTarget + b[indexKernelForward]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4158</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4159</td>
                                    <td class="row-source"><pre>// While searching for &#39;qOvershoot&#39;, the value of &#39;indexKernelForward&#39; starts</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4160</td>
                                    <td class="row-source"><pre>// from &#39;oneIndex&#39; and is incremented by &#39;oneIndex&#39; with each transition to a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4161</td>
                                    <td class="row-source"><pre>// new piece of kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4162</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4163</td>
                                    <td class="row-source"><pre>// If &#39;getZeroForOne() == false&#39;, then we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4164</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4165</td>
                                    <td class="row-source"><pre>//  &#39;k(h - qTarget) == k_indexKernelForward(h - qTarget) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4166</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4167</td>
                                    <td class="row-source"><pre>//                                  cForward1 - cForward0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4168</td>
                                    <td class="row-source"><pre>//                     cForward0 + ----------------------- * (h - qForward0)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4169</td>
                                    <td class="row-source"><pre>//                                  qForward1 - qForward0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4170</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4171</td>
                                    <td class="row-source"><pre>// for every &#39;qBegin &lt; h &lt; qOvershoot&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4172</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4173</td>
                                    <td class="row-source"><pre>// If &#39;getZeroForOne() == true&#39;, then we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4174</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4175</td>
                                    <td class="row-source"><pre>//  &#39;k(qTarget - h) == k_indexKernelForward(qTarget - h) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4176</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4177</td>
                                    <td class="row-source"><pre>//                                  cForward1 - cForward0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4178</td>
                                    <td class="row-source"><pre>//                     cForward0 + ----------------------- * (qForward0 - h)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4179</td>
                                    <td class="row-source"><pre>//                                  qForward0 - qForward1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4180</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4181</td>
                                    <td class="row-source"><pre>// for every &#39;qOvershoot &lt; h &lt; qBegin&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4182</td>
                                    <td class="row-source"><pre>uint16 constant _indexKernelForward_ = 649;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4183</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4184</td>
                                    <td class="row-source"><pre>// Let &#39;pLower&#39; and &#39;pUpper&#39; be the minimum and maximum price in the active</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4185</td>
                                    <td class="row-source"><pre>// liquidity interval and define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4186</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4187</td>
                                    <td class="row-source"><pre>//  &#39;qLower := log(pLower / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4188</td>
                                    <td class="row-source"><pre>//  &#39;qUpper := log(pUpper / pOffset)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4189</td>
                                    <td class="row-source"><pre>//  &#39;qLimitWithinInterval := min(max(qLower, qLimit), qUpper)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4190</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4191</td>
                                    <td class="row-source"><pre>// The value set as &#39;logPriceLimitOffsetted&#39; may be outside of the current</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4192</td>
                                    <td class="row-source"><pre>// active liquidity interval. In such cases, we first need to perform a swap</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4193</td>
                                    <td class="row-source"><pre>// towards the current interval boundary and then we transition to a new</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4194</td>
                                    <td class="row-source"><pre>// interval. In order to perform the former step, &#39;qLimitWithinInterval&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4195</td>
                                    <td class="row-source"><pre>// calculated and its offset binary &#39;X59&#39; representation, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4196</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4197</td>
                                    <td class="row-source"><pre>//  &#39;_origin_.log() := (2 ** 59) * (16 + qOrigin)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4198</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4199</td>
                                    <td class="row-source"><pre>// is stored in the memory space which pointed to by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4200</td>
                                    <td class="row-source"><pre>// &#39;_logPriceLimitOffsettedWithinInterval_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4201</td>
                                    <td class="row-source"><pre>uint16 constant _logPriceLimitOffsettedWithinInterval_ = 651;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4202</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4203</td>
                                    <td class="row-source"><pre>// Let &#39;pCurrent&#39; represent the current price within the active liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4204</td>
                                    <td class="row-source"><pre>// interval (prior to the movement to &#39;qTarget&#39; or &#39;qNext&#39;). This value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4205</td>
                                    <td class="row-source"><pre>// corresponds to the last member of the curve. Define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4206</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4207</td>
                                    <td class="row-source"><pre>//  &#39;qCurrent := log(pCurrent / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4208</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4209</td>
                                    <td class="row-source"><pre>// The 62 bytes memory space which is pointed to by &#39;_current_&#39; hosts the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4210</td>
                                    <td class="row-source"><pre>// following values:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4211</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4212</td>
                                    <td class="row-source"><pre>//  &#39;_current_.log() := (2 ** 59) * (16 + qCurrent)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4213</td>
                                    <td class="row-source"><pre>//  &#39;_current_.sqrt(false) := (2 ** 216) * exp(- 8 - qCurrent / 2)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4214</td>
                                    <td class="row-source"><pre>//  &#39;_current_.sqrt(true) := (2 ** 216) * exp(- 8 + qCurrent / 2)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4215</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4216</td>
                                    <td class="row-source"><pre>// which can be accessed via &#39;PriceLibrary&#39;. The logarithmic price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4217</td>
                                    <td class="row-source"><pre>// &#39;_current_.log()&#39; occupies 64 bits, whereas &#39;_current_.sqrt(false)&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4218</td>
                                    <td class="row-source"><pre>// &#39;_current_.sqrt(true)&#39; occupy 216 bits each.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4219</td>
                                    <td class="row-source"><pre>uint16 constant _current_ = 659;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4220</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4221</td>
                                    <td class="row-source"><pre>// Let &#39;indexCurve&#39; represent the index of the current phase under exploration.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4222</td>
                                    <td class="row-source"><pre>// Define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4223</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4224</td>
                                    <td class="row-source"><pre>//  &#39;qOrigin := q[indexCurve + 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4225</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4226</td>
                                    <td class="row-source"><pre>//  &#39;qEnd := q[indexCurve]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4227</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4228</td>
                                    <td class="row-source"><pre>// If &#39;getDirection() == false&#39;, for every &#39;q[indexCurve + 2] &lt; h &lt; qEnd&#39;, we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4229</td>
                                    <td class="row-source"><pre>// have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4230</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4231</td>
                                    <td class="row-source"><pre>//  &#39;w(h) := h - qOrigin&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4232</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4233</td>
                                    <td class="row-source"><pre>// If &#39;getDirection() == true&#39;, for every &#39;qEnd &lt; h &lt; q[indexCurve + 2]&#39;, we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4234</td>
                                    <td class="row-source"><pre>// have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4235</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4236</td>
                                    <td class="row-source"><pre>//  &#39;w(h) := qOrigin - h&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4237</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4238</td>
                                    <td class="row-source"><pre>// The 62 bytes memory space which is pointed to by &#39;_origin_&#39; hosts the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4239</td>
                                    <td class="row-source"><pre>// following values:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4240</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4241</td>
                                    <td class="row-source"><pre>//  &#39;_origin_.log() := (2 ** 59) * (16 + qOrigin)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4242</td>
                                    <td class="row-source"><pre>//  &#39;_origin_.sqrt(false) := (2 ** 216) * exp(- 8 - qOrigin / 2)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4243</td>
                                    <td class="row-source"><pre>//  &#39;_origin_.sqrt(true) := (2 ** 216) * exp(- 8 + qOrigin / 2)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4244</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4245</td>
                                    <td class="row-source"><pre>// which can be accessed via &#39;PriceLibrary&#39;. The logarithmic price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4246</td>
                                    <td class="row-source"><pre>// &#39;_origin_.log()&#39; occupies 64 bits, whereas &#39;_origin_.sqrt(false)&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4247</td>
                                    <td class="row-source"><pre>// &#39;_origin_.sqrt(true)&#39; occupy 216 bits each.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4248</td>
                                    <td class="row-source"><pre>uint16 constant _origin_ = 721;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4249</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4250</td>
                                    <td class="row-source"><pre>// At every step of searching for &#39;qTarget&#39;, the range</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4251</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4252</td>
                                    <td class="row-source"><pre>//  &#39;min(qBegin, qTarget) &lt; h &lt; max(qBegin, qTarget)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4253</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4254</td>
                                    <td class="row-source"><pre>// represents a piece of the liquidity distribution function &#39;k(w(.))&#39; in which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4255</td>
                                    <td class="row-source"><pre>// &#39;k(w(.))&#39; is linear. More precisely, if &#39;getDirection() == false&#39;, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4256</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4257</td>
                                    <td class="row-source"><pre>//  &#39;k(w(h)) == k(h - qOrigin) == k_indexKernelTotal(h - qOrigin) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4258</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4259</td>
                                    <td class="row-source"><pre>//                         cTotal1 - cTotal0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4260</td>
                                    <td class="row-source"><pre>//              cTotal0 + ------------------- * (h - qTotal0)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4261</td>
                                    <td class="row-source"><pre>//                         qTotal1 - qTotal0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4262</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4263</td>
                                    <td class="row-source"><pre>// for every &#39;qBegin &lt; h &lt; qTarget&#39; and if &#39;getDirection() == true&#39;, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4264</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4265</td>
                                    <td class="row-source"><pre>//  &#39;k(w(h)) == k(qOrigin - h) == k_indexKernelTotal(qOrigin - h) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4266</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4267</td>
                                    <td class="row-source"><pre>//                         cTotal1 - cTotal0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4268</td>
                                    <td class="row-source"><pre>//              cTotal0 + ------------------- * (qTotal0 - h)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4269</td>
                                    <td class="row-source"><pre>//                         qTotal0 - qTotal1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4270</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4271</td>
                                    <td class="row-source"><pre>// for every &#39;qTarget &lt; h &lt; qBegin&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4272</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4273</td>
                                    <td class="row-source"><pre>// At the stage where we search for &#39;qTarget&#39;, we have</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4274</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4275</td>
                                    <td class="row-source"><pre>//  &#39;qBegin := direction ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4276</td>
                                    <td class="row-source"><pre>//             min(q[indexCurve + 2], qTotal0) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4277</td>
                                    <td class="row-source"><pre>//             max(q[indexCurve + 2], qTotal0)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4278</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4279</td>
                                    <td class="row-source"><pre>// At every step of searching for &#39;qOvershoot&#39;, the following inequality</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4280</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4281</td>
                                    <td class="row-source"><pre>//  &#39;min(qBegin, qOvershoot) &lt; h &lt; max(qBegin, qOvershoot)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4282</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4283</td>
                                    <td class="row-source"><pre>// represents a range in which both &#39;k(w(.))&#39; and &#39;k(|. - qTarget|)&#39; are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4284</td>
                                    <td class="row-source"><pre>// linear. More precisely, if &#39;getZeroForOne() == false&#39;, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4285</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4286</td>
                                    <td class="row-source"><pre>//  &#39;k(h - qTarget) == k_indexKernelForward(h - qTarget) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4287</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4288</td>
                                    <td class="row-source"><pre>//                                  cForward1 - cForward0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4289</td>
                                    <td class="row-source"><pre>//                     cForward0 + ----------------------- * (h - qForward0)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4290</td>
                                    <td class="row-source"><pre>//                                  qForward1 - qForward0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4291</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4292</td>
                                    <td class="row-source"><pre>// for every &#39;qBegin &lt; h &lt; qOvershoot&#39; and if &#39;getZeroForOne() == true&#39;, we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4293</td>
                                    <td class="row-source"><pre>// have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4294</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4295</td>
                                    <td class="row-source"><pre>//  &#39;k(qTarget - h) == k_indexKernelForward(qTarget - h) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4296</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4297</td>
                                    <td class="row-source"><pre>//                                  cForward1 - cForward0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4298</td>
                                    <td class="row-source"><pre>//                     cForward0 + ----------------------- * (qForward0 - h)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4299</td>
                                    <td class="row-source"><pre>//                                  qForward0 - qForward1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4300</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4301</td>
                                    <td class="row-source"><pre>// for every &#39;qOvershoot &lt; h &lt; qBegin&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4302</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4303</td>
                                    <td class="row-source"><pre>// At the stage where we search for &#39;qOvershoot&#39;, we have</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4304</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4305</td>
                                    <td class="row-source"><pre>//  &#39;qBegin := (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4306</td>
                                    <td class="row-source"><pre>//               direction == getZeroForOne()</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4307</td>
                                    <td class="row-source"><pre>//             ) ? (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4308</td>
                                    <td class="row-source"><pre>//               direction ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4309</td>
                                    <td class="row-source"><pre>//               max(max(q[indexCurve + 2], qTotal0), qForward0) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4310</td>
                                    <td class="row-source"><pre>//               min(min(q[indexCurve + 2], qTotal0), qForward0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4311</td>
                                    <td class="row-source"><pre>//             ) : (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4312</td>
                                    <td class="row-source"><pre>//               direction ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4313</td>
                                    <td class="row-source"><pre>//               max(q[indexCurve + 2], qTotal0) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4314</td>
                                    <td class="row-source"><pre>//               min(q[indexCurve + 2], qTotal0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4315</td>
                                    <td class="row-source"><pre>//             )&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4316</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4317</td>
                                    <td class="row-source"><pre>// The 62 bytes memory space which is pointed to by &#39;_begin_&#39; hosts the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4318</td>
                                    <td class="row-source"><pre>// following values:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4319</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4320</td>
                                    <td class="row-source"><pre>//  &#39;_begin_.log() := (2 ** 59) * (16 + qBegin)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4321</td>
                                    <td class="row-source"><pre>//  &#39;_begin_.sqrt(false) := (2 ** 216) * exp(- 8 - qBegin / 2)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4322</td>
                                    <td class="row-source"><pre>//  &#39;_begin_.sqrt(true) := (2 ** 216) * exp(- 8 + qBegin / 2)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4323</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4324</td>
                                    <td class="row-source"><pre>// which can be accessed via &#39;PriceLibrary&#39;. The logarithmic price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4325</td>
                                    <td class="row-source"><pre>// &#39;_begin_.log()&#39; occupies 64 bits, whereas &#39;_begin_.sqrt(false)&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4326</td>
                                    <td class="row-source"><pre>// &#39;_begin_.sqrt(true)&#39; occupy 216 bits each.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4327</td>
                                    <td class="row-source"><pre>uint16 constant _begin_ = 783;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4328</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4329</td>
                                    <td class="row-source"><pre>// Let &#39;indexCurve&#39; represent the index of the current phase under exploration.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4330</td>
                                    <td class="row-source"><pre>// Define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4331</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4332</td>
                                    <td class="row-source"><pre>//  &#39;qOrigin := q[indexCurve + 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4333</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4334</td>
                                    <td class="row-source"><pre>//  &#39;qEnd := q[indexCurve]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4335</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4336</td>
                                    <td class="row-source"><pre>// If &#39;getDirection() == false&#39;, for every &#39;q[indexCurve + 2] &lt; h &lt; qEnd&#39;, we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4337</td>
                                    <td class="row-source"><pre>// have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4338</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4339</td>
                                    <td class="row-source"><pre>//  &#39;w(h) := h - qOrigin&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4340</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4341</td>
                                    <td class="row-source"><pre>// If &#39;getDirection() == true&#39;, for every &#39;qEnd &lt; h &lt; q[indexCurve + 2]&#39;, we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4342</td>
                                    <td class="row-source"><pre>// have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4343</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4344</td>
                                    <td class="row-source"><pre>//  &#39;w(h) := qOrigin - h&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4345</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4346</td>
                                    <td class="row-source"><pre>// The 62 bytes memory space which is pointed to by &#39;_end_&#39; hosts the following</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4347</td>
                                    <td class="row-source"><pre>// values:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4348</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4349</td>
                                    <td class="row-source"><pre>//  &#39;_end_.log() := (2 ** 59) * (16 + qEnd)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4350</td>
                                    <td class="row-source"><pre>//  &#39;_end_.sqrt(false) := (2 ** 216) * exp(- 8 - qEnd / 2)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4351</td>
                                    <td class="row-source"><pre>//  &#39;_end_.sqrt(true) := (2 ** 216) * exp(- 8 + qEnd / 2)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4352</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4353</td>
                                    <td class="row-source"><pre>// which can be accessed via &#39;PriceLibrary&#39;. The logarithmic price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4354</td>
                                    <td class="row-source"><pre>// &#39;_end_.log()&#39; occupies 64 bits, whereas &#39;_end_.sqrt(false)&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4355</td>
                                    <td class="row-source"><pre>// &#39;_end_.sqrt(true)&#39; occupy 216 bits each.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4356</td>
                                    <td class="row-source"><pre>uint16 constant _end_ = 845;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4357</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4358</td>
                                    <td class="row-source"><pre>// Every visit to a liquidity interval as part of a swap involves the movement</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4359</td>
                                    <td class="row-source"><pre>// of price from &#39;pCurrent&#39; to &#39;pTarget&#39;. Define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4360</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4361</td>
                                    <td class="row-source"><pre>//  &#39;qCurrent := log(pCurrent / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4362</td>
                                    <td class="row-source"><pre>//  &#39;qTarget := log(pTarget / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4363</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4364</td>
                                    <td class="row-source"><pre>// and assume that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4365</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4366</td>
                                    <td class="row-source"><pre>//  &#39;qLower &lt;= qCurrent &lt;= qUpper&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4367</td>
                                    <td class="row-source"><pre>//  &#39;qLower &lt;= qTarget &lt;= qUpper&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4368</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4369</td>
                                    <td class="row-source"><pre>// where &#39;[qLower, qUpper]&#39; represents the current active liquidity interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4370</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4371</td>
                                    <td class="row-source"><pre>// At first &#39;qTarget&#39; is an unknown value which will be determined based on one</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4372</td>
                                    <td class="row-source"><pre>// of the followings:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4373</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4374</td>
                                    <td class="row-source"><pre>//  - &#39;qLimitWithinInterval&#39;, which is calculated based on the input</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4375</td>
                                    <td class="row-source"><pre>//    &#39;logPriceLimit&#39; as well as &#39;qLower&#39; and &#39;qUpper&#39;. It is stored in the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4376</td>
                                    <td class="row-source"><pre>//    memory space which is pointed to by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4377</td>
                                    <td class="row-source"><pre>//    &#39;_logPriceLimitOffsettedWithinInterval_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4378</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4379</td>
                                    <td class="row-source"><pre>//  - &#39;integralLimit&#39;, which is calculated based on the input &#39;amountSpecified&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4380</td>
                                    <td class="row-source"><pre>//    and is stored in the memory space which is pointed to by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4381</td>
                                    <td class="row-source"><pre>//    &#39;_integralLimit_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4382</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4383</td>
                                    <td class="row-source"><pre>// After determination of &#39;qTarget&#39;, the amounts of &#39;tag0&#39; and &#39;tag1&#39; to be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4384</td>
                                    <td class="row-source"><pre>// exchanged as a result of the movement within &#39;[qLower, qUpper]&#39; are equal</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4385</td>
                                    <td class="row-source"><pre>// to:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4386</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4387</td>
                                    <td class="row-source"><pre>//                                                         growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4388</td>
                                    <td class="row-source"><pre>//  &#39;amount0Partial := sqrtInverseOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4389</td>
                                    <td class="row-source"><pre>//                                                        2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4390</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4391</td>
                                    <td class="row-source"><pre>//                      - 8     / max(qCurrent, qTarget)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4392</td>
                                    <td class="row-source"><pre>//         1          e        |                         - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4393</td>
                                    <td class="row-source"><pre>//   ------------- * ------- * |                       e         k(w(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4394</td>
                                    <td class="row-source"><pre>//    outgoingMax       2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4395</td>
                                    <td class="row-source"><pre>//                            / min(qCurrent, qTarget)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4396</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4397</td>
                                    <td class="row-source"><pre>// and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4398</td>
                                    <td class="row-source"><pre>//                                                  growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4399</td>
                                    <td class="row-source"><pre>//  &#39;amount1Partial := sqrtOffset * sharesTotal * ---------- *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4400</td>
                                    <td class="row-source"><pre>//                                                 2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4401</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4402</td>
                                    <td class="row-source"><pre>//                      - 8     / max(qCurrent, qTarget)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4403</td>
                                    <td class="row-source"><pre>//         1          e        |                         + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4404</td>
                                    <td class="row-source"><pre>//   ------------- * ------- * |                       e         k(w(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4405</td>
                                    <td class="row-source"><pre>//    outgoingMax       2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4406</td>
                                    <td class="row-source"><pre>//                            / min(qCurrent, qTarget)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4407</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4408</td>
                                    <td class="row-source"><pre>// where the parameters &#39;sqrtInverseOffset&#39;, &#39;sqrtOffset&#39;, &#39;sharesTotal&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4409</td>
                                    <td class="row-source"><pre>// &#39;growth&#39;, and &#39;outgoingMax&#39; remain fixed throughout the movement from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4410</td>
                                    <td class="row-source"><pre>// &#39;qCurrent&#39; to &#39;qTarget&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4411</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4412</td>
                                    <td class="row-source"><pre>// In search for &#39;qTarget&#39;, we first need to enumerate the pieces of &#39;k(w(.))&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4413</td>
                                    <td class="row-source"><pre>// one by one, until we discover the piece to which &#39;qTarget&#39; belongs. While </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4414</td>
                                    <td class="row-source"><pre>// enumerating the pieces of &#39;k(w(.))&#39;, one end of the current piece under</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4415</td>
                                    <td class="row-source"><pre>// exploration is &#39;qBegin&#39; and the other end is temporarily referred to as:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4416</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4417</td>
                                    <td class="row-source"><pre>//  &#39;qTarget := (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4418</td>
                                    <td class="row-source"><pre>//                direction == getZeroForOne()</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4419</td>
                                    <td class="row-source"><pre>//              ) ? (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4420</td>
                                    <td class="row-source"><pre>//                direction ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4421</td>
                                    <td class="row-source"><pre>//                max(max(qEnd, qTotal1), qLimitWithinInterval) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4422</td>
                                    <td class="row-source"><pre>//                min(min(qEnd, qTotal1), qLimitWithinInterval)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4423</td>
                                    <td class="row-source"><pre>//              ) : (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4424</td>
                                    <td class="row-source"><pre>//                direction ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4425</td>
                                    <td class="row-source"><pre>//                max(qEnd, qTotal1) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4426</td>
                                    <td class="row-source"><pre>//                min(qEnd, qTotal1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4427</td>
                                    <td class="row-source"><pre>//              )&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4428</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4429</td>
                                    <td class="row-source"><pre>// After the correct piece is determined, we perform a numerical search via</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4430</td>
                                    <td class="row-source"><pre>// either of the methods &#39;searchOutgoingTarget&#39; or &#39;searchIncomingTarget&#39; in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4431</td>
                                    <td class="row-source"><pre>// &#39;Interval.sol&#39; in order to pinpoint the precise value of &#39;qTarget&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4432</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4433</td>
                                    <td class="row-source"><pre>// At every step of searching for the piece to which &#39;qTarget&#39; belongs, if </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4434</td>
                                    <td class="row-source"><pre>// &#39;getDirection() == false&#39;, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4435</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4436</td>
                                    <td class="row-source"><pre>//  &#39;k(w(h)) == k(h - qOrigin) == k_indexKernelTotal(h - qOrigin) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4437</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4438</td>
                                    <td class="row-source"><pre>//                         cTotal1 - cTotal0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4439</td>
                                    <td class="row-source"><pre>//              cTotal0 + ------------------- * (h - qTotal0)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4440</td>
                                    <td class="row-source"><pre>//                         qTotal1 - qTotal0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4441</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4442</td>
                                    <td class="row-source"><pre>// for every &#39;qBegin &lt; h &lt; qTarget&#39; and if &#39;getDirection() == true&#39;, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4443</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4444</td>
                                    <td class="row-source"><pre>//  &#39;k(w(h)) == k(qOrigin - h) == k_indexKernelTotal(qOrigin - h) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4445</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4446</td>
                                    <td class="row-source"><pre>//                         cTotal1 - cTotal0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4447</td>
                                    <td class="row-source"><pre>//              cTotal0 + ------------------- * (qTotal0 - h)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4448</td>
                                    <td class="row-source"><pre>//                         qTotal0 - qTotal1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4449</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4450</td>
                                    <td class="row-source"><pre>// for every &#39;qTarget &lt; h &lt; qBegin&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4451</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4452</td>
                                    <td class="row-source"><pre>// The 62 bytes memory space which is pointed to by &#39;_target_&#39; hosts the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4453</td>
                                    <td class="row-source"><pre>// following values:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4454</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4455</td>
                                    <td class="row-source"><pre>//  &#39;_target_.log() := (2 ** 59) * (16 + qTarget)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4456</td>
                                    <td class="row-source"><pre>//  &#39;_target_.sqrt(false) := (2 ** 216) * exp(- 8 - qTarget / 2)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4457</td>
                                    <td class="row-source"><pre>//  &#39;_target_.sqrt(true) := (2 ** 216) * exp(- 8 + qTarget / 2)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4458</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4459</td>
                                    <td class="row-source"><pre>// which can be accessed via &#39;PriceLibrary&#39;. The logarithmic price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4460</td>
                                    <td class="row-source"><pre>// &#39;_target_.log()&#39; occupies 64 bits, whereas &#39;_target_.sqrt(false)&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4461</td>
                                    <td class="row-source"><pre>// &#39;_target_.sqrt(true)&#39; occupy 216 bits each.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4462</td>
                                    <td class="row-source"><pre>uint16 constant _target_ = 907;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4463</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4464</td>
                                    <td class="row-source"><pre>// Assume that we are in the process of doing a swap within an interval for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4465</td>
                                    <td class="row-source"><pre>// which &#39;qTarget&#39; as well as both &#39;amount0Partial&#39; and &#39;amount1Partial&#39; are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4466</td>
                                    <td class="row-source"><pre>// determined. Let &#39;[qLower, pUpper]&#39; represent the active liquidity interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4467</td>
                                    <td class="row-source"><pre>// and define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4468</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4469</td>
                                    <td class="row-source"><pre>// Now we need to update the curve in preparation for the next swap. Before</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4470</td>
                                    <td class="row-source"><pre>// doing so, define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4471</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4472</td>
                                    <td class="row-source"><pre>//                                - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4473</td>
                                    <td class="row-source"><pre>//    integral0Incremented      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4474</td>
                                    <td class="row-source"><pre>//  &#39;---------------------- := ------- * |  e         k(w(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4475</td>
                                    <td class="row-source"><pre>//          2 ** 216              2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4476</td>
                                    <td class="row-source"><pre>//                                      / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4477</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4478</td>
                                    <td class="row-source"><pre>//                                - 8     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4479</td>
                                    <td class="row-source"><pre>//    integral1Incremented      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4480</td>
                                    <td class="row-source"><pre>//  &#39;---------------------- := ------- * |  e         k(w(h)) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4481</td>
                                    <td class="row-source"><pre>//          2 ** 216              2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4482</td>
                                    <td class="row-source"><pre>//                                      / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4483</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4484</td>
                                    <td class="row-source"><pre>// Then we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4485</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4486</td>
                                    <td class="row-source"><pre>//                                                                   growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4487</td>
                                    <td class="row-source"><pre>//  &#39;totalReserveOfTag0Before := sqrtInverseOffset * sharesTotal * ---------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4488</td>
                                    <td class="row-source"><pre>//                                                                  2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4489</td>
                                    <td class="row-source"><pre>//    integral0Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4490</td>
                                    <td class="row-source"><pre>//   ----------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4491</td>
                                    <td class="row-source"><pre>//        outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4492</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4493</td>
                                    <td class="row-source"><pre>//                                                            growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4494</td>
                                    <td class="row-source"><pre>//  &#39;totalReserveOfTag1Before := sqrtOffset * sharesTotal * ---------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4495</td>
                                    <td class="row-source"><pre>//                                                           2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4496</td>
                                    <td class="row-source"><pre>//    integral1Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4497</td>
                                    <td class="row-source"><pre>//   ----------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4498</td>
                                    <td class="row-source"><pre>//        outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4499</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4500</td>
                                    <td class="row-source"><pre>// Now, assume that the curve sequence is updated and the function &#39;w&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4501</td>
                                    <td class="row-source"><pre>// transformed into a new function &#39;wAmended&#39; which is constructed based on the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4502</td>
                                    <td class="row-source"><pre>// updated curve sequence. Then, we can similarly define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4503</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4504</td>
                                    <td class="row-source"><pre>//                            - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4505</td>
                                    <td class="row-source"><pre>//    integral0Amended      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4506</td>
                                    <td class="row-source"><pre>//  &#39;------------------ := ------- * |  e         k(wAmended(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4507</td>
                                    <td class="row-source"><pre>//        2 ** 216            2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4508</td>
                                    <td class="row-source"><pre>//                                  / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4509</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4510</td>
                                    <td class="row-source"><pre>//                            - 8     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4511</td>
                                    <td class="row-source"><pre>//    integral1Amended      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4512</td>
                                    <td class="row-source"><pre>//  &#39;------------------ := ------- * |  e         k(wAmended(h)) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4513</td>
                                    <td class="row-source"><pre>//        2 ** 216            2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4514</td>
                                    <td class="row-source"><pre>//                                  / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4515</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4516</td>
                                    <td class="row-source"><pre>// Then we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4517</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4518</td>
                                    <td class="row-source"><pre>//  &#39;totalReserveOfTag0After := sqrtInverseOffset * sharesTotal *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4519</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4520</td>
                                    <td class="row-source"><pre>//    growthAmended     integral0Amended</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4521</td>
                                    <td class="row-source"><pre>//   --------------- * ------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4522</td>
                                    <td class="row-source"><pre>//      2 ** 111          outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4523</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4524</td>
                                    <td class="row-source"><pre>//  &#39;totalReserveOfTag1After := sqrtOffset * sharesTotal * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4525</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4526</td>
                                    <td class="row-source"><pre>//    growthAmended     integral1Amended</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4527</td>
                                    <td class="row-source"><pre>//   --------------- * ------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4528</td>
                                    <td class="row-source"><pre>//      2 ** 111          outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4529</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4530</td>
                                    <td class="row-source"><pre>// Now, we need to make sure that the reserve amounts before and after the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4531</td>
                                    <td class="row-source"><pre>// curve update are the same, which means that:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4532</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4533</td>
                                    <td class="row-source"><pre>//  &#39;totalReserveOfTag0Before == totalReserveOfTag0After&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4534</td>
                                    <td class="row-source"><pre>//  &#39;totalReserveOfTag1Before == totalReserveOfTag1After&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4535</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4536</td>
                                    <td class="row-source"><pre>// This leads to the following two equations:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4537</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4538</td>
                                    <td class="row-source"><pre>//       growth            integral0Amended</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4539</td>
                                    <td class="row-source"><pre>//  &#39;--------------- == ----------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4540</td>
                                    <td class="row-source"><pre>//    growthAmended      integral0Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4541</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4542</td>
                                    <td class="row-source"><pre>//       growth            integral1Amended</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4543</td>
                                    <td class="row-source"><pre>//  &#39;--------------- == ----------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4544</td>
                                    <td class="row-source"><pre>//    growthAmended      integral1Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4545</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4546</td>
                                    <td class="row-source"><pre>// Hence, we must have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4547</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4548</td>
                                    <td class="row-source"><pre>//      integral0Amended          integral1Amended</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4549</td>
                                    <td class="row-source"><pre>//  &#39;---------------------- == ----------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4550</td>
                                    <td class="row-source"><pre>//    integral0Incremented      integral1Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4551</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4552</td>
                                    <td class="row-source"><pre>// which means that:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4553</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4554</td>
                                    <td class="row-source"><pre>//      / qUpper                          / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4555</td>
                                    <td class="row-source"><pre>//     |   - h/2                         |   + h/2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4556</td>
                                    <td class="row-source"><pre>//     |  e      k(wAmended(h)) dh       |  e      k(wAmended(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4557</td>
                                    <td class="row-source"><pre>//     |                                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4558</td>
                                    <td class="row-source"><pre>//    / qTarget                         / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4559</td>
                                    <td class="row-source"><pre>//  &#39;------------------------------ == ------------------------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4560</td>
                                    <td class="row-source"><pre>//         / qUpper                          / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4561</td>
                                    <td class="row-source"><pre>//        |    - h/2                        |    + h/2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4562</td>
                                    <td class="row-source"><pre>//        |  e       k(w(h)) dh             |  e       k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4563</td>
                                    <td class="row-source"><pre>//        |                                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4564</td>
                                    <td class="row-source"><pre>//       / qTarget                         / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4565</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4566</td>
                                    <td class="row-source"><pre>// As a result, we should update the curve in such a way that the above</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4567</td>
                                    <td class="row-source"><pre>// equality is satisfied.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4568</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4569</td>
                                    <td class="row-source"><pre>// To that end, once &#39;qOvershoot&#39; and both &#39;amount0Partial&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4570</td>
                                    <td class="row-source"><pre>// &#39;amount1Partial&#39; are determined, the curve sequence is amended with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4571</td>
                                    <td class="row-source"><pre>// &#39;qOvershoot&#39; and then &#39;qTarget&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4572</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4573</td>
                                    <td class="row-source"><pre>// If &#39;getZeroForOne() == false&#39; then &#39;qTarget &lt;= qOvershoot&#39; and if</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4574</td>
                                    <td class="row-source"><pre>// &#39;getZeroForOne() == true&#39; then &#39;qOvershoot &lt;= qTarget&#39;. Assume that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4575</td>
                                    <td class="row-source"><pre>// &#39;wAmended&#39; is constructed from the amended curve sequence. &#39;qOvershoot&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4576</td>
                                    <td class="row-source"><pre>// calculated in such a way that the above equality holds for the amended</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4577</td>
                                    <td class="row-source"><pre>// curve. The process of searching for &#39;qOvershoot&#39; is further explained at</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4578</td>
                                    <td class="row-source"><pre>// the beginning of this section.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4579</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4580</td>
                                    <td class="row-source"><pre>// The 62 bytes memory space which is pointed to by &#39;_overshoot_&#39; hosts the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4581</td>
                                    <td class="row-source"><pre>// following values:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4582</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4583</td>
                                    <td class="row-source"><pre>//  &#39;_overshoot_.log() := (2 ** 59) * (16 + qOvershoot)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4584</td>
                                    <td class="row-source"><pre>//  &#39;_overshoot_.sqrt(false) := (2 ** 216) * exp(- 8 - qOvershoot / 2)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4585</td>
                                    <td class="row-source"><pre>//  &#39;_overshoot_.sqrt(true) := (2 ** 216) * exp(- 8 + qOvershoot / 2)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4586</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4587</td>
                                    <td class="row-source"><pre>// which can be accessed via &#39;PriceLibrary&#39;. The logarithmic price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4588</td>
                                    <td class="row-source"><pre>// &#39;_overshoot_.log()&#39; occupies 64 bits, whereas &#39;_overshoot_.sqrt(false)&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4589</td>
                                    <td class="row-source"><pre>// &#39;_overshoot_.sqrt(true)&#39; occupy 216 bits each.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4590</td>
                                    <td class="row-source"><pre>uint16 constant _overshoot_ = 969;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4591</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4592</td>
                                    <td class="row-source"><pre>// At every step of searching for &#39;qTarget&#39;, the range</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4593</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4594</td>
                                    <td class="row-source"><pre>//  &#39;min(qBegin, qTarget) &lt; h &lt; max(qBegin, qTarget)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4595</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4596</td>
                                    <td class="row-source"><pre>// represents a piece of the liquidity distribution function &#39;k(w(.))&#39; in which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4597</td>
                                    <td class="row-source"><pre>// &#39;k(w(.))&#39; is linear. More precisely, if &#39;getDirection() == false&#39;, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4598</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4599</td>
                                    <td class="row-source"><pre>//  &#39;k(w(h)) == k(h - qOrigin) == k_indexKernelTotal(h - qOrigin) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4600</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4601</td>
                                    <td class="row-source"><pre>//                         cTotal1 - cTotal0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4602</td>
                                    <td class="row-source"><pre>//              cTotal0 + ------------------- * (h - qTotal0)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4603</td>
                                    <td class="row-source"><pre>//                         qTotal1 - qTotal0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4604</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4605</td>
                                    <td class="row-source"><pre>// for every &#39;qBegin &lt; h &lt; qTarget&#39; and if &#39;getDirection() == true&#39;, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4606</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4607</td>
                                    <td class="row-source"><pre>//  &#39;k(w(h)) == k(qOrigin - h) == k_indexKernelTotal(qOrigin - h) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4608</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4609</td>
                                    <td class="row-source"><pre>//                         cTotal1 - cTotal0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4610</td>
                                    <td class="row-source"><pre>//              cTotal0 + ------------------- * (qTotal0 - h)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4611</td>
                                    <td class="row-source"><pre>//                         qTotal0 - qTotal1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4612</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4613</td>
                                    <td class="row-source"><pre>// for every &#39;qTarget &lt; h &lt; qBegin&#39;, where:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4614</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4615</td>
                                    <td class="row-source"><pre>//  &#39;cTotal0 := c[indexKernelTotal - 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4616</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4617</td>
                                    <td class="row-source"><pre>//  &#39;qTotal0 := direction ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4618</td>
                                    <td class="row-source"><pre>//              qOrigin - b[indexKernelTotal - 1] : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4619</td>
                                    <td class="row-source"><pre>//              qOrigin + b[indexKernelTotal - 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4620</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4621</td>
                                    <td class="row-source"><pre>//  &#39;cTotal1 := c[indexKernelTotal]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4622</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4623</td>
                                    <td class="row-source"><pre>//  &#39;qTotal1 := direction ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4624</td>
                                    <td class="row-source"><pre>//              qOrigin - b[indexKernelTotal] : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4625</td>
                                    <td class="row-source"><pre>//              qOrigin + b[indexKernelTotal]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4626</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4627</td>
                                    <td class="row-source"><pre>// The pair &#39;(cTotal0, qTotal0)&#39; is stored in the memory space which is pointed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4628</td>
                                    <td class="row-source"><pre>// to by &#39;_total0_&#39; and similarly, the pair &#39;(cTotal1, qTotal1)&#39; is stored in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4629</td>
                                    <td class="row-source"><pre>// the memory space which is pointed to by &#39;_total1_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4630</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4631</td>
                                    <td class="row-source"><pre>// The 64 bytes memory space which is pointed to by &#39;_total0_&#39; hosts the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4632</td>
                                    <td class="row-source"><pre>// following values:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4633</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4634</td>
                                    <td class="row-source"><pre>//  &#39;_total0_.height() := (2 ** 15) * cTotal0&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4635</td>
                                    <td class="row-source"><pre>//  &#39;_total0_.log() := (2 ** 59) * (16 + qTotal0)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4636</td>
                                    <td class="row-source"><pre>//  &#39;_total0_.sqrt(false) := (2 ** 216) * exp(- 8 - qTotal0 / 2)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4637</td>
                                    <td class="row-source"><pre>//  &#39;_total0_.sqrt(true) := (2 ** 216) * exp(- 8 + qTotal0 / 2)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4638</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4639</td>
                                    <td class="row-source"><pre>// which can be accessed via &#39;PriceLibrary&#39;. The vertical coordinate</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4640</td>
                                    <td class="row-source"><pre>// &#39;_total0_.height()&#39; occupies 16 bits, the logarithmic price &#39;_total0_.log()&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4641</td>
                                    <td class="row-source"><pre>// occupies 64 bits, whereas &#39;_total0_.sqrt(false)&#39; and &#39;_total0_.sqrt(true)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4642</td>
                                    <td class="row-source"><pre>// occupy 216 bits each.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4643</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4644</td>
                                    <td class="row-source"><pre>// The 64 bytes memory space which is pointed to by &#39;_total1_&#39; hosts the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4645</td>
                                    <td class="row-source"><pre>// following values:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4646</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4647</td>
                                    <td class="row-source"><pre>//  &#39;_total1_.height() := (2 ** 15) * cTotal1&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4648</td>
                                    <td class="row-source"><pre>//  &#39;_total1_.log() := (2 ** 59) * (16 + qTotal1)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4649</td>
                                    <td class="row-source"><pre>//  &#39;_total1_.sqrt(false) := (2 ** 216) * exp(- 8 - qTotal1 / 2)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4650</td>
                                    <td class="row-source"><pre>//  &#39;_total1_.sqrt(true) := (2 ** 216) * exp(- 8 + qTotal1 / 2)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4651</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4652</td>
                                    <td class="row-source"><pre>// which can be accessed via &#39;PriceLibrary&#39;. The vertical coordinate</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4653</td>
                                    <td class="row-source"><pre>// &#39;_total1_.height()&#39; occupies 16 bits, the logarithmic price &#39;_total1_.log()&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4654</td>
                                    <td class="row-source"><pre>// occupies 64 bits, whereas &#39;_total1_.sqrt(false)&#39; and &#39;_total1_.sqrt(true)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4655</td>
                                    <td class="row-source"><pre>// occupy 216 bits each.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4656</td>
                                    <td class="row-source"><pre>uint16 constant _total0_ = 1033;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4657</td>
                                    <td class="row-source"><pre>uint16 constant _total1_ = 1097;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4658</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4659</td>
                                    <td class="row-source"><pre>// At every step of searching for &#39;qOvershoot&#39;, the range</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4660</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4661</td>
                                    <td class="row-source"><pre>//  &#39;min(qBegin, qOvershoot) &lt; h &lt; max(qBegin, qOvershoot)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4662</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4663</td>
                                    <td class="row-source"><pre>// represents a piece of &#39;k(|. - qTarget|)&#39;. If &#39;getZeroForOne() == false&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4664</td>
                                    <td class="row-source"><pre>// then we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4665</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4666</td>
                                    <td class="row-source"><pre>//  &#39;k(h - qTarget) == k_indexKernelForward(h - qTarget) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4667</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4668</td>
                                    <td class="row-source"><pre>//                                  cForward1 - cForward0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4669</td>
                                    <td class="row-source"><pre>//                     cForward0 + ----------------------- * (h - qForward0)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4670</td>
                                    <td class="row-source"><pre>//                                  qForward1 - qForward0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4671</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4672</td>
                                    <td class="row-source"><pre>// for every &#39;qBegin &lt; h &lt; qOvershoot&#39; and if &#39;getZeroForOne() == true&#39;, then</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4673</td>
                                    <td class="row-source"><pre>// we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4674</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4675</td>
                                    <td class="row-source"><pre>//  &#39;k(qTarget - h) == k_indexKernelForward(qTarget - h) :=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4676</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4677</td>
                                    <td class="row-source"><pre>//                                  cForward1 - cForward0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4678</td>
                                    <td class="row-source"><pre>//                     cForward0 + ----------------------- * (qForward0 - h)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4679</td>
                                    <td class="row-source"><pre>//                                  qForward0 - qForward1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4680</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4681</td>
                                    <td class="row-source"><pre>// for every &#39;qOvershoot &lt; h &lt; qBegin&#39; where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4682</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4683</td>
                                    <td class="row-source"><pre>//  &#39;cForward0 := c[indexKernelForward - 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4684</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4685</td>
                                    <td class="row-source"><pre>//  &#39;qForward0 := getZeroForOne() ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4686</td>
                                    <td class="row-source"><pre>//                qTarget - b[indexKernelForward - 1] : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4687</td>
                                    <td class="row-source"><pre>//                qTarget + b[indexKernelForward - 1]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4688</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4689</td>
                                    <td class="row-source"><pre>//  &#39;cForward1 := c[indexKernelForward]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4690</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4691</td>
                                    <td class="row-source"><pre>//  &#39;qForward1 := getZeroForOne() ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4692</td>
                                    <td class="row-source"><pre>//                qTarget - b[indexKernelForward] : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4693</td>
                                    <td class="row-source"><pre>//                qTarget + b[indexKernelForward]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4694</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4695</td>
                                    <td class="row-source"><pre>// The pair &#39;(cForward0, qForward0)&#39; is stored in the memory space which is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4696</td>
                                    <td class="row-source"><pre>// pointed to by &#39;_forward0_&#39; and similarly, the pair &#39;(cForward1, qForward1)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4697</td>
                                    <td class="row-source"><pre>// is stored in the memory space which is pointed to by &#39;_forward1_&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4698</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4699</td>
                                    <td class="row-source"><pre>// The 64 bytes memory space which is pointed to by &#39;_forward0_&#39; hosts the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4700</td>
                                    <td class="row-source"><pre>// following values:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4701</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4702</td>
                                    <td class="row-source"><pre>//  &#39;_forward0_.height() := (2 ** 15) * cForward0&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4703</td>
                                    <td class="row-source"><pre>//  &#39;_forward0_.log() := (2 ** 59) * (16 + qForward0)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4704</td>
                                    <td class="row-source"><pre>//  &#39;_forward0_.sqrt(false) := (2 ** 216) * exp(- 8 - qForward0 / 2)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4705</td>
                                    <td class="row-source"><pre>//  &#39;_forward0_.sqrt(true) := (2 ** 216) * exp(- 8 + qForward0 / 2)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4706</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4707</td>
                                    <td class="row-source"><pre>// which can be accessed via &#39;PriceLibrary&#39;. The vertical coordinate</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4708</td>
                                    <td class="row-source"><pre>// &#39;_forward0_.height()&#39; occupies 16 bits, the logarithmic price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4709</td>
                                    <td class="row-source"><pre>// &#39;_forward0_.log()&#39; occupies 64 bits, whereas &#39;_forward0_.sqrt(false)&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4710</td>
                                    <td class="row-source"><pre>// &#39;_forward0_.sqrt(true)&#39; occupy 216 bits each.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4711</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4712</td>
                                    <td class="row-source"><pre>// The 64 bytes memory space which is pointed to by &#39;_forward1_&#39; hosts the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4713</td>
                                    <td class="row-source"><pre>// following values:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4714</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4715</td>
                                    <td class="row-source"><pre>//  &#39;_forward1_.height() := (2 ** 15) * cForward1&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4716</td>
                                    <td class="row-source"><pre>//  &#39;_forward1_.log() := (2 ** 59) * (16 + qForward1)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4717</td>
                                    <td class="row-source"><pre>//  &#39;_forward1_.sqrt(false) := (2 ** 216) * exp(- 8 - qForward1 / 2)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4718</td>
                                    <td class="row-source"><pre>//  &#39;_forward1_.sqrt(true) := (2 ** 216) * exp(- 8 + qForward1 / 2)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4719</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4720</td>
                                    <td class="row-source"><pre>// which can be accessed via &#39;PriceLibrary&#39;. The vertical coordinate</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4721</td>
                                    <td class="row-source"><pre>// &#39;_forward1_.height()&#39; occupies 16 bits, the logarithmic price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4722</td>
                                    <td class="row-source"><pre>// &#39;_forward1_.log()&#39; occupies 64 bits, whereas &#39;_forward1_.sqrt(false)&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4723</td>
                                    <td class="row-source"><pre>// &#39;_forward1_.sqrt(true)&#39; occupy 216 bits each.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4724</td>
                                    <td class="row-source"><pre>uint16 constant _forward0_ = 1161;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4725</td>
                                    <td class="row-source"><pre>uint16 constant _forward1_ = 1225;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4726</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4727</td>
                                    <td class="row-source"><pre>// While searching for &#39;qTarget&#39;, the integral &#39;incomingCurrentToTarget&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4728</td>
                                    <td class="row-source"><pre>// calculated. This integral is defined as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4729</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4730</td>
                                    <td class="row-source"><pre>//                                   - 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4731</td>
                                    <td class="row-source"><pre>//    incomingCurrentToTarget      e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4732</td>
                                    <td class="row-source"><pre>//  &#39;------------------------- := ------- * (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4733</td>
                                    <td class="row-source"><pre>//           2 ** 216                2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4734</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4735</td>
                                    <td class="row-source"><pre>//                         / qCurrent                 / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4736</td>
                                    <td class="row-source"><pre>//                        |    - h / 2               |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4737</td>
                                    <td class="row-source"><pre>//     getZeroForOne() ?  |  e         k(w(h)) dh :  |  e         k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4738</td>
                                    <td class="row-source"><pre>//                        |                          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4739</td>
                                    <td class="row-source"><pre>//                       / qTarget                  / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4740</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4741</td>
                                    <td class="row-source"><pre>//   )&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4742</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4743</td>
                                    <td class="row-source"><pre>// The pointer below refers to the above integral in &#39;X216&#39; representation</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4744</td>
                                    <td class="row-source"><pre>// which takes up to 27 bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4745</td>
                                    <td class="row-source"><pre>uint16 constant _incomingCurrentToTarget_ = 1287;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4746</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4747</td>
                                    <td class="row-source"><pre>// While searching for &#39;qTarget&#39;, the integral &#39;currentToTarget&#39; is calculated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4748</td>
                                    <td class="row-source"><pre>// This integral is defined as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4749</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4750</td>
                                    <td class="row-source"><pre>//                           - 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4751</td>
                                    <td class="row-source"><pre>//    currentToTarget      e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4752</td>
                                    <td class="row-source"><pre>//  &#39;----------------- := ------- * (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4753</td>
                                    <td class="row-source"><pre>//       2 ** 216            2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4754</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4755</td>
                                    <td class="row-source"><pre>//                         / qCurrent                 / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4756</td>
                                    <td class="row-source"><pre>//                        |    + h / 2               |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4757</td>
                                    <td class="row-source"><pre>//     getZeroForOne() ?  |  e         k(w(h)) dh :  |  e         k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4758</td>
                                    <td class="row-source"><pre>//                        |                          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4759</td>
                                    <td class="row-source"><pre>//                       / qTarget                  / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4760</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4761</td>
                                    <td class="row-source"><pre>//   )&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4762</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4763</td>
                                    <td class="row-source"><pre>// The pointer below refers to the above integral in &#39;X216&#39; representation</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4764</td>
                                    <td class="row-source"><pre>// which takes up to 27 bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4765</td>
                                    <td class="row-source"><pre>uint16 constant _currentToTarget_ = 1314;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4766</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4767</td>
                                    <td class="row-source"><pre>// While searching for &#39;qTarget&#39; and &#39;qOvershoot&#39;, we need to calculate the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4768</td>
                                    <td class="row-source"><pre>// following integral:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4769</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4770</td>
                                    <td class="row-source"><pre>//                           - 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4771</td>
                                    <td class="row-source"><pre>//    currentToOrigin      e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4772</td>
                                    <td class="row-source"><pre>//  &#39;----------------- := ------- * (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4773</td>
                                    <td class="row-source"><pre>//       2 ** 216            2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4774</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4775</td>
                                    <td class="row-source"><pre>//                         / qOrigin                  / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4776</td>
                                    <td class="row-source"><pre>//                        |    - h / 2               |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4777</td>
                                    <td class="row-source"><pre>//     getZeroForOne() ?  |  e         k(w(h)) dh :  |  e         k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4778</td>
                                    <td class="row-source"><pre>//                        |                          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4779</td>
                                    <td class="row-source"><pre>//                       / qCurrent                 / qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4780</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4781</td>
                                    <td class="row-source"><pre>//   )&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4782</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4783</td>
                                    <td class="row-source"><pre>// &#39;currentToOrigin&#39; is used for the calculation of &#39;overshoot&#39; as discussed in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4784</td>
                                    <td class="row-source"><pre>// &#39;Interval.sol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4785</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4786</td>
                                    <td class="row-source"><pre>// The pointer below refers to the above integral in &#39;X216&#39; representation</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4787</td>
                                    <td class="row-source"><pre>// which takes up to 27 bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4788</td>
                                    <td class="row-source"><pre>uint16 constant _currentToOrigin_ = 1341;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4789</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4790</td>
                                    <td class="row-source"><pre>// While searching for &#39;qTarget&#39; and &#39;qOvershoot&#39;, we need to calculate the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4791</td>
                                    <td class="row-source"><pre>// following integral:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4792</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4793</td>
                                    <td class="row-source"><pre>//                              - 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4794</td>
                                    <td class="row-source"><pre>//    currentToOvershoot      e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4795</td>
                                    <td class="row-source"><pre>//  &#39;-------------------- := ------- * (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4796</td>
                                    <td class="row-source"><pre>//         2 ** 216             2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4797</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4798</td>
                                    <td class="row-source"><pre>//                         / qCurrent                 / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4799</td>
                                    <td class="row-source"><pre>//                        |    + h / 2               |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4800</td>
                                    <td class="row-source"><pre>//     getZeroForOne() ?  |  e         k(w(h)) dh :  |  e         k(w(h)) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4801</td>
                                    <td class="row-source"><pre>//                        |                          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4802</td>
                                    <td class="row-source"><pre>//                       / qOvershoot               / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4803</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4804</td>
                                    <td class="row-source"><pre>//   )&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4805</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4806</td>
                                    <td class="row-source"><pre>// &#39;currentToOvershoot&#39; is used for the calculation of &#39;overshoot&#39; as discussed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4807</td>
                                    <td class="row-source"><pre>// in &#39;Interval.sol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4808</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4809</td>
                                    <td class="row-source"><pre>// The pointer below refers to the above integral in &#39;X216&#39; representation</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4810</td>
                                    <td class="row-source"><pre>// which takes up to 27 bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4811</td>
                                    <td class="row-source"><pre>uint16 constant _currentToOvershoot_ = 1368;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4812</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4813</td>
                                    <td class="row-source"><pre>// While searching for &#39;qOvershoot&#39;, we need to calculate the following</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4814</td>
                                    <td class="row-source"><pre>// integral:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4815</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4816</td>
                                    <td class="row-source"><pre>//                             - 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4817</td>
                                    <td class="row-source"><pre>//    targetToOvershoot      e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4818</td>
                                    <td class="row-source"><pre>//  &#39;------------------- := ------- * (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4819</td>
                                    <td class="row-source"><pre>//         2 ** 216            2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4820</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4821</td>
                                    <td class="row-source"><pre>//     getZeroForOne()</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4822</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4823</td>
                                    <td class="row-source"><pre>//         / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4824</td>
                                    <td class="row-source"><pre>//        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4825</td>
                                    <td class="row-source"><pre>//     ?  |  e         k(qTarget - h) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4826</td>
                                    <td class="row-source"><pre>//        |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4827</td>
                                    <td class="row-source"><pre>//       / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4828</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4829</td>
                                    <td class="row-source"><pre>//         / qOvershoot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4830</td>
                                    <td class="row-source"><pre>//        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4831</td>
                                    <td class="row-source"><pre>//     :  |  e         k(h - qTarget) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4832</td>
                                    <td class="row-source"><pre>//        |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4833</td>
                                    <td class="row-source"><pre>//       / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4834</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4835</td>
                                    <td class="row-source"><pre>//   )&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4836</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4837</td>
                                    <td class="row-source"><pre>// &#39;targetToOvershoot&#39; is used for the calculation of &#39;overshoot&#39; as discussed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4838</td>
                                    <td class="row-source"><pre>// in &#39;Interval.sol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4839</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4840</td>
                                    <td class="row-source"><pre>// The pointer below refers to the above integral in &#39;X216&#39; representation</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4841</td>
                                    <td class="row-source"><pre>// which takes up to 27 bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4842</td>
                                    <td class="row-source"><pre>uint16 constant _targetToOvershoot_ = 1395;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4843</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4844</td>
                                    <td class="row-source"><pre>// While searching for &#39;qTarget&#39; and &#39;qOvershoot&#39;, we need to calculate the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4845</td>
                                    <td class="row-source"><pre>// following integral:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4846</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4847</td>
                                    <td class="row-source"><pre>//                             - 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4848</td>
                                    <td class="row-source"><pre>//    originToOvershoot      e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4849</td>
                                    <td class="row-source"><pre>//  &#39;------------------- := ------- * (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4850</td>
                                    <td class="row-source"><pre>//        2 ** 216             2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4851</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4852</td>
                                    <td class="row-source"><pre>//     getZeroForOne() ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4853</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4854</td>
                                    <td class="row-source"><pre>//       / qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4855</td>
                                    <td class="row-source"><pre>//      |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4856</td>
                                    <td class="row-source"><pre>//      |  e         k(qOrigin - h) dh :</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4857</td>
                                    <td class="row-source"><pre>//      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4858</td>
                                    <td class="row-source"><pre>//     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4859</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4860</td>
                                    <td class="row-source"><pre>//       / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4861</td>
                                    <td class="row-source"><pre>//      |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4862</td>
                                    <td class="row-source"><pre>//      |  e         k(h - qOrigin) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4863</td>
                                    <td class="row-source"><pre>//      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4864</td>
                                    <td class="row-source"><pre>//     / qOrigin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4865</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4866</td>
                                    <td class="row-source"><pre>//   )&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4867</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4868</td>
                                    <td class="row-source"><pre>// &#39;originToOvershoot&#39; is used for the calculation of &#39;overshoot&#39; as discussed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4869</td>
                                    <td class="row-source"><pre>// in &#39;Interval.sol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4870</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4871</td>
                                    <td class="row-source"><pre>// The pointer below refers to the above integral in &#39;X216&#39; representation</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4872</td>
                                    <td class="row-source"><pre>// which takes up to 27 bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4873</td>
                                    <td class="row-source"><pre>uint16 constant _originToOvershoot_ = 1422;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4874</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4875</td>
                                    <td class="row-source"><pre>uint16 constant _endOfInterval_ = 1449;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4876</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4877</td>
                                    <td class="row-source"><pre>// Accrued Parameters</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4878</td>
                                    <td class="row-source"><pre>// ----------------------------------------------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4879</td>
                                    <td class="row-source"><pre>// The spaces that are pointed to by the following memory pointers contain</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4880</td>
                                    <td class="row-source"><pre>// information about the accrued growth portions that are owed to the protocol</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4881</td>
                                    <td class="row-source"><pre>// and the pool. After each swap or donate, the interval liquidity grows. A</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4882</td>
                                    <td class="row-source"><pre>// portion of this growth goes to the protocol. A portion of the remaining</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4883</td>
                                    <td class="row-source"><pre>// growth goes to the pool owner. These values are compactly written on</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4884</td>
                                    <td class="row-source"><pre>// protocol&#39;s storage in which they occupy exactly one slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4885</td>
                                    <td class="row-source"><pre>uint16 constant _accruedParams_ = 1449;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4886</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4887</td>
                                    <td class="row-source"><pre>// This 32 bytes memory space hosts the &#39;X127&#39; representation of &#39;accrued0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4888</td>
                                    <td class="row-source"><pre>// where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4889</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4890</td>
                                    <td class="row-source"><pre>//    accrued0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4891</td>
                                    <td class="row-source"><pre>//  &#39;----------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4892</td>
                                    <td class="row-source"><pre>//    2 ** 127</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4893</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4894</td>
                                    <td class="row-source"><pre>// is the total unclaimed amount in &#39;tag0&#39; owed to both the protocol and the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4895</td>
                                    <td class="row-source"><pre>// pool owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4896</td>
                                    <td class="row-source"><pre>uint16 constant _accrued0_ = 1449;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4897</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4898</td>
                                    <td class="row-source"><pre>// This 32 bytes memory space hosts the &#39;X127&#39; representation of &#39;accrued1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4899</td>
                                    <td class="row-source"><pre>// where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4900</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4901</td>
                                    <td class="row-source"><pre>//    accrued1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4902</td>
                                    <td class="row-source"><pre>//  &#39;----------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4903</td>
                                    <td class="row-source"><pre>//    2 ** 127</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4904</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4905</td>
                                    <td class="row-source"><pre>// is the total unclaimed amount in &#39;tag1&#39; owed to both the protocol and the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4906</td>
                                    <td class="row-source"><pre>// pool owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4907</td>
                                    <td class="row-source"><pre>uint16 constant _accrued1_ = 1481;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4908</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4909</td>
                                    <td class="row-source"><pre>// This 3 bytes memory space hosts the &#39;X23&#39; representation of &#39;poolRatio0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4910</td>
                                    <td class="row-source"><pre>// where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4911</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4912</td>
                                    <td class="row-source"><pre>//    poolRatio0     accrued0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4913</td>
                                    <td class="row-source"><pre>//  &#39;------------ * ----------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4914</td>
                                    <td class="row-source"><pre>//     2 ** 23       2 ** 127</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4915</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4916</td>
                                    <td class="row-source"><pre>// is the accrued amount in &#39;tag0&#39; owed to the pool and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4917</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4918</td>
                                    <td class="row-source"><pre>//    oneX23 - poolRatio0     accrued0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4919</td>
                                    <td class="row-source"><pre>//  &#39;--------------------- * ----------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4920</td>
                                    <td class="row-source"><pre>//          2 ** 23           2 ** 127</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4921</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4922</td>
                                    <td class="row-source"><pre>// is the accrued amount in &#39;tag0&#39; owed to the protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4923</td>
                                    <td class="row-source"><pre>uint16 constant _poolRatio0_ = 1513;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4924</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4925</td>
                                    <td class="row-source"><pre>// This 3 bytes memory space hosts the &#39;X23&#39; representation of &#39;poolRatio1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4926</td>
                                    <td class="row-source"><pre>// where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4927</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4928</td>
                                    <td class="row-source"><pre>//    poolRatio1     accrued1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4929</td>
                                    <td class="row-source"><pre>//  &#39;------------ * ----------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4930</td>
                                    <td class="row-source"><pre>//     2 ** 23       2 ** 127</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4931</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4932</td>
                                    <td class="row-source"><pre>// is the accrued amount in &#39;tag1&#39; owed to the pool and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4933</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4934</td>
                                    <td class="row-source"><pre>//    oneX23 - poolRatio1     accrued1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4935</td>
                                    <td class="row-source"><pre>//  &#39;--------------------- * ----------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4936</td>
                                    <td class="row-source"><pre>//          2 ** 23           2 ** 127</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4937</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4938</td>
                                    <td class="row-source"><pre>// is the accrued amount in &#39;tag1&#39; owed to the protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4939</td>
                                    <td class="row-source"><pre>uint16 constant _poolRatio1_ = 1516;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4940</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4941</td>
                                    <td class="row-source"><pre>// Pointers</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4942</td>
                                    <td class="row-source"><pre>// ----------------------------------------------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4943</td>
                                    <td class="row-source"><pre>// The following memory pointers give access to data with dynamic size.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4944</td>
                                    <td class="row-source"><pre>uint16 constant _pointers_ = 1519;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4945</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4946</td>
                                    <td class="row-source"><pre>// The content of this 32 bytes memory space points to the beginning of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4947</td>
                                    <td class="row-source"><pre>// kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4948</td>
                                    <td class="row-source"><pre>// The memory space starting from &#39;getKernel()&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4949</td>
                                    <td class="row-source"><pre>// &#39;getKernel() + 64 * (getKernelLength() - 1)&#39; hosts the kernel breakpoints</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4950</td>
                                    <td class="row-source"><pre>// that are loaded from the bytecode of the storage smart contract (64 bytes</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4951</td>
                                    <td class="row-source"><pre>// for each breakpoint of the kernel function except for &#39;(b[0], c[0])&#39; which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4952</td>
                                    <td class="row-source"><pre>// is omitted).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4953</td>
                                    <td class="row-source"><pre>uint16 constant _kernel_ = 1519;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4954</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4955</td>
                                    <td class="row-source"><pre>// The content of this 32 bytes memory space points to the beginning of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4956</td>
                                    <td class="row-source"><pre>// curve sequence. The memory space starting from &#39;getCurve()&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4957</td>
                                    <td class="row-source"><pre>// &#39;getCurve() + 8 * getCurveLength()&#39; hosts the curve sequence which is loaded</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4958</td>
                                    <td class="row-source"><pre>// from the protocol&#39;s storage (8 bytes for each member of the curve sequence).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4959</td>
                                    <td class="row-source"><pre>uint16 constant _curve_ = 1551;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4960</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4961</td>
                                    <td class="row-source"><pre>// The content of this 32 bytes memory space points to the beginning of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4962</td>
                                    <td class="row-source"><pre>// &#39;hookData&#39;. The memory space starting from &#39;getHookData()&#39; to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4963</td>
                                    <td class="row-source"><pre>// &#39;getHookData() + getHookDataByteCount()&#39; hosts &#39;hookData&#39; which is loaded</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4964</td>
                                    <td class="row-source"><pre>// from calldata.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4965</td>
                                    <td class="row-source"><pre>uint16 constant _hookData_ = 1583;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4966</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4967</td>
                                    <td class="row-source"><pre>// This 2 bytes memory space hosts the number of breakpoints of the kernel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4968</td>
                                    <td class="row-source"><pre>// function which is calculated from the size of the storage smart contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4969</td>
                                    <td class="row-source"><pre>uint16 constant _kernelLength_ = 1615;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4970</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4971</td>
                                    <td class="row-source"><pre>// This 2 bytes memory space hosts the number of members of the curve sequence.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4972</td>
                                    <td class="row-source"><pre>uint16 constant _curveLength_ = 1617;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4973</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4974</td>
                                    <td class="row-source"><pre>// This 2 bytes memory space hosts the number of bytes that &#39;hookData&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4975</td>
                                    <td class="row-source"><pre>// occupies.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4976</td>
                                    <td class="row-source"><pre>uint16 constant _hookDataByteCount_ = 1619;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4977</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4978</td>
                                    <td class="row-source"><pre>// Dynamic Parameters</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4979</td>
                                    <td class="row-source"><pre>// ----------------------------------------------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4980</td>
                                    <td class="row-source"><pre>// The following memory pointers are dedicated to dynamic parameters of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4981</td>
                                    <td class="row-source"><pre>// pool that may change with each swap. Dynamic parameters are stored in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4982</td>
                                    <td class="row-source"><pre>// protocol&#39;s storage and take a total of three slots. In the event that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4983</td>
                                    <td class="row-source"><pre>// &#39;staticParamsStoragePointer&#39; overflows and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4984</td>
                                    <td class="row-source"><pre>// &#39;staticParamsStoragePointerExtension&#39; is needed, a fourth storage slot is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4985</td>
                                    <td class="row-source"><pre>// populated, rendering interactions with the pool more expensive.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4986</td>
                                    <td class="row-source"><pre>uint16 constant _dynamicParams_ = 1621;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4987</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4988</td>
                                    <td class="row-source"><pre>// The content of this 32 bytes memory space is referred to as</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4989</td>
                                    <td class="row-source"><pre>// &#39;staticParamsStoragePointerExtension&#39; which is closely related to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4990</td>
                                    <td class="row-source"><pre>// &#39;staticParamsStoragePointer&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4991</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4992</td>
                                    <td class="row-source"><pre>// If &#39;staticParamsStoragePointer &lt; type(uint16).max&#39;, then</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4993</td>
                                    <td class="row-source"><pre>// &#39;staticParamsStoragePointerExtension&#39; is not written on protocol&#39;s storage</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4994</td>
                                    <td class="row-source"><pre>// and we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4995</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4996</td>
                                    <td class="row-source"><pre>//  &#39;staticParamsStoragePointerExtension == staticParamsStoragePointer&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4997</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4998</td>
                                    <td class="row-source"><pre>// If &#39;staticParamsStoragePointer == type(uint16).max&#39;, then</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4999</td>
                                    <td class="row-source"><pre>// &#39;staticParamsStoragePointerExtension&#39; populates a dedicated storage slot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5000</td>
                                    <td class="row-source"><pre>// whose content can be used to derive the address of the storage smart</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5001</td>
                                    <td class="row-source"><pre>// contract that contains the static parameters and the kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5002</td>
                                    <td class="row-source"><pre>uint16 constant _staticParamsStoragePointerExtension_ = 1621;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5003</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5004</td>
                                    <td class="row-source"><pre>// The content of this 2 bytes memory space is used to retrieve the address of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5005</td>
                                    <td class="row-source"><pre>// the smart contract which holds the pool&#39;s static parameters and the kernel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5006</td>
                                    <td class="row-source"><pre>// in its bytecode. This value is incremented every time that any of the static</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5007</td>
                                    <td class="row-source"><pre>// parameters are updated or when the kernel is modified. In the event of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5008</td>
                                    <td class="row-source"><pre>// overflow, this value is set to &#39;type(uint16).max&#39; and the 32 bytes space</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5009</td>
                                    <td class="row-source"><pre>// which is pointed to by &#39;_staticParamsStoragePointerExtension_&#39; is used to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5010</td>
                                    <td class="row-source"><pre>// store the value from which the address to the storage smart contract is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5011</td>
                                    <td class="row-source"><pre>// derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5012</td>
                                    <td class="row-source"><pre>uint16 constant _staticParamsStoragePointer_ = 1653;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5013</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5014</td>
                                    <td class="row-source"><pre>// This 8 bytes memory space hosts &#39;logPriceCurrent&#39; which is the offsetted</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5015</td>
                                    <td class="row-source"><pre>// value of the current log price of the pool in &#39;X59&#39; representation. More</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5016</td>
                                    <td class="row-source"><pre>// precisely,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5017</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5018</td>
                                    <td class="row-source"><pre>//  &#39;logPriceCurrent := (2 ** 59) * (16 + qCurrent)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5019</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5020</td>
                                    <td class="row-source"><pre>// where </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5021</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5022</td>
                                    <td class="row-source"><pre>//  &#39;qCurrent := log(pCurrent / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5023</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5024</td>
                                    <td class="row-source"><pre>// and &#39;pCurrent&#39; represents the current price of the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5025</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5026</td>
                                    <td class="row-source"><pre>// This value is also used to determine the end of the curve sequence while</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5027</td>
                                    <td class="row-source"><pre>// reading the curve sequence from storage. Because the curve sequence does not</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5028</td>
                                    <td class="row-source"><pre>// have a length slot, but its last member is equal to &#39;logPriceCurrent&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5029</td>
                                    <td class="row-source"><pre>uint16 constant _logPriceCurrent_ = 1655;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5030</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5031</td>
                                    <td class="row-source"><pre>// The total number of shares that are deposited in the current active</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5032</td>
                                    <td class="row-source"><pre>// liquidity interval across all LPs.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5033</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5034</td>
                                    <td class="row-source"><pre>// We keep track of the total share values in all of the liquidity intervals</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5035</td>
                                    <td class="row-source"><pre>// via the mapping &#39;sharesDelta&#39; within protocol&#39;s storage. Let &#39;qBoundary&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5036</td>
                                    <td class="row-source"><pre>// denote an arbitrary boundary for a liquidity interval, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5037</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5038</td>
                                    <td class="row-source"><pre>//  &#39;qBoundary == qLower + j * qSpacing&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5039</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5040</td>
                                    <td class="row-source"><pre>// for some integer &#39;j&#39;. Let &#39;sharesTotalLeft&#39; and &#39;sharesTotalRight&#39; denote</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5041</td>
                                    <td class="row-source"><pre>// the total number of shares within the intervals</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5042</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5043</td>
                                    <td class="row-source"><pre>//  &#39;[qBoundary - qSpacing, qBoundary]&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5044</td>
                                    <td class="row-source"><pre>//  &#39;[qBoundary, qBoundary + qSpacing]&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5045</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5046</td>
                                    <td class="row-source"><pre>// respectively. Define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5047</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5048</td>
                                    <td class="row-source"><pre>//  &#39;sharesDelta[qBoundary] := sharesTotalRight - sharesTotalLeft&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5049</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5050</td>
                                    <td class="row-source"><pre>// In other words, &#39;sharesDelta[qBoundary]&#39; is defined as the difference</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5051</td>
                                    <td class="row-source"><pre>// between the total number of shares within the two liquidity intervals that</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5052</td>
                                    <td class="row-source"><pre>// contain &#39;qBoundary&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5053</td>
                                    <td class="row-source"><pre>uint16 constant _sharesTotal_ = 1663;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5054</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5055</td>
                                    <td class="row-source"><pre>// With each visit to a liquidity interval or as a result of donations, the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5056</td>
                                    <td class="row-source"><pre>// amount of liquidity which is allocated to a single LP share increases. We</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5057</td>
                                    <td class="row-source"><pre>// use the parameter &#39;growth&#39; to keep track of liquidity per share for the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5058</td>
                                    <td class="row-source"><pre>// active interval. &#39;growth&#39; is stored in &#39;X111&#39; format and we always have</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5059</td>
                                    <td class="row-source"><pre>// &#39;oneX111 &lt;= growth &lt;= maxGrowth == 1 &lt;&lt; 127&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5060</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5061</td>
                                    <td class="row-source"><pre>// Let &#39;pLower&#39; and &#39;pUpper&#39;, respectively, denote the minimum and maximum</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5062</td>
                                    <td class="row-source"><pre>// price in the current active liquidity interval and define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5063</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5064</td>
                                    <td class="row-source"><pre>//  &#39;qLower := log(pLower / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5065</td>
                                    <td class="row-source"><pre>//  &#39;qUpper := log(pUpper / pOffset)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5066</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5067</td>
                                    <td class="row-source"><pre>// Growth values across inactive intervals are kept track of using the mapping</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5068</td>
                                    <td class="row-source"><pre>// &#39;growthMultiplier&#39; as explained below.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5069</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5070</td>
                                    <td class="row-source"><pre>// For every integer &#39;m &gt;= 1&#39;, let </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5071</td>
                                    <td class="row-source"><pre>// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5072</td>
                                    <td class="row-source"><pre>//    sqrtInverseOffset     growthMultiplier[qLower + m * qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5073</td>
                                    <td class="row-source"><pre>//  &#39;------------------- * -----------------------------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5074</td>
                                    <td class="row-source"><pre>//        2 ** 127                         2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5075</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5076</td>
                                    <td class="row-source"><pre>// represent the total amount of &#39;tag0&#39; corresponding to a single liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5077</td>
                                    <td class="row-source"><pre>// provider&#39;s share from &#39;qLower + m * qSpacing&#39; to &#39;+oo&#39; and let</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5078</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5079</td>
                                    <td class="row-source"><pre>//    sqrtOffset     growthMultiplier[qUpper - m * qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5080</td>
                                    <td class="row-source"><pre>//  &#39;------------ * -----------------------------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5081</td>
                                    <td class="row-source"><pre>//     2 ** 127                     2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5082</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5083</td>
                                    <td class="row-source"><pre>// represent the total amount of &#39;tag1&#39; corresponding to a single liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5084</td>
                                    <td class="row-source"><pre>// provider&#39;s share from &#39;-oo&#39; to &#39;qLower&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5085</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5086</td>
                                    <td class="row-source"><pre>// For every integer &#39;m&#39;, let &#39;growth(m)&#39; denote the &#39;growth&#39; value for the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5087</td>
                                    <td class="row-source"><pre>// interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5088</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5089</td>
                                    <td class="row-source"><pre>//  &#39;[qLower + m * qSpacing, qUpper + m * qSpacing]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5090</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5091</td>
                                    <td class="row-source"><pre>// Hence, &#39;growth(0)&#39; corresponds to &#39;[qLower, qUpper]&#39; which is stored in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5092</td>
                                    <td class="row-source"><pre>// the following memory space.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5093</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5094</td>
                                    <td class="row-source"><pre>// According to the above definitions, for every integer &#39;m &gt;= 1&#39;, we have</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5095</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5096</td>
                                    <td class="row-source"><pre>//    growthMultiplier[qLower + m * qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5097</td>
                                    <td class="row-source"><pre>//  &#39;----------------------------------------- := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5098</td>
                                    <td class="row-source"><pre>//                    2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5099</td>
                                    <td class="row-source"><pre>//   ---- +oo</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5100</td>
                                    <td class="row-source"><pre>//   \            growth(+j)      (- qLower - j * qSpacing) / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5101</td>
                                    <td class="row-source"><pre>//   /           ------------ * e                               &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5102</td>
                                    <td class="row-source"><pre>//   ---- j = m    2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5103</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5104</td>
                                    <td class="row-source"><pre>// and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5105</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5106</td>
                                    <td class="row-source"><pre>//    growthMultiplier[qUpper - m * qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5107</td>
                                    <td class="row-source"><pre>//  &#39;----------------------------------------- := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5108</td>
                                    <td class="row-source"><pre>//                    2 ** 208</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5109</td>
                                    <td class="row-source"><pre>//   ---- +oo</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5110</td>
                                    <td class="row-source"><pre>//   \            growth(-j)      (+ qUpper - j * qSpacing) / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5111</td>
                                    <td class="row-source"><pre>//   /           ------------ * e                               &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5112</td>
                                    <td class="row-source"><pre>//   ---- j = m    2 ** 111</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5113</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5114</td>
                                    <td class="row-source"><pre>// The following illustration further elaborates the notion of &#39;growth&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5115</td>
                                    <td class="row-source"><pre>// &#39;growthMultiplier&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5116</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5117</td>
                                    <td class="row-source"><pre>//                                         growthMultiplier[qUpper + qSpacing]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5118</td>
                                    <td class="row-source"><pre>//                                                                    |--&gt;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5119</td>
                                    <td class="row-source"><pre>//       growthMultiplier[qLower - qSpacing]                          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5120</td>
                                    <td class="row-source"><pre>//           &lt;--|                                                     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5121</td>
                                    <td class="row-source"><pre>//              |                        growthMultiplier[qUpper]     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5122</td>
                                    <td class="row-source"><pre>//              |                                   |--&gt;              |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5123</td>
                                    <td class="row-source"><pre>//              |      growthMultiplier[qLower]     |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5124</td>
                                    <td class="row-source"><pre>//              |              &lt;--|                 |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5125</td>
                                    <td class="row-source"><pre>//              |                 |     growth      |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5126</td>
                                    <td class="row-source"><pre>//              |                 |       ==        |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5127</td>
                                    <td class="row-source"><pre>//              |    growth(-1)   |    growth(0)    |    growth(+1)   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5128</td>
                                    <td class="row-source"><pre>//       ... &lt;--+-----------------+-----------------+-----------------+--&gt; ...</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5129</td>
                                    <td class="row-source"><pre>//                                |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5130</td>
                                    <td class="row-source"><pre>//                              qLower           qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5131</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5132</td>
                                    <td class="row-source"><pre>// In the above figure, &#39;growthMultiplier[qUpper]&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5133</td>
                                    <td class="row-source"><pre>// &#39;growthMultiplier[qUpper + qSpacing]&#39; point towards &#39;+oo&#39; as well as every</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5134</td>
                                    <td class="row-source"><pre>// growthMultiplier[qLower + m * qSpacing] for positive integers &#39;m&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5135</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5136</td>
                                    <td class="row-source"><pre>// On the contrary, &#39;growthMultiplier[qLower]&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5137</td>
                                    <td class="row-source"><pre>// &#39;growthMultiplier[qLower - qSpacing]&#39; point towards &#39;-oo&#39; as well as every</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5138</td>
                                    <td class="row-source"><pre>// growthMultiplier[qUpper - m * qSpacing] for positive integers &#39;m&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5139</td>
                                    <td class="row-source"><pre>uint16 constant _growth_ = 1679;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5140</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5141</td>
                                    <td class="row-source"><pre>// Let &#39;pCurrent&#39; and &#39;pUpper&#39; represent the current price and the maximum</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5142</td>
                                    <td class="row-source"><pre>// price of the active liquidity interval, respectively, and define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5143</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5144</td>
                                    <td class="row-source"><pre>// &#39;qCurrent := log(pCurrent / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5145</td>
                                    <td class="row-source"><pre>// &#39;qUpper := log(pUpper / pOffset)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5146</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5147</td>
                                    <td class="row-source"><pre>// The memory space which is pointed to by &#39;_integral0_&#39; hosts the following</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5148</td>
                                    <td class="row-source"><pre>// integral in &#39;X216&#39; representation which takes up to 27 bytes:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5149</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5150</td>
                                    <td class="row-source"><pre>//                     - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5151</td>
                                    <td class="row-source"><pre>//    integral0      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5152</td>
                                    <td class="row-source"><pre>//  &#39;----------- := ------- * |  e         k(w(h)) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5153</td>
                                    <td class="row-source"><pre>//    2 ** 216         2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5154</td>
                                    <td class="row-source"><pre>//                           / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5155</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5156</td>
                                    <td class="row-source"><pre>// The total reserve of &#39;tag0&#39; in the active liquidity interval can be derived</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5157</td>
                                    <td class="row-source"><pre>// from the following formula:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5158</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5159</td>
                                    <td class="row-source"><pre>//  &#39;totalReserveOfTag0 == sqrtInverseOffset * sharesTotal *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5160</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5161</td>
                                    <td class="row-source"><pre>//                           growth       integral0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5162</td>
                                    <td class="row-source"><pre>//                         ---------- * -------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5163</td>
                                    <td class="row-source"><pre>//                          2 ** 111     outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5164</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5165</td>
                                    <td class="row-source"><pre>uint16 constant _integral0_ = 1695;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5166</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5167</td>
                                    <td class="row-source"><pre>// Let &#39;pCurrent&#39; and &#39;pLower&#39; represent the current price and the minimum</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5168</td>
                                    <td class="row-source"><pre>// price of the active liquidity interval, respectively, and define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5169</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5170</td>
                                    <td class="row-source"><pre>// &#39;qCurrent := log(pCurrent / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5171</td>
                                    <td class="row-source"><pre>// &#39;qLower := log(pLower / pOffset)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5172</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5173</td>
                                    <td class="row-source"><pre>// The memory space which is pointed to by &#39;_integral1_&#39; hosts the following</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5174</td>
                                    <td class="row-source"><pre>// integral in &#39;X216&#39; representation which takes up to 27 bytes:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5175</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5176</td>
                                    <td class="row-source"><pre>//                     - 8     / qCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5177</td>
                                    <td class="row-source"><pre>//    integral1      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5178</td>
                                    <td class="row-source"><pre>//  &#39;----------- := ------- * |  e         k(w(h)) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5179</td>
                                    <td class="row-source"><pre>//    2 ** 216         2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5180</td>
                                    <td class="row-source"><pre>//                           / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5181</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5182</td>
                                    <td class="row-source"><pre>// The total reserve of &#39;tag1&#39; in the active liquidity interval can be derived</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5183</td>
                                    <td class="row-source"><pre>// from the following formula:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5184</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5185</td>
                                    <td class="row-source"><pre>//  &#39;totalReserveOfTag1 == sqrtOffset * sharesTotal *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5186</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5187</td>
                                    <td class="row-source"><pre>//                           growth       integral1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5188</td>
                                    <td class="row-source"><pre>//                         ---------- * -------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5189</td>
                                    <td class="row-source"><pre>//                          2 ** 111     outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5190</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5191</td>
                                    <td class="row-source"><pre>uint16 constant _integral1_ = 1722;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5192</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5193</td>
                                    <td class="row-source"><pre>// For every pool, the static parameters and the kernel are encoded in the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5194</td>
                                    <td class="row-source"><pre>// source code of a storage smart contract which is deployed using a disposable</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5195</td>
                                    <td class="row-source"><pre>// proxy contract. When deploying a new storage smart contract, its creation</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5196</td>
                                    <td class="row-source"><pre>// code is stored in this 11 bytes memory space with static parameters and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5197</td>
                                    <td class="row-source"><pre>// kernel appearing immediately after. This way, a chunk of memory can be sent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5198</td>
                                    <td class="row-source"><pre>// to the proxy in order to deploy the storage smart contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5199</td>
                                    <td class="row-source"><pre>uint16 constant _deploymentCreationCode_ = 1749;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5200</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5201</td>
                                    <td class="row-source"><pre>// Static Parameters</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5202</td>
                                    <td class="row-source"><pre>// ----------------------------------------------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5203</td>
                                    <td class="row-source"><pre>// The following memory pointers are dedicated to the static parameters of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5204</td>
                                    <td class="row-source"><pre>// pool that do not change as frequently as dynamic parameters. They are stored</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5205</td>
                                    <td class="row-source"><pre>// along with the kernel. Hence, everytime the kernel or any of the growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5206</td>
                                    <td class="row-source"><pre>// portions are updated, the entire storage smart contract is redeployed.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5207</td>
                                    <td class="row-source"><pre>uint16 constant _staticParams_ = 1760;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5208</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5209</td>
                                    <td class="row-source"><pre>// The arithmetically smaller tag to be traded by the pool. This value is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5210</td>
                                    <td class="row-source"><pre>// immutable. A tag may refer to native, ERC-20, ERC-6909, or ERC-1155 tokens</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5211</td>
                                    <td class="row-source"><pre>// as described in &#39;Tag.sol&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5212</td>
                                    <td class="row-source"><pre>uint16 constant _tag0_ = 1760;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5213</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5214</td>
                                    <td class="row-source"><pre>// The arithmetically larger tag to be traded by the pool. This value is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5215</td>
                                    <td class="row-source"><pre>// immutable.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5216</td>
                                    <td class="row-source"><pre>uint16 constant _tag1_ = 1792;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5217</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5218</td>
                                    <td class="row-source"><pre>// This memory space hosts the value:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5219</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5220</td>
                                    <td class="row-source"><pre>// &#39;sqrtOffset := (2 ** 127) * sqrt(pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5221</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5222</td>
                                    <td class="row-source"><pre>// where the natural logarithm of &#39;pOffset&#39; is an &#39;int8&#39; which is encoded from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5223</td>
                                    <td class="row-source"><pre>// bit 181 to bit 188 of poolId.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5224</td>
                                    <td class="row-source"><pre>uint16 constant _sqrtOffset_ = 1824;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5225</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5226</td>
                                    <td class="row-source"><pre>// This memory space hosts the value:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5227</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5228</td>
                                    <td class="row-source"><pre>// &#39;sqrtInverseOffset := (2 ** 127) / sqrt(pOffset)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5229</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5230</td>
                                    <td class="row-source"><pre>// where the natural logarithm of &#39;pOffset&#39; is an &#39;int8&#39; which is encoded from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5231</td>
                                    <td class="row-source"><pre>// bit 181 to bit 188 of poolId.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5232</td>
                                    <td class="row-source"><pre>uint16 constant _sqrtInverseOffset_ = 1856;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5233</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5234</td>
                                    <td class="row-source"><pre>// Let &#39;pLower&#39; and &#39;pUpper&#39; denote the minimum and maximum price in the active</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5235</td>
                                    <td class="row-source"><pre>// liquidity interval, respectively, and define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5236</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5237</td>
                                    <td class="row-source"><pre>//  &#39;qSpacing := log(pUpper / pLower)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5238</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5239</td>
                                    <td class="row-source"><pre>// The 62 bytes memory space which is pointed to by &#39;_spacing_&#39; hosts the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5240</td>
                                    <td class="row-source"><pre>// following values:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5241</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5242</td>
                                    <td class="row-source"><pre>//  &#39;_spacing_.log() := (2 ** 59) * (16 + qSpacing)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5243</td>
                                    <td class="row-source"><pre>//  &#39;_spacing_.sqrt(false) := (2 ** 216) * exp(- qSpacing / 2)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5244</td>
                                    <td class="row-source"><pre>//  &#39;_spacing_.sqrt(true) := (2 ** 216) * exp(- 16 + qSpacing / 2)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5245</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5246</td>
                                    <td class="row-source"><pre>// which can be accessed via &#39;PriceLibrary&#39;. The logarithmic price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5247</td>
                                    <td class="row-source"><pre>// &#39;_spacing_.log()&#39; occupies 64 bits, whereas &#39;_spacing_.sqrt(false)&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5248</td>
                                    <td class="row-source"><pre>// &#39;_spacing_.sqrt(true)&#39; occupy 216 bits each.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5249</td>
                                    <td class="row-source"><pre>uint16 constant _spacing_ = 1888;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5250</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5251</td>
                                    <td class="row-source"><pre>// Let &#39;pLower&#39; and &#39;pUpper&#39; denote the minimum and maximum price in the active</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5252</td>
                                    <td class="row-source"><pre>// liquidity interval, respectively, and define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5253</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5254</td>
                                    <td class="row-source"><pre>//  &#39;qUpper := log(pUpper / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5255</td>
                                    <td class="row-source"><pre>//  &#39;qLower := log(pLower / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5256</td>
                                    <td class="row-source"><pre>//  &#39;qSpacing := log(pUpper / pLower)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5257</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5258</td>
                                    <td class="row-source"><pre>// This 27 bytes memory space hosts &#39;outgoingMax&#39; which is a kernel parameter.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5259</td>
                                    <td class="row-source"><pre>// The &#39;X216&#39; representation of &#39;outgoingMax&#39; is defined as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5260</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5261</td>
                                    <td class="row-source"><pre>//                       - 8     / qSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5262</td>
                                    <td class="row-source"><pre>//    outgoingMax      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5263</td>
                                    <td class="row-source"><pre>//  &#39;------------- := ------- * |  e         k(h) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5264</td>
                                    <td class="row-source"><pre>//     2 ** 216          2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5265</td>
                                    <td class="row-source"><pre>//                             / 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5266</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5267</td>
                                    <td class="row-source"><pre>// &#39;outgoingMax&#39; is used frequently for calculating any amount of &#39;tag0&#39; and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5268</td>
                                    <td class="row-source"><pre>// &#39;tag1&#39;. Because of this, we calculate &#39;outgoingMax&#39; and its modular inverse</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5269</td>
                                    <td class="row-source"><pre>// at the time of initialization or anytime that the kernel is modified and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5270</td>
                                    <td class="row-source"><pre>// then we store the resulting values among the static parameters.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5271</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5272</td>
                                    <td class="row-source"><pre>// &#39;outgoingMax&#39; can be calculated with the following two equivalent formulas</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5273</td>
                                    <td class="row-source"><pre>// as well:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5274</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5275</td>
                                    <td class="row-source"><pre>//                       - 8 + qLower / 2     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5276</td>
                                    <td class="row-source"><pre>//    outgoingMax      e                     |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5277</td>
                                    <td class="row-source"><pre>//  &#39;------------- := -------------------- * |  e         k(h - qLower) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5278</td>
                                    <td class="row-source"><pre>//     2 ** 216                 2            |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5279</td>
                                    <td class="row-source"><pre>//                                          / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5280</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5281</td>
                                    <td class="row-source"><pre>//                       - 8 - qUpper / 2     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5282</td>
                                    <td class="row-source"><pre>//                     e                     |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5283</td>
                                    <td class="row-source"><pre>//                    -------------------- * |  e         k(qUpper - h) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5284</td>
                                    <td class="row-source"><pre>//                              2            |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5285</td>
                                    <td class="row-source"><pre>//                                          / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5286</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5287</td>
                                    <td class="row-source"><pre>// Notice that the above formulas are independent of the choice for &#39;qLower&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5288</td>
                                    <td class="row-source"><pre>// and &#39;qUpper&#39;, and they result in the same value as long as </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5289</td>
                                    <td class="row-source"><pre>// &#39;qUpper - qLower == qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5290</td>
                                    <td class="row-source"><pre>uint16 constant _outgoingMax_ = 1950;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5291</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5292</td>
                                    <td class="row-source"><pre>// This 32 bytes memory space hosts &#39;outgoingMaxModularInverse&#39; which is the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5293</td>
                                    <td class="row-source"><pre>// modular inverse of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5294</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5295</td>
                                    <td class="row-source"><pre>//    outgoingMax </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5296</td>
                                    <td class="row-source"><pre>//  &#39;-------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5297</td>
                                    <td class="row-source"><pre>//      2 ** n</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5298</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5299</td>
                                    <td class="row-source"><pre>// modulo &#39;2 ** 256&#39;, where &#39;n&#39; is the largest power of &#39;2&#39; that divides</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5300</td>
                                    <td class="row-source"><pre>// &#39;outgoingMax&#39;. This value is calculated at the time of initialization or</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5301</td>
                                    <td class="row-source"><pre>// anytime that the kernel function is modified.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5302</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5303</td>
                                    <td class="row-source"><pre>// Precalculation of &#39;outgoingMaxModularInverse&#39; facilitates division by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5304</td>
                                    <td class="row-source"><pre>// &#39;outgoingMax&#39; which is done frequently.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5305</td>
                                    <td class="row-source"><pre>uint16 constant _outgoingMaxModularInverse_ = 1977;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5306</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5307</td>
                                    <td class="row-source"><pre>// Let &#39;pLower&#39; and &#39;pUpper&#39; denote the minimum and maximum price in the active</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5308</td>
                                    <td class="row-source"><pre>// liquidity interval, respectively, and define</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5309</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5310</td>
                                    <td class="row-source"><pre>//  &#39;qUpper := log(pUpper / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5311</td>
                                    <td class="row-source"><pre>//  &#39;qLower := log(pLower / pOffset)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5312</td>
                                    <td class="row-source"><pre>//  &#39;qSpacing := log(pUpper / pLower)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5313</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5314</td>
                                    <td class="row-source"><pre>// This 27 bytes memory space hosts &#39;outgoingMax&#39; which is a kernel parameter.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5315</td>
                                    <td class="row-source"><pre>// The &#39;X216&#39; representation of &#39;outgoingMax&#39; is defined as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5316</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5317</td>
                                    <td class="row-source"><pre>//                       - 8 - qSpacing / 2     / qSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5318</td>
                                    <td class="row-source"><pre>//    incomingMax      e                       |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5319</td>
                                    <td class="row-source"><pre>//  &#39;------------- := ---------------------- * |  e         k(h) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5320</td>
                                    <td class="row-source"><pre>//     2 ** 216                 2              |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5321</td>
                                    <td class="row-source"><pre>//                                            / 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5322</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5323</td>
                                    <td class="row-source"><pre>// &#39;incomingMax&#39; is used for calculating the incoming amount as we cross an</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5324</td>
                                    <td class="row-source"><pre>// entire liquidity interval from &#39;qBack&#39; to &#39;qNext&#39;. Because of this, we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5325</td>
                                    <td class="row-source"><pre>// calculate &#39;incomingMax&#39; at the time of initialization or anytime that the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5326</td>
                                    <td class="row-source"><pre>// kernel is modified and then we store the resulting value among the static</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5327</td>
                                    <td class="row-source"><pre>// parameters.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5328</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5329</td>
                                    <td class="row-source"><pre>// &#39;incomingMax&#39; can be calculated with the following two equivalent formulas</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5330</td>
                                    <td class="row-source"><pre>// as well:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5331</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5332</td>
                                    <td class="row-source"><pre>//                       - 8 - qUpper / 2     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5333</td>
                                    <td class="row-source"><pre>//    incomingMax      e                     |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5334</td>
                                    <td class="row-source"><pre>//  &#39;------------- := -------------------- * |  e         k(h - qLower) dh</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5335</td>
                                    <td class="row-source"><pre>//     2 ** 216                 2            |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5336</td>
                                    <td class="row-source"><pre>//                                          / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5337</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5338</td>
                                    <td class="row-source"><pre>//                       - 8 + qLower / 2     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5339</td>
                                    <td class="row-source"><pre>//                     e                     |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5340</td>
                                    <td class="row-source"><pre>//                    -------------------- * |  e         k(qUpper - h) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5341</td>
                                    <td class="row-source"><pre>//                              2            |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5342</td>
                                    <td class="row-source"><pre>//                                          / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5343</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5344</td>
                                    <td class="row-source"><pre>// Notice that the above formulas are independent of the choice for &#39;qLower&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5345</td>
                                    <td class="row-source"><pre>// and &#39;qUpper&#39;, and they result in the same value as long as </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5346</td>
                                    <td class="row-source"><pre>// &#39;qUpper - qLower == qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5347</td>
                                    <td class="row-source"><pre>uint16 constant _incomingMax_ = 2009;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5348</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5349</td>
                                    <td class="row-source"><pre>// The content of the 6 bytes memory space which is pointed to by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5350</td>
                                    <td class="row-source"><pre>// &#39;_poolGrowthPortion_&#39; dictates the portion of the growth that goes to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5351</td>
                                    <td class="row-source"><pre>// pool owner followed by the protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5352</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5353</td>
                                    <td class="row-source"><pre>// The content of the 6 bytes memory space which is pointed to by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5354</td>
                                    <td class="row-source"><pre>// &#39;_maxPoolGrowthPortion_&#39; imposes a cap on the portion of the marginal growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5355</td>
                                    <td class="row-source"><pre>// that goes to the pool owner followed by the protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5356</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5357</td>
                                    <td class="row-source"><pre>// The content of the 6 bytes memory space which is pointed to by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5358</td>
                                    <td class="row-source"><pre>// &#39;_protocolGrowthPortion_&#39; dictates the portion of the growth that goes to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5359</td>
                                    <td class="row-source"><pre>// the protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5360</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5361</td>
                                    <td class="row-source"><pre>// &#39;maxPoolGrowthPortion&#39; and &#39;protocolGrowthPortion&#39; are set by the protocol</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5362</td>
                                    <td class="row-source"><pre>// slot or the sentinel contract. Any address can invoke a function to sync</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5363</td>
                                    <td class="row-source"><pre>// these two values with the global portions.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5364</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5365</td>
                                    <td class="row-source"><pre>// This value is set by the protocol slot or the sentinel contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5366</td>
                                    <td class="row-source"><pre>// Any address can invoke a function to sync this value with the global</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5367</td>
                                    <td class="row-source"><pre>// portion.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5368</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5369</td>
                                    <td class="row-source"><pre>// Let &#39;[qLower, qUpper]&#39; represent the active liquidity interval. As part of a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5370</td>
                                    <td class="row-source"><pre>// swap, assume that the price is moved from &#39;qCurrent&#39; to &#39;qTarget&#39; within</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5371</td>
                                    <td class="row-source"><pre>// &#39;[qLower, qUpper]&#39;. Define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5372</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5373</td>
                                    <td class="row-source"><pre>//                                - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5374</td>
                                    <td class="row-source"><pre>//    integral0Incremented      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5375</td>
                                    <td class="row-source"><pre>//  &#39;---------------------- := ------- * |  e         k(w(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5376</td>
                                    <td class="row-source"><pre>//          2 ** 216              2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5377</td>
                                    <td class="row-source"><pre>//                                      / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5378</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5379</td>
                                    <td class="row-source"><pre>//                                - 8     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5380</td>
                                    <td class="row-source"><pre>//    integral1Incremented      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5381</td>
                                    <td class="row-source"><pre>//  &#39;---------------------- := ------- * |  e         k(w(h)) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5382</td>
                                    <td class="row-source"><pre>//          2 ** 216              2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5383</td>
                                    <td class="row-source"><pre>//                                      / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5384</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5385</td>
                                    <td class="row-source"><pre>// Now, assume that the curve sequence is updated and the function &#39;w&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5386</td>
                                    <td class="row-source"><pre>// transformed into a new function &#39;wAmended&#39; which is constructed based on the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5387</td>
                                    <td class="row-source"><pre>// updated curve sequence. Define:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5388</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5389</td>
                                    <td class="row-source"><pre>//                            - 8     / qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5390</td>
                                    <td class="row-source"><pre>//    integral0Amended      e        |    - h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5391</td>
                                    <td class="row-source"><pre>//  &#39;------------------ := ------- * |  e         k(wAmended(h)) dh&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5392</td>
                                    <td class="row-source"><pre>//        2 ** 216            2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5393</td>
                                    <td class="row-source"><pre>//                                  / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5394</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5395</td>
                                    <td class="row-source"><pre>//                            - 8     / qTarget</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5396</td>
                                    <td class="row-source"><pre>//    integral1Amended      e        |    + h / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5397</td>
                                    <td class="row-source"><pre>//  &#39;------------------ := ------- * |  e         k(wAmended(h)) dh&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5398</td>
                                    <td class="row-source"><pre>//        2 ** 216            2      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5399</td>
                                    <td class="row-source"><pre>//                                  / qLower</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5400</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5401</td>
                                    <td class="row-source"><pre>// Then we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5402</td>
                                    <td class="row-source"><pre>//                              integral0Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5403</td>
                                    <td class="row-source"><pre>//  &#39;growthAmended := growth * ----------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5404</td>
                                    <td class="row-source"><pre>//                                integral0Amended</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5405</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5406</td>
                                    <td class="row-source"><pre>//                              integral1Incremented</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5407</td>
                                    <td class="row-source"><pre>//                 == growth * ----------------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5408</td>
                                    <td class="row-source"><pre>//                                integral1Amended</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5409</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5410</td>
                                    <td class="row-source"><pre>// Now, the marginal growth with respect to &#39;tag0&#39; and &#39;tag1&#39; can be defined</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5411</td>
                                    <td class="row-source"><pre>// as:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5412</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5413</td>
                                    <td class="row-source"><pre>//  &#39;marginalGrowthOfTag0 := sqrtInverseOffset * sharesTotal * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5414</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5415</td>
                                    <td class="row-source"><pre>//                            growthAmended - growth     integral0Amended</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5416</td>
                                    <td class="row-source"><pre>//                           ------------------------ * ------------------&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5417</td>
                                    <td class="row-source"><pre>//                                    2 ** 111             outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5418</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5419</td>
                                    <td class="row-source"><pre>//  &#39;marginalGrowthOfTag1 := sqrtOffset * sharesTotal * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5420</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5421</td>
                                    <td class="row-source"><pre>//                            growthAmended - growth     integral1Amended</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5422</td>
                                    <td class="row-source"><pre>//                           ------------------------ * ------------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5423</td>
                                    <td class="row-source"><pre>//                                    2 ** 111             outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5424</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5425</td>
                                    <td class="row-source"><pre>// Hence, as a result of this swap, the amount of &#39;tag0&#39; that goes to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5426</td>
                                    <td class="row-source"><pre>// protocol is equal to:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5427</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5428</td>
                                    <td class="row-source"><pre>//    protocolGrowthPortion</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5429</td>
                                    <td class="row-source"><pre>//  &#39;----------------------- * marginalGrowthOfTag0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5430</td>
                                    <td class="row-source"><pre>//           2 ** 47</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5431</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5432</td>
                                    <td class="row-source"><pre>// and the amount of &#39;tag1&#39; that goes to the protocol is equal to:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5433</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5434</td>
                                    <td class="row-source"><pre>//    protocolGrowthPortion</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5435</td>
                                    <td class="row-source"><pre>//  &#39;----------------------- * marginalGrowthOfTag1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5436</td>
                                    <td class="row-source"><pre>//           2 ** 47</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5437</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5438</td>
                                    <td class="row-source"><pre>// Additionally, the amount of &#39;tag0&#39; that goes to the pool owner is equal to:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5439</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5440</td>
                                    <td class="row-source"><pre>//    min(poolGrowthPortion, maxPoolGrowthPortion)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5441</td>
                                    <td class="row-source"><pre>//  &#39;---------------------------------------------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5442</td>
                                    <td class="row-source"><pre>//                      2 ** 47</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5443</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5444</td>
                                    <td class="row-source"><pre>//    oneX47 - protocolGrowthPortion</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5445</td>
                                    <td class="row-source"><pre>//   -------------------------------- * marginalGrowthOfTag0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5446</td>
                                    <td class="row-source"><pre>//               2 ** 47</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5447</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5448</td>
                                    <td class="row-source"><pre>// and the amount of &#39;tag1&#39; that goes to the pool owner is equal to:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5449</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5450</td>
                                    <td class="row-source"><pre>//    min(poolGrowthPortion, maxPoolGrowthPortion)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5451</td>
                                    <td class="row-source"><pre>//  &#39;---------------------------------------------- * </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5452</td>
                                    <td class="row-source"><pre>//                      2 ** 47</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5453</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5454</td>
                                    <td class="row-source"><pre>//    oneX47 - protocolGrowthPortion</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5455</td>
                                    <td class="row-source"><pre>//   -------------------------------- * marginalGrowthOfTag1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5456</td>
                                    <td class="row-source"><pre>//               2 ** 47</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5457</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5458</td>
                                    <td class="row-source"><pre>uint16 constant _poolGrowthPortion_ = 2036;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5459</td>
                                    <td class="row-source"><pre>uint16 constant _maxPoolGrowthPortion_ = 2042;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5460</td>
                                    <td class="row-source"><pre>uint16 constant _protocolGrowthPortion_ = 2048;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5461</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5462</td>
                                    <td class="row-source"><pre>// The number of members for the pending kernel. Once a new kernel is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5463</td>
                                    <td class="row-source"><pre>// introduced, it remains pending until transition to a new liquidity interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5464</td>
                                    <td class="row-source"><pre>// This value is an indicator for whether there exists a pending kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5465</td>
                                    <td class="row-source"><pre>// This value is used to ensure that a sufficient amount of space is reserved</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5466</td>
                                    <td class="row-source"><pre>// in memory for kernel, in case the pending kernel needs to be activated in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5467</td>
                                    <td class="row-source"><pre>// the middle of a swap, i.e., read from the new storage smart contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5468</td>
                                    <td class="row-source"><pre>uint16 constant _pendingKernelLength_ = 2054;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5469</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">5470</td>
                                    <td class="row-source"><pre>uint16 constant _endOfStaticParams_ = 2056;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5471</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5472</td>
                                    <td class="row-source"><pre>// Modify Position Parameters</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5473</td>
                                    <td class="row-source"><pre>// ----------------------------------------------------------------------------</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5474</td>
                                    <td class="row-source"><pre>// The following memory pointers host the inputs and the resulting outputs of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5475</td>
                                    <td class="row-source"><pre>// the method &#39;modifyPosition&#39;. An LP may choose any consecutive range of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5476</td>
                                    <td class="row-source"><pre>// liquidity intervals to deposit their liquidity. By doing so, the LP acquires</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5477</td>
                                    <td class="row-source"><pre>// a number of shares in every liquidity interval that belongs to the given</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5478</td>
                                    <td class="row-source"><pre>// range. The shares can be used later to withdraw liquidity along with any</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5479</td>
                                    <td class="row-source"><pre>// accumulated growth which is accrued as a result of swap and donate actions.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5480</td>
                                    <td class="row-source"><pre>uint16 constant _modifyPositionInput_ = 248;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5481</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5482</td>
                                    <td class="row-source"><pre>// Every LP position is characterized by two prices &#39;pMin&#39; and &#39;pMax&#39;. These</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5483</td>
                                    <td class="row-source"><pre>// two prices, respectively, correspond to the left and the right boundaries of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5484</td>
                                    <td class="row-source"><pre>// the consecutive range in which the LP intends to deposit or withdraw</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5485</td>
                                    <td class="row-source"><pre>// liquidity. The following two 8 bytes memory spaces, respectively, host:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5486</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5487</td>
                                    <td class="row-source"><pre>//  &#39;(2 ** 59) * (16 + log(pMin / pOffset))&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5488</td>
                                    <td class="row-source"><pre>//  &#39;(2 ** 59) * (16 + log(pMax / pOffset))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5489</td>
                                    <td class="row-source"><pre>uint16 constant _logPriceMinOffsetted_ = 248;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5490</td>
                                    <td class="row-source"><pre>uint16 constant _logPriceMaxOffsetted_ = 256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5491</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5492</td>
                                    <td class="row-source"><pre>// This 32 bytes memory space hosts the number of shares to be added (positive)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5493</td>
                                    <td class="row-source"><pre>// or removed (negative).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5494</td>
                                    <td class="row-source"><pre>uint16 constant _shares_ = 264;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5495</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5496</td>
                                    <td class="row-source"><pre>// The following two 32 bytes memory spaces, respectively, host:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5497</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5498</td>
                                    <td class="row-source"><pre>//  &#39;logPriceMin := (2 ** 59) * log(pMin)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5499</td>
                                    <td class="row-source"><pre>//  &#39;logPriceMax := (2 ** 59) * log(pMax)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5500</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5501</td>
                                    <td class="row-source"><pre>// Both &#39;logPriceMin&#39; and &#39;logPriceMax&#39; must be equal to the active interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5502</td>
                                    <td class="row-source"><pre>// boundaries modulo &#39;qSpacing&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5503</td>
                                    <td class="row-source"><pre>uint16 constant _logPriceMin_ = 296;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5504</td>
                                    <td class="row-source"><pre>uint16 constant _logPriceMax_ = 328;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5505</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5506</td>
                                    <td class="row-source"><pre>// The amount of &#39;tag0&#39; to be added (positive) or removed (negative) in &#39;X127&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5507</td>
                                    <td class="row-source"><pre>// representation, as a result of modifyPosition.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5508</td>
                                    <td class="row-source"><pre>uint16 constant _positionAmount0_ = 360;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5509</td>
                                    <td class="row-source"><pre>// The amount of &#39;tag1&#39; to be added (positive) or removed (negative) in &#39;X127&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5510</td>
                                    <td class="row-source"><pre>// representation, as a result of modifyPosition.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5511</td>
                                    <td class="row-source"><pre>uint16 constant _positionAmount1_ = 392;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5512</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5513</td>
                                    <td class="row-source"><pre>uint16 constant _endOfModifyPosition_ = 424;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5514</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5515</td>
                                    <td class="row-source"><pre>////////////////////////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5516</td>
                                    <td class="row-source"><pre>// The remainder of this script contains automatically generated getter and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5517</td>
                                    <td class="row-source"><pre>// setter functions for the parameters introduced above.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5518</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5519</td>
                                    <td class="row-source"><pre>function getFreeMemoryPointer() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5520</td>
                                    <td class="row-source"><pre>  uint256 freeMemoryPointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5521</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5522</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5523</td>
                                    <td class="row-source"><pre>    freeMemoryPointer := mload(_freeMemoryPointer_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5524</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5525</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5526</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5527</td>
                                    <td class="row-source"><pre>function setFreeMemoryPointer(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5528</td>
                                    <td class="row-source"><pre>  uint256 freeMemoryPointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5529</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5530</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5531</td>
                                    <td class="row-source"><pre>    mstore(_freeMemoryPointer_, freeMemoryPointer)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5532</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5533</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5534</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5535</td>
                                    <td class="row-source"><pre>function setHookSelector(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5536</td>
                                    <td class="row-source"><pre>  uint32 hookSelector</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5537</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5538</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5539</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5540</td>
                                    <td class="row-source"><pre>      _hookSelector_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5541</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5542</td>
                                    <td class="row-source"><pre>        shl(224, hookSelector),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5543</td>
                                    <td class="row-source"><pre>        shr(32, mload(add(_hookSelector_, 4)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5544</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5545</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5546</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5547</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5548</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5549</td>
                                    <td class="row-source"><pre>function setHookInputHeader(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5550</td>
                                    <td class="row-source"><pre>  uint256 hookInputHeader</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5551</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5552</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5553</td>
                                    <td class="row-source"><pre>    mstore(_hookInputHeader_, hookInputHeader)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5554</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5555</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5556</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5557</td>
                                    <td class="row-source"><pre>function getHookInputByteCount() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5558</td>
                                    <td class="row-source"><pre>  uint256 hookInputByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5559</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">5560</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5561</td>
                                    <td class="row-source"><pre>    hookInputByteCount := mload(_hookInputByteCount_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5562</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5563</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5564</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5565</td>
                                    <td class="row-source"><pre>function setHookInputByteCount(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5566</td>
                                    <td class="row-source"><pre>  uint256 hookInputByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5567</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5568</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5569</td>
                                    <td class="row-source"><pre>    mstore(_hookInputByteCount_, hookInputByteCount)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5570</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5571</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5572</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5573</td>
                                    <td class="row-source"><pre>function setMsgSender(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5574</td>
                                    <td class="row-source"><pre>  address msgSender</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5575</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5576</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5577</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5578</td>
                                    <td class="row-source"><pre>      _msgSender_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5579</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5580</td>
                                    <td class="row-source"><pre>        shl(96, msgSender),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5581</td>
                                    <td class="row-source"><pre>        shr(160, mload(add(_msgSender_, 20)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5582</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5583</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5584</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5585</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5586</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5587</td>
                                    <td class="row-source"><pre>function getPoolId() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5588</td>
                                    <td class="row-source"><pre>  uint256 poolId</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5589</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5590</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5591</td>
                                    <td class="row-source"><pre>    poolId := mload(_poolId_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5592</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5593</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5594</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5595</td>
                                    <td class="row-source"><pre>function setPoolId(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5596</td>
                                    <td class="row-source"><pre>  uint256 poolId</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5597</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5598</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5599</td>
                                    <td class="row-source"><pre>    mstore(_poolId_, poolId)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5600</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5601</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5602</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5603</td>
                                    <td class="row-source"><pre>function getCrossThreshold() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5604</td>
                                    <td class="row-source"><pre>  uint256 crossThreshold</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5605</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5606</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5607</td>
                                    <td class="row-source"><pre>    crossThreshold := shr(128, mload(_crossThreshold_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5608</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5609</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5610</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">5611</td>
                                    <td class="row-source"><pre>function setCrossThreshold(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5612</td>
                                    <td class="row-source"><pre>  uint256 crossThreshold</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5613</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">5614</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5615</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5616</td>
                                    <td class="row-source"><pre>      _crossThreshold_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5617</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5618</td>
                                    <td class="row-source"><pre>        shl(128, crossThreshold),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5619</td>
                                    <td class="row-source"><pre>        shr(128, mload(add(_crossThreshold_, 16)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5620</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5621</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5622</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5623</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5624</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5625</td>
                                    <td class="row-source"><pre>function getAmountSpecified() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5626</td>
                                    <td class="row-source"><pre>  X127 amountSpecified</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5627</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5628</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5629</td>
                                    <td class="row-source"><pre>    amountSpecified := mload(_amountSpecified_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5630</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5631</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5632</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5633</td>
                                    <td class="row-source"><pre>function setAmountSpecified(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5634</td>
                                    <td class="row-source"><pre>  X127 amountSpecified</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5635</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5636</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5637</td>
                                    <td class="row-source"><pre>    mstore(_amountSpecified_, amountSpecified)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5638</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5639</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5640</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5641</td>
                                    <td class="row-source"><pre>function getLogPriceLimit() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5642</td>
                                    <td class="row-source"><pre>  X59 logPriceLimit</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5643</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5644</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5645</td>
                                    <td class="row-source"><pre>    logPriceLimit := mload(_logPriceLimit_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5646</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5647</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5648</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5649</td>
                                    <td class="row-source"><pre>function setLogPriceLimit(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5650</td>
                                    <td class="row-source"><pre>  X59 logPriceLimit</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5651</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5652</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5653</td>
                                    <td class="row-source"><pre>    mstore(_logPriceLimit_, logPriceLimit)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5654</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5655</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5656</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5657</td>
                                    <td class="row-source"><pre>function getLogPriceLimitOffsetted() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5658</td>
                                    <td class="row-source"><pre>  X59 logPriceLimitOffsetted</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5659</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5660</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5661</td>
                                    <td class="row-source"><pre>    logPriceLimitOffsetted := shr(192, mload(_logPriceLimitOffsetted_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5662</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5663</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5664</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5665</td>
                                    <td class="row-source"><pre>function setLogPriceLimitOffsetted(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5666</td>
                                    <td class="row-source"><pre>  X59 logPriceLimitOffsetted</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5667</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5668</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5669</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5670</td>
                                    <td class="row-source"><pre>      _logPriceLimitOffsetted_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5671</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5672</td>
                                    <td class="row-source"><pre>        shl(192, logPriceLimitOffsetted),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5673</td>
                                    <td class="row-source"><pre>        shr(64, mload(add(_logPriceLimitOffsetted_, 8)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5674</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5675</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5676</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5677</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5678</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5679</td>
                                    <td class="row-source"><pre>function getZeroForOne() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5680</td>
                                    <td class="row-source"><pre>  bool zeroForOne</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5681</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5682</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5683</td>
                                    <td class="row-source"><pre>    zeroForOne := shr(255, mload(_zeroForOne_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5684</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5685</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5686</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5687</td>
                                    <td class="row-source"><pre>function setZeroForOne(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5688</td>
                                    <td class="row-source"><pre>  bool zeroForOne</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5689</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5690</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5691</td>
                                    <td class="row-source"><pre>    mstore8(_zeroForOne_, mul(0xFF, zeroForOne))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5692</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5693</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5694</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5695</td>
                                    <td class="row-source"><pre>function getExactInput() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5696</td>
                                    <td class="row-source"><pre>  bool exactInput</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5697</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5698</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5699</td>
                                    <td class="row-source"><pre>    exactInput := shr(255, mload(_exactInput_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5700</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5701</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5702</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5703</td>
                                    <td class="row-source"><pre>function setExactInput(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5704</td>
                                    <td class="row-source"><pre>  bool exactInput</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5705</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5706</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5707</td>
                                    <td class="row-source"><pre>    mstore8(_exactInput_, mul(0xFF, exactInput))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5708</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5709</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5710</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5711</td>
                                    <td class="row-source"><pre>function getIntegralLimit() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5712</td>
                                    <td class="row-source"><pre>  X216 integralLimit</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5713</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5714</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5715</td>
                                    <td class="row-source"><pre>    integralLimit := shr(40, mload(_integralLimit_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5716</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5717</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5718</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5719</td>
                                    <td class="row-source"><pre>function setIntegralLimit(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5720</td>
                                    <td class="row-source"><pre>  X216 integralLimit</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5721</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5722</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5723</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5724</td>
                                    <td class="row-source"><pre>      _integralLimit_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5725</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5726</td>
                                    <td class="row-source"><pre>        shl(40, integralLimit),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5727</td>
                                    <td class="row-source"><pre>        shr(216, mload(add(_integralLimit_, 27)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5728</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5729</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5730</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5731</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5732</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5733</td>
                                    <td class="row-source"><pre>function getIntegralLimitInterval() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5734</td>
                                    <td class="row-source"><pre>  X216 integralLimitInterval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5735</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5736</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5737</td>
                                    <td class="row-source"><pre>    integralLimitInterval := shr(40, mload(_integralLimitInterval_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5738</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5739</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5740</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5741</td>
                                    <td class="row-source"><pre>function setIntegralLimitInterval(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5742</td>
                                    <td class="row-source"><pre>  X216 integralLimitInterval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5743</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5744</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5745</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5746</td>
                                    <td class="row-source"><pre>      _integralLimitInterval_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5747</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5748</td>
                                    <td class="row-source"><pre>        shl(40, integralLimitInterval),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5749</td>
                                    <td class="row-source"><pre>        shr(216, mload(add(_integralLimitInterval_, 27)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5750</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5751</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5752</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5753</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5754</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5755</td>
                                    <td class="row-source"><pre>function getAmount0() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5756</td>
                                    <td class="row-source"><pre>  X127 amount0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5757</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5758</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5759</td>
                                    <td class="row-source"><pre>    amount0 := mload(_amount0_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5760</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5761</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5762</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5763</td>
                                    <td class="row-source"><pre>function setAmount0(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5764</td>
                                    <td class="row-source"><pre>  X127 amount0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5765</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5766</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5767</td>
                                    <td class="row-source"><pre>    mstore(_amount0_, amount0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5768</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5769</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5770</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5771</td>
                                    <td class="row-source"><pre>function getAmount1() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5772</td>
                                    <td class="row-source"><pre>  X127 amount1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5773</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5774</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5775</td>
                                    <td class="row-source"><pre>    amount1 := mload(_amount1_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5776</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5777</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5778</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5779</td>
                                    <td class="row-source"><pre>function setAmount1(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5780</td>
                                    <td class="row-source"><pre>  X127 amount1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5781</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5782</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5783</td>
                                    <td class="row-source"><pre>    mstore(_amount1_, amount1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5784</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5785</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5786</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5787</td>
                                    <td class="row-source"><pre>function getBackGrowthMultiplier() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5788</td>
                                    <td class="row-source"><pre>  X208 backGrowthMultiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5789</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5790</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5791</td>
                                    <td class="row-source"><pre>    backGrowthMultiplier := mload(_backGrowthMultiplier_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5792</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5793</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5794</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5795</td>
                                    <td class="row-source"><pre>function setBackGrowthMultiplier(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5796</td>
                                    <td class="row-source"><pre>  X208 backGrowthMultiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5797</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5798</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5799</td>
                                    <td class="row-source"><pre>    mstore(_backGrowthMultiplier_, backGrowthMultiplier)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5800</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5801</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5802</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5803</td>
                                    <td class="row-source"><pre>function getNextGrowthMultiplier() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5804</td>
                                    <td class="row-source"><pre>  X208 nextGrowthMultiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5805</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5806</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5807</td>
                                    <td class="row-source"><pre>    nextGrowthMultiplier := mload(_nextGrowthMultiplier_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5808</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5809</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5810</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5811</td>
                                    <td class="row-source"><pre>function setNextGrowthMultiplier(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5812</td>
                                    <td class="row-source"><pre>  X208 nextGrowthMultiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5813</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5814</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5815</td>
                                    <td class="row-source"><pre>    mstore(_nextGrowthMultiplier_, nextGrowthMultiplier)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5816</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5817</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5818</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5819</td>
                                    <td class="row-source"><pre>function getDirection() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5820</td>
                                    <td class="row-source"><pre>  bool direction</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5821</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5822</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5823</td>
                                    <td class="row-source"><pre>    direction := shr(255, mload(_direction_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5824</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5825</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5826</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5827</td>
                                    <td class="row-source"><pre>function setDirection(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5828</td>
                                    <td class="row-source"><pre>  bool direction</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5829</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5830</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5831</td>
                                    <td class="row-source"><pre>    mstore8(_direction_, mul(0xFF, direction))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5832</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5833</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5834</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5835</td>
                                    <td class="row-source"><pre>function getIndexCurve() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5836</td>
                                    <td class="row-source"><pre>  Index indexCurve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5837</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5838</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5839</td>
                                    <td class="row-source"><pre>    indexCurve := shr(240, mload(_indexCurve_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5840</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5841</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5842</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5843</td>
                                    <td class="row-source"><pre>function setIndexCurve(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5844</td>
                                    <td class="row-source"><pre>  Index indexCurve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5845</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5846</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5847</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5848</td>
                                    <td class="row-source"><pre>      _indexCurve_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5849</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5850</td>
                                    <td class="row-source"><pre>        shl(240, indexCurve),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5851</td>
                                    <td class="row-source"><pre>        shr(16, mload(add(_indexCurve_, 2)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5852</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5853</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5854</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5855</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5856</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5857</td>
                                    <td class="row-source"><pre>function getLogPriceLimitOffsettedWithinInterval() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5858</td>
                                    <td class="row-source"><pre>  X59 logPriceLimitOffsettedWithinInterval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5859</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5860</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5861</td>
                                    <td class="row-source"><pre>    logPriceLimitOffsettedWithinInterval := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5862</td>
                                    <td class="row-source"><pre>      shr(192, mload(_logPriceLimitOffsettedWithinInterval_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5863</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5864</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5865</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5866</td>
                                    <td class="row-source"><pre>function setLogPriceLimitOffsettedWithinInterval(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5867</td>
                                    <td class="row-source"><pre>  X59 logPriceLimitOffsettedWithinInterval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5868</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5869</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5870</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5871</td>
                                    <td class="row-source"><pre>      _logPriceLimitOffsettedWithinInterval_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5872</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5873</td>
                                    <td class="row-source"><pre>        shl(192, logPriceLimitOffsettedWithinInterval),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5874</td>
                                    <td class="row-source"><pre>        shr(64, mload(add(_logPriceLimitOffsettedWithinInterval_, 8)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5875</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5876</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5877</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5878</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5879</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5880</td>
                                    <td class="row-source"><pre>function getAccrued0() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5881</td>
                                    <td class="row-source"><pre>  X127 accrued0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5882</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5883</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5884</td>
                                    <td class="row-source"><pre>    accrued0 := mload(_accrued0_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5885</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5886</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5887</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5888</td>
                                    <td class="row-source"><pre>function setAccrued0(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5889</td>
                                    <td class="row-source"><pre>  X127 accrued0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5890</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5891</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5892</td>
                                    <td class="row-source"><pre>    mstore(_accrued0_, accrued0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5893</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5894</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5895</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5896</td>
                                    <td class="row-source"><pre>function getAccrued1() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5897</td>
                                    <td class="row-source"><pre>  X127 accrued1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5898</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5899</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5900</td>
                                    <td class="row-source"><pre>    accrued1 := mload(_accrued1_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5901</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5902</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5903</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5904</td>
                                    <td class="row-source"><pre>function setAccrued1(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5905</td>
                                    <td class="row-source"><pre>  X127 accrued1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5906</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5907</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5908</td>
                                    <td class="row-source"><pre>    mstore(_accrued1_, accrued1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5909</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5910</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5911</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5912</td>
                                    <td class="row-source"><pre>function getPoolRatio0() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5913</td>
                                    <td class="row-source"><pre>  X23 poolRatio0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5914</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5915</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5916</td>
                                    <td class="row-source"><pre>    poolRatio0 := shr(232, mload(_poolRatio0_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5917</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5918</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5919</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5920</td>
                                    <td class="row-source"><pre>function setPoolRatio0(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5921</td>
                                    <td class="row-source"><pre>  X23 poolRatio0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5922</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5923</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5924</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5925</td>
                                    <td class="row-source"><pre>      _poolRatio0_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5926</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5927</td>
                                    <td class="row-source"><pre>        shl(232, poolRatio0),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5928</td>
                                    <td class="row-source"><pre>        shr(24, mload(add(_poolRatio0_, 3)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5929</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5930</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5931</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5932</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5933</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5934</td>
                                    <td class="row-source"><pre>function getPoolRatio1() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5935</td>
                                    <td class="row-source"><pre>  X23 poolRatio1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5936</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5937</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5938</td>
                                    <td class="row-source"><pre>    poolRatio1 := shr(232, mload(_poolRatio1_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5939</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5940</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5941</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5942</td>
                                    <td class="row-source"><pre>function setPoolRatio1(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5943</td>
                                    <td class="row-source"><pre>  X23 poolRatio1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5944</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5945</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5946</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5947</td>
                                    <td class="row-source"><pre>      _poolRatio1_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5948</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5949</td>
                                    <td class="row-source"><pre>        shl(232, poolRatio1),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5950</td>
                                    <td class="row-source"><pre>        shr(24, mload(add(_poolRatio1_, 3)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5951</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5952</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5953</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5954</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5955</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5956</td>
                                    <td class="row-source"><pre>function getKernel() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5957</td>
                                    <td class="row-source"><pre>  Kernel kernel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5958</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5959</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5960</td>
                                    <td class="row-source"><pre>    kernel := mload(_kernel_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5961</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5962</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5963</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">5964</td>
                                    <td class="row-source"><pre>function setKernel(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5965</td>
                                    <td class="row-source"><pre>  Kernel kernel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5966</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">5967</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5968</td>
                                    <td class="row-source"><pre>    mstore(_kernel_, kernel)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5969</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5970</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5971</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5972</td>
                                    <td class="row-source"><pre>function getCurve() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5973</td>
                                    <td class="row-source"><pre>  Curve curve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5974</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5975</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5976</td>
                                    <td class="row-source"><pre>    curve := mload(_curve_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5977</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5978</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5979</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5980</td>
                                    <td class="row-source"><pre>function setCurve(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5981</td>
                                    <td class="row-source"><pre>  Curve curve</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5982</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5983</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5984</td>
                                    <td class="row-source"><pre>    mstore(_curve_, curve)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5985</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5986</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5987</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5988</td>
                                    <td class="row-source"><pre>function getHookData() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5989</td>
                                    <td class="row-source"><pre>  uint256 hookData</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5990</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5991</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5992</td>
                                    <td class="row-source"><pre>    hookData := mload(_hookData_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5993</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5994</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5995</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5996</td>
                                    <td class="row-source"><pre>function setHookData(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5997</td>
                                    <td class="row-source"><pre>  uint256 hookData</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5998</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">5999</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6000</td>
                                    <td class="row-source"><pre>    mstore(_hookData_, hookData)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6001</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6002</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6003</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6004</td>
                                    <td class="row-source"><pre>function getKernelLength() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6005</td>
                                    <td class="row-source"><pre>  Index kernelLength</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6006</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6007</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6008</td>
                                    <td class="row-source"><pre>    kernelLength := shr(240, mload(_kernelLength_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6009</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6010</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6011</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6012</td>
                                    <td class="row-source"><pre>function setKernelLength(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6013</td>
                                    <td class="row-source"><pre>  Index kernelLength</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6014</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6015</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6016</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6017</td>
                                    <td class="row-source"><pre>      _kernelLength_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6018</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6019</td>
                                    <td class="row-source"><pre>        shl(240, kernelLength),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6020</td>
                                    <td class="row-source"><pre>        shr(16, mload(add(_kernelLength_, 2)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6021</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6022</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6023</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6024</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6025</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6026</td>
                                    <td class="row-source"><pre>function getCurveLength() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6027</td>
                                    <td class="row-source"><pre>  Index curveLength</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6028</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6029</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6030</td>
                                    <td class="row-source"><pre>    curveLength := shr(240, mload(_curveLength_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6031</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6032</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6033</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6034</td>
                                    <td class="row-source"><pre>function setCurveLength(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6035</td>
                                    <td class="row-source"><pre>  Index curveLength</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6036</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6037</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6038</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6039</td>
                                    <td class="row-source"><pre>      _curveLength_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6040</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6041</td>
                                    <td class="row-source"><pre>        shl(240, curveLength),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6042</td>
                                    <td class="row-source"><pre>        shr(16, mload(add(_curveLength_, 2)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6043</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6044</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6045</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6046</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6047</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6048</td>
                                    <td class="row-source"><pre>function getHookDataByteCount() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6049</td>
                                    <td class="row-source"><pre>  uint16 hookDataByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6050</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6051</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6052</td>
                                    <td class="row-source"><pre>    hookDataByteCount := shr(240, mload(_hookDataByteCount_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6053</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6054</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6055</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">6056</td>
                                    <td class="row-source"><pre>function setHookDataByteCount(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6057</td>
                                    <td class="row-source"><pre>  uint16 hookDataByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6058</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">6059</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6060</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6061</td>
                                    <td class="row-source"><pre>      _hookDataByteCount_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6062</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6063</td>
                                    <td class="row-source"><pre>        shl(240, hookDataByteCount),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6064</td>
                                    <td class="row-source"><pre>        shr(16, mload(add(_hookDataByteCount_, 2)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6065</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6066</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6067</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6068</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6069</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6070</td>
                                    <td class="row-source"><pre>function getStaticParamsStoragePointerExtension() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6071</td>
                                    <td class="row-source"><pre>  uint256 staticParamsStoragePointerExtension</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6072</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6073</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6074</td>
                                    <td class="row-source"><pre>    staticParamsStoragePointerExtension := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6075</td>
                                    <td class="row-source"><pre>      mload(_staticParamsStoragePointerExtension_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6076</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6077</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6078</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6079</td>
                                    <td class="row-source"><pre>function setStaticParamsStoragePointerExtension(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6080</td>
                                    <td class="row-source"><pre>  uint256 staticParamsStoragePointerExtension</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6081</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6082</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6083</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6084</td>
                                    <td class="row-source"><pre>      _staticParamsStoragePointerExtension_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6085</td>
                                    <td class="row-source"><pre>      staticParamsStoragePointerExtension</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6086</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6087</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6088</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6089</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6090</td>
                                    <td class="row-source"><pre>function getGrowth() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6091</td>
                                    <td class="row-source"><pre>  X111 growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6092</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6093</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6094</td>
                                    <td class="row-source"><pre>    growth := shr(128, mload(_growth_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6095</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6096</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6097</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6098</td>
                                    <td class="row-source"><pre>function setGrowth(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6099</td>
                                    <td class="row-source"><pre>  X111 growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6100</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6101</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6102</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6103</td>
                                    <td class="row-source"><pre>      _growth_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6104</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6105</td>
                                    <td class="row-source"><pre>        shl(128, growth),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6106</td>
                                    <td class="row-source"><pre>        shr(128, mload(add(_growth_, 16)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6107</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6108</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6109</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6110</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6111</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6112</td>
                                    <td class="row-source"><pre>function getIntegral0() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6113</td>
                                    <td class="row-source"><pre>  X216 integral0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6114</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6115</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6116</td>
                                    <td class="row-source"><pre>    integral0 := shr(40, mload(_integral0_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6117</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6118</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6119</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6120</td>
                                    <td class="row-source"><pre>function setIntegral0(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6121</td>
                                    <td class="row-source"><pre>  X216 integral0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6122</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6123</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6124</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6125</td>
                                    <td class="row-source"><pre>      _integral0_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6126</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6127</td>
                                    <td class="row-source"><pre>        shl(40, integral0),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6128</td>
                                    <td class="row-source"><pre>        shr(216, mload(add(_integral0_, 27)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6129</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6130</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6131</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6132</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6133</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6134</td>
                                    <td class="row-source"><pre>function getIntegral1() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6135</td>
                                    <td class="row-source"><pre>  X216 integral1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6136</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6137</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6138</td>
                                    <td class="row-source"><pre>    integral1 := shr(40, mload(_integral1_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6139</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6140</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6141</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6142</td>
                                    <td class="row-source"><pre>function setIntegral1(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6143</td>
                                    <td class="row-source"><pre>  X216 integral1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6144</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6145</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6146</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6147</td>
                                    <td class="row-source"><pre>      _integral1_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6148</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6149</td>
                                    <td class="row-source"><pre>        shl(40, integral1),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6150</td>
                                    <td class="row-source"><pre>        shr(216, mload(add(_integral1_, 27)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6151</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6152</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6153</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6154</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6155</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6156</td>
                                    <td class="row-source"><pre>function getSharesTotal() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6157</td>
                                    <td class="row-source"><pre>  uint256 sharesTotal</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6158</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6159</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6160</td>
                                    <td class="row-source"><pre>    sharesTotal := shr(128, mload(_sharesTotal_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6161</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6162</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6163</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6164</td>
                                    <td class="row-source"><pre>function setSharesTotal(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6165</td>
                                    <td class="row-source"><pre>  uint256 sharesTotal</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6166</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6167</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6168</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6169</td>
                                    <td class="row-source"><pre>      _sharesTotal_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6170</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6171</td>
                                    <td class="row-source"><pre>        shl(128, sharesTotal),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6172</td>
                                    <td class="row-source"><pre>        shr(128, mload(add(_sharesTotal_, 16)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6173</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6174</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6175</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6176</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6177</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6178</td>
                                    <td class="row-source"><pre>function getStaticParamsStoragePointer() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6179</td>
                                    <td class="row-source"><pre>  uint16 staticParamsStoragePointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6180</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6181</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6182</td>
                                    <td class="row-source"><pre>    staticParamsStoragePointer := shr(240, mload(_staticParamsStoragePointer_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6183</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6184</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6185</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6186</td>
                                    <td class="row-source"><pre>function setStaticParamsStoragePointer(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6187</td>
                                    <td class="row-source"><pre>  uint16 staticParamsStoragePointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6188</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6189</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6190</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6191</td>
                                    <td class="row-source"><pre>      _staticParamsStoragePointer_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6192</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6193</td>
                                    <td class="row-source"><pre>        shl(240, staticParamsStoragePointer),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6194</td>
                                    <td class="row-source"><pre>        shr(16, mload(add(_staticParamsStoragePointer_, 2)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6195</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6196</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6197</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6198</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6199</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6200</td>
                                    <td class="row-source"><pre>function getLogPriceCurrent() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6201</td>
                                    <td class="row-source"><pre>  X59 logPriceCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6202</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6203</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6204</td>
                                    <td class="row-source"><pre>    logPriceCurrent := shr(192, mload(_logPriceCurrent_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6205</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6206</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6207</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6208</td>
                                    <td class="row-source"><pre>function setLogPriceCurrent(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6209</td>
                                    <td class="row-source"><pre>  X59 logPriceCurrent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6210</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6211</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6212</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6213</td>
                                    <td class="row-source"><pre>      _logPriceCurrent_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6214</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6215</td>
                                    <td class="row-source"><pre>        shl(192, logPriceCurrent),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6216</td>
                                    <td class="row-source"><pre>        shr(64, mload(add(_logPriceCurrent_, 8)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6217</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6218</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6219</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6220</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6221</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6222</td>
                                    <td class="row-source"><pre>function setDeploymentCreationCode(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6223</td>
                                    <td class="row-source"><pre>  uint256 deploymentCreationCode</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6224</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6225</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6226</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6227</td>
                                    <td class="row-source"><pre>      _deploymentCreationCode_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6228</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6229</td>
                                    <td class="row-source"><pre>        shl(168, deploymentCreationCode),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6230</td>
                                    <td class="row-source"><pre>        shr(88, mload(add(_deploymentCreationCode_, 11)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6231</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6232</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6233</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6234</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6235</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6236</td>
                                    <td class="row-source"><pre>function getTag0() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6237</td>
                                    <td class="row-source"><pre>  Tag tag0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6238</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6239</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6240</td>
                                    <td class="row-source"><pre>    tag0 := mload(_tag0_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6241</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6242</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6243</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">6244</td>
                                    <td class="row-source"><pre>function setTag0(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6245</td>
                                    <td class="row-source"><pre>  Tag tag0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6246</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">6247</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6248</td>
                                    <td class="row-source"><pre>    mstore(_tag0_, tag0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6249</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6250</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6251</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6252</td>
                                    <td class="row-source"><pre>function getTag1() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6253</td>
                                    <td class="row-source"><pre>  Tag tag1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6254</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6255</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6256</td>
                                    <td class="row-source"><pre>    tag1 := mload(_tag1_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6257</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6258</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6259</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">6260</td>
                                    <td class="row-source"><pre>function setTag1(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6261</td>
                                    <td class="row-source"><pre>  Tag tag1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6262</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">6263</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6264</td>
                                    <td class="row-source"><pre>    mstore(_tag1_, tag1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6265</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6266</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6267</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6268</td>
                                    <td class="row-source"><pre>function getSqrtOffset() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6269</td>
                                    <td class="row-source"><pre>  X127 sqrtOffset</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6270</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6271</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6272</td>
                                    <td class="row-source"><pre>    sqrtOffset := mload(_sqrtOffset_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6273</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6274</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6275</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">6276</td>
                                    <td class="row-source"><pre>function setSqrtOffset(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6277</td>
                                    <td class="row-source"><pre>  X127 sqrtOffset</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6278</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">6279</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6280</td>
                                    <td class="row-source"><pre>    mstore(_sqrtOffset_, sqrtOffset)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6281</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6282</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6283</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6284</td>
                                    <td class="row-source"><pre>function getSqrtInverseOffset() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6285</td>
                                    <td class="row-source"><pre>  X127 sqrtInverseOffset</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6286</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6287</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6288</td>
                                    <td class="row-source"><pre>    sqrtInverseOffset := mload(_sqrtInverseOffset_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6289</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6290</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6291</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">6292</td>
                                    <td class="row-source"><pre>function setSqrtInverseOffset(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6293</td>
                                    <td class="row-source"><pre>  X127 sqrtInverseOffset</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6294</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">6295</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6296</td>
                                    <td class="row-source"><pre>    mstore(_sqrtInverseOffset_, sqrtInverseOffset)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6297</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6298</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6299</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6300</td>
                                    <td class="row-source"><pre>function getOutgoingMax() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6301</td>
                                    <td class="row-source"><pre>  X216 outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6302</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6303</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6304</td>
                                    <td class="row-source"><pre>    outgoingMax := shr(40, mload(_outgoingMax_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6305</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6306</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6307</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6308</td>
                                    <td class="row-source"><pre>function setOutgoingMax(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6309</td>
                                    <td class="row-source"><pre>  X216 outgoingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6310</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6311</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6312</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6313</td>
                                    <td class="row-source"><pre>      _outgoingMax_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6314</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6315</td>
                                    <td class="row-source"><pre>        shl(40, outgoingMax),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6316</td>
                                    <td class="row-source"><pre>        shr(216, mload(add(_outgoingMax_, 27)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6317</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6318</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6319</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6320</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6321</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6322</td>
                                    <td class="row-source"><pre>function getOutgoingMaxModularInverse() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6323</td>
                                    <td class="row-source"><pre>  uint256 outgoingMaxModularInverse</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6324</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6325</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6326</td>
                                    <td class="row-source"><pre>    outgoingMaxModularInverse := mload(_outgoingMaxModularInverse_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6327</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6328</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6329</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6330</td>
                                    <td class="row-source"><pre>function setOutgoingMaxModularInverse(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6331</td>
                                    <td class="row-source"><pre>  uint256 outgoingMaxModularInverse</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6332</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6333</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6334</td>
                                    <td class="row-source"><pre>    mstore(_outgoingMaxModularInverse_, outgoingMaxModularInverse)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6335</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6336</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6337</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6338</td>
                                    <td class="row-source"><pre>function getIncomingMax() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6339</td>
                                    <td class="row-source"><pre>  X216 incomingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6340</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6341</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6342</td>
                                    <td class="row-source"><pre>    incomingMax := shr(40, mload(_incomingMax_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6343</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6344</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6345</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6346</td>
                                    <td class="row-source"><pre>function setIncomingMax(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6347</td>
                                    <td class="row-source"><pre>  X216 incomingMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6348</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6349</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6350</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6351</td>
                                    <td class="row-source"><pre>      _incomingMax_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6352</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6353</td>
                                    <td class="row-source"><pre>        shl(40, incomingMax),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6354</td>
                                    <td class="row-source"><pre>        shr(216, mload(add(_incomingMax_, 27)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6355</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6356</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6357</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6358</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6359</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6360</td>
                                    <td class="row-source"><pre>function getPoolGrowthPortion() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6361</td>
                                    <td class="row-source"><pre>  X47 poolGrowthPortion</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6362</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6363</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6364</td>
                                    <td class="row-source"><pre>    poolGrowthPortion := shr(208, mload(_poolGrowthPortion_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6365</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6366</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6367</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">6368</td>
                                    <td class="row-source"><pre>function setPoolGrowthPortion(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6369</td>
                                    <td class="row-source"><pre>  X47 poolGrowthPortion</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6370</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">6371</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6372</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6373</td>
                                    <td class="row-source"><pre>      _poolGrowthPortion_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6374</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6375</td>
                                    <td class="row-source"><pre>        shl(208, poolGrowthPortion),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6376</td>
                                    <td class="row-source"><pre>        shr(48, mload(add(_poolGrowthPortion_, 6)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6377</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6378</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6379</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6380</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6381</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6382</td>
                                    <td class="row-source"><pre>function getMaxPoolGrowthPortion() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6383</td>
                                    <td class="row-source"><pre>  X47 maxPoolGrowthPortion</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6384</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6385</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6386</td>
                                    <td class="row-source"><pre>    maxPoolGrowthPortion := shr(208, mload(_maxPoolGrowthPortion_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6387</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6388</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6389</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6390</td>
                                    <td class="row-source"><pre>function setMaxPoolGrowthPortion(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6391</td>
                                    <td class="row-source"><pre>  X47 maxPoolGrowthPortion</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6392</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6393</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6394</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6395</td>
                                    <td class="row-source"><pre>      _maxPoolGrowthPortion_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6396</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6397</td>
                                    <td class="row-source"><pre>        shl(208, maxPoolGrowthPortion),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6398</td>
                                    <td class="row-source"><pre>        shr(48, mload(add(_maxPoolGrowthPortion_, 6)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6399</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6400</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6401</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6402</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6403</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6404</td>
                                    <td class="row-source"><pre>function getProtocolGrowthPortion() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6405</td>
                                    <td class="row-source"><pre>  X47 protocolGrowthPortion</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6406</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6407</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6408</td>
                                    <td class="row-source"><pre>    protocolGrowthPortion := shr(208, mload(_protocolGrowthPortion_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6409</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6410</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6411</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6412</td>
                                    <td class="row-source"><pre>function setProtocolGrowthPortion(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6413</td>
                                    <td class="row-source"><pre>  X47 protocolGrowthPortion</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6414</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6415</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6416</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6417</td>
                                    <td class="row-source"><pre>      _protocolGrowthPortion_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6418</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6419</td>
                                    <td class="row-source"><pre>        shl(208, protocolGrowthPortion),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6420</td>
                                    <td class="row-source"><pre>        shr(48, mload(add(_protocolGrowthPortion_, 6)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6421</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6422</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6423</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6424</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6425</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6426</td>
                                    <td class="row-source"><pre>function getPendingKernelLength() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6427</td>
                                    <td class="row-source"><pre>  Index pendingKernelLength</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6428</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6429</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6430</td>
                                    <td class="row-source"><pre>    pendingKernelLength := shr(240, mload(_pendingKernelLength_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6431</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6432</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6433</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6434</td>
                                    <td class="row-source"><pre>function setPendingKernelLength(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6435</td>
                                    <td class="row-source"><pre>  Index pendingKernelLength</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6436</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6437</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6438</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6439</td>
                                    <td class="row-source"><pre>      _pendingKernelLength_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6440</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6441</td>
                                    <td class="row-source"><pre>        shl(240, pendingKernelLength),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6442</td>
                                    <td class="row-source"><pre>        shr(16, mload(add(_pendingKernelLength_, 2)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6443</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6444</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6445</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6446</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6447</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6448</td>
                                    <td class="row-source"><pre>function getLogPriceMinOffsetted() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6449</td>
                                    <td class="row-source"><pre>  X59 logPriceMinOffsetted</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6450</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6451</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6452</td>
                                    <td class="row-source"><pre>    logPriceMinOffsetted := shr(192, mload(_logPriceMinOffsetted_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6453</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6454</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6455</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">6456</td>
                                    <td class="row-source"><pre>function setLogPriceMinOffsetted(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6457</td>
                                    <td class="row-source"><pre>  X59 logPriceMinOffsetted</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6458</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">6459</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6460</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6461</td>
                                    <td class="row-source"><pre>      _logPriceMinOffsetted_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6462</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6463</td>
                                    <td class="row-source"><pre>        shl(192, logPriceMinOffsetted),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6464</td>
                                    <td class="row-source"><pre>        shr(64, mload(add(_logPriceMinOffsetted_, 8)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6465</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6466</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6467</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6468</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6469</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6470</td>
                                    <td class="row-source"><pre>function getLogPriceMaxOffsetted() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6471</td>
                                    <td class="row-source"><pre>  X59 logPriceMaxOffsetted</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6472</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6473</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6474</td>
                                    <td class="row-source"><pre>    logPriceMaxOffsetted := shr(192, mload(_logPriceMaxOffsetted_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6475</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6476</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6477</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">6478</td>
                                    <td class="row-source"><pre>function setLogPriceMaxOffsetted(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6479</td>
                                    <td class="row-source"><pre>  X59 logPriceMaxOffsetted</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6480</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">6481</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6482</td>
                                    <td class="row-source"><pre>    mstore(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6483</td>
                                    <td class="row-source"><pre>      _logPriceMaxOffsetted_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6484</td>
                                    <td class="row-source"><pre>      or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6485</td>
                                    <td class="row-source"><pre>        shl(192, logPriceMaxOffsetted),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6486</td>
                                    <td class="row-source"><pre>        shr(64, mload(add(_logPriceMaxOffsetted_, 8)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6487</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6488</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6489</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6490</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6491</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6492</td>
                                    <td class="row-source"><pre>function getShares() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6493</td>
                                    <td class="row-source"><pre>  int256 shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6494</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6495</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6496</td>
                                    <td class="row-source"><pre>    shares := mload(_shares_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6497</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6498</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6499</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">6500</td>
                                    <td class="row-source"><pre>function setShares(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6501</td>
                                    <td class="row-source"><pre>  int256 shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6502</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">6503</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6504</td>
                                    <td class="row-source"><pre>    mstore(_shares_, shares)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6505</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6506</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6507</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6508</td>
                                    <td class="row-source"><pre>function getLogPriceMin() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6509</td>
                                    <td class="row-source"><pre>  X59 logPriceMin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6510</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6511</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6512</td>
                                    <td class="row-source"><pre>    logPriceMin := mload(_logPriceMin_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6513</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6514</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6515</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6516</td>
                                    <td class="row-source"><pre>function setLogPriceMin(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6517</td>
                                    <td class="row-source"><pre>  X59 logPriceMin</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6518</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6519</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6520</td>
                                    <td class="row-source"><pre>    mstore(_logPriceMin_, logPriceMin)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6521</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6522</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6523</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6524</td>
                                    <td class="row-source"><pre>function getLogPriceMax() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6525</td>
                                    <td class="row-source"><pre>  X59 logPriceMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6526</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6527</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6528</td>
                                    <td class="row-source"><pre>    logPriceMax := mload(_logPriceMax_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6529</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6530</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6531</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">6532</td>
                                    <td class="row-source"><pre>function setLogPriceMax(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6533</td>
                                    <td class="row-source"><pre>  X59 logPriceMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6534</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">6535</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6536</td>
                                    <td class="row-source"><pre>    mstore(_logPriceMax_, logPriceMax)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6537</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6538</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6539</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6540</td>
                                    <td class="row-source"><pre>function getPositionAmount0() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6541</td>
                                    <td class="row-source"><pre>  int256 positionAmount0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6542</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6543</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6544</td>
                                    <td class="row-source"><pre>    positionAmount0 := mload(_positionAmount0_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6545</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6546</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6547</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6548</td>
                                    <td class="row-source"><pre>function setPositionAmount0(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6549</td>
                                    <td class="row-source"><pre>  int256 positionAmount0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6550</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6551</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6552</td>
                                    <td class="row-source"><pre>    mstore(_positionAmount0_, positionAmount0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6553</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6554</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6555</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6556</td>
                                    <td class="row-source"><pre>function getPositionAmount1() pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6557</td>
                                    <td class="row-source"><pre>  int256 positionAmount1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6558</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6559</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6560</td>
                                    <td class="row-source"><pre>    positionAmount1 := mload(_positionAmount1_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6561</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6562</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6563</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6564</td>
                                    <td class="row-source"><pre>function setPositionAmount1(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6565</td>
                                    <td class="row-source"><pre>  int256 positionAmount1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6566</td>
                                    <td class="row-source"><pre>) pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6567</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6568</td>
                                    <td class="row-source"><pre>    mstore(_positionAmount1_, positionAmount1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6569</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6570</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_PoolId_sol" data-file-path="contracts\utilities\PoolId.sol" data-lines-active="3" data-lines-covered="1">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(39, 90%, 50%, 0.15); color: hsl(39, 90%, 50%)">
                                33.0%
                            </span>
                            <span class="file-name">contracts\utilities\PoolId.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>1 / 3</strong> (33.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {X59} from &quot;./X59.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>/// @notice Extracts &#39;(2 ** 59) * log(pOffset)&#39; from poolId.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>function getLogOffsetFromPoolId(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>  uint256 poolId</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>  X59 logOffset</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>    // Bits 181 to 188 of poolId represent an 8-bit integer in two&#39;s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>    // complement which is equal to the natural logarithm of &#39;pOffset&#39;. We</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>    // extract this value and convert it to an &#39;int256&#39; by extending its sign</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>    // bit. Next, we multiply it by &#39;2 ** 59&#39; to obtain &#39;log(pOffset)&#39; in &#39;X59&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>    // representation.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>    logOffset := mul(shl(59, 1), signextend(0, shr(180, poolId)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>/// @notice Derives &#39;poolId&#39; based on the following rule:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>/// &#39;poolId = unsaltedPoolId + (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>///     keccak256(abi.encodePacked(msg.sender, unsaltedPoolId)) &lt;&lt; 188</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>///  )&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>function derivePoolId(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>  uint256 unsaltedPoolId</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>) view returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  uint256 poolId</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>    mstore(0, shl(96, caller()))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>    mstore(20, unsaltedPoolId)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>    poolId := add(unsaltedPoolId, shl(188, keccak256(0, 52)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_Price_sol" data-file-path="contracts\utilities\Price.sol" data-lines-active="1" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\Price.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 1</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {X15} from &quot;./X15.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {X59} from &quot;./X59.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {X216} from &quot;./X216.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>library PriceLibrary {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>  using PriceLibrary for uint256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>  /// @notice Stores a given price in a given memory location with the </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>  /// following layout:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>  ///  pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>  ///     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>  ///     +--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>  ///     | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>  ///     +--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>  ///     |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>  ///     |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>  ///     |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>  ///     |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>  ///     |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>  ///      \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>  ///       logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>  /// &#39;pointer&#39; should not be less than &#39;32&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>  /// &#39;logPrice&#39; should be non-negative and less than &#39;2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>  /// &#39;sqrtPrice&#39; should be non-negative and less than &#39;oneX216&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>  /// &#39;sqrtInversePrice&#39; should be non-negative and less than &#39;oneX216&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  function storePrice(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>    uint256 pointer,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>    X59 logPrice,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>    X216 sqrtPrice,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>    X216 sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>  ) internal pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>      // The preceding slot is cached so that it can be restored after we place</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>      // all values in their appropriate memory locations.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>      // The subtraction is safe because of the input requirement on &#39;pointer&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>      let precedingPointer := sub(pointer, 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>      let precedingSlot := mload(precedingPointer)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>      // We move &#39;64 + 216 + 216&#39; bits forward to reach the following location:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>      //                                                          pointer + 62</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>      //                                                                  \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>      //                                                                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>      //  +--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>      //  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>      //  +--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>      //  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>      //  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>      //  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>      //  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>      //  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>      //   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>      //    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>      // Then we move &#39;256&#39; bits backward to point to the beginning of the slot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>      // whose least significant &#39;216&#39; bits are supposed to host</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>      // &#39;sqrtInversePrice&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>      // &#39;64 + 216 + 216 - 256&#39; bits == &#39;30&#39; bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>      mstore(add(pointer, 30), sqrtInversePrice)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>      // We move &#39;64 + 216&#39; bits forward to reach the following location:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>      //                                  pointer + 35</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>      //                                       |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>      //  +--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>      //  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>      //  +--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>      //  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>      //  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>      //  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>      //  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>      //  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>      //   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>      //    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>      // Then we move &#39;256&#39; bits backward to point to the beginning of the slot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>      // whose least significant &#39;216&#39; bits are supposed to host &#39;sqrtPrice&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>      // &#39;64 + 216 - 256&#39; bits == &#39;3&#39; bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>      mstore(add(pointer, 3), sqrtPrice)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>      // We move &#39;64&#39; bits forward to reach the following location:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>      //      pointer + 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>      //           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>      //  +--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>      //  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>      //  +--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>      //  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>      //  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>      //  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>      //  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>      //  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>      //   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>      //    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>      // Then we move &#39;256&#39; bits backward to point to the beginning of the slot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>      // whose least significant &#39;64&#39; bits are supposed to host &#39;logPrice&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>      // &#39;64 - 256&#39; bits == &#39;-24&#39; bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>      // The subtraction is safe because of the input requirement on &#39;pointer&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>      mstore(sub(pointer, 24), logPrice)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>      // The preceding slot is restored.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>      mstore(precedingPointer, precedingSlot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>  /// @notice Calculates the sqrt and sqrtInverse of a given logPrice and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>  /// stores everything in the given memory location with the following</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>  /// layout:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>  ///  pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>  ///     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>  ///     +--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>  ///     | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>  ///     +--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>  ///     |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>  ///     |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>  ///     |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>  ///     |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>  ///     |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>  ///      \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>  ///       logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>  /// &#39;pointer&#39; should not be less than &#39;32&#39; and &#39;pointer + 30&#39; should not</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>  /// overflow.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>  /// &#39;logPrice&#39; should be greater than 0 and less than (2 ** 64).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>  function storePrice(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>    uint256 pointer,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>    X59 logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>  ) internal pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>    // The requirements of &#39;exp&#39; are satisfied here because </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>    // &#39;0 &lt; logPrice &lt; 2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>    (X216 sqrtPrice, X216 sqrtInversePrice) = logPrice.exp();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>    // The requirements of &#39;storePrice&#39; are satisfied here, because of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>    // input requirement on &#39;pointer&#39; and because both outputs of &#39;exp&#39; are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>    // less than &#39;oneX216&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>    // &#39;0 &lt; logPrice&#39; -&gt; &#39;(2 ** 216) * exp(- logPrice / (2 ** 60)) &lt; 2 ** 216&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>    // &#39;logPrice &lt; 2 ** 64&#39; -&gt; </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>    // &#39;(2 ** 216) * exp(- 16 + logPrice / (2 ** 60)) &lt; 2 ** 216&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>    pointer.storePrice(logPrice, sqrtPrice, sqrtInversePrice);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>  /// @notice Stores a given price in a given memory location with the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>  /// following layout:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>  ///   pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>  ///      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>  ///   +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>  ///   |  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>  ///   +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>  ///   |  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>  ///   |  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>  ///   |  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>  ///   |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>  ///   |  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>  ///   |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>  ///   |    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>  ///    \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>  ///     heightPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>  /// &#39;pointer&#39; should not be less than &#39;34&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>  /// &#39;heightPrice&#39; should be less than or equal to &#39;oneX15&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>  /// &#39;logPrice&#39; should be non-negative and less than (2 ** 64).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>  /// &#39;sqrtPrice&#39; should be non-negative and less than &#39;oneX216&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>  /// &#39;sqrtInversePrice&#39; should be non-negative and less than &#39;oneX216&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>  function storePrice(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>    uint256 pointer,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>    X15 heightPrice,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>    X59 logPrice,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>    X216 sqrtPrice,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>    X216 sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>  ) internal pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>      // The preceding slot is cached so that it can be restored after we place</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>      // all values in their appropriate memory location.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>      // The subtraction is safe because of the input requirement on &#39;pointer&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>      let precedingPointer := sub(pointer, 34)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>      let precedingSlot := mload(precedingPointer)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>      // We move &#39;64 + 216 + 216&#39; bits forward to reach the following location:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>      //                                                          pointer + 62</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>      //                                                                     \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>      //                                                                      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>      //  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>      //  |  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>      //  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>      //  |  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>      //  |  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>      //  |  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>      //  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>      //  |  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre>      //  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>      //  |    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>      //   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>      //    heightPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>      // Then we move &#39;256&#39; bits backward to point to the beginning of the slot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>      // whose least significant &#39;216&#39; bits are supposed to host</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>      // &#39;sqrtInversePrice&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>      // &#39;64 + 216 + 216 - 256&#39; bits == &#39;30&#39; bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>      mstore(add(pointer, 30), sqrtInversePrice)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>      // We move &#39;64 + 216&#39; bits forward to reach the following location:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre>      //                                  pointer + 35</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>      //                                         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre>      //                                          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>      //  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>      //  |  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre>      //  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>      //  |  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre>      //  |  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>      //  |  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre>      //  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>      //  |  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>      //  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre>      //  |    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>      //   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>      //    heightPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre>      // Then we move &#39;256&#39; bits backward to point to the beginning of the slot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>      // whose least significant &#39;216&#39; bits are supposed to host &#39;sqrtPrice&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre>      // &#39;64 + 216 - 256&#39; bits == &#39;3&#39; bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre>      mstore(add(pointer, 3), sqrtPrice)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre>      // We move &#39;64&#39; bits forward to reach the following location:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre>      //      pointer + 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre>      //             \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>      //              |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>      //  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre>      //  |  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre>      //  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>      //  |  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre>      //  |  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre>      //  |  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre>      //  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre>      //  |  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre>      //  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">257</td>
                                    <td class="row-source"><pre>      //  |    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">258</td>
                                    <td class="row-source"><pre>      //   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">259</td>
                                    <td class="row-source"><pre>      //    heightPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">260</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">261</td>
                                    <td class="row-source"><pre>      // Then we move &#39;256&#39; bits backward to point to the beginning of the slot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">262</td>
                                    <td class="row-source"><pre>      // whose least significant &#39;64&#39; bits are supposed to host &#39;logPrice&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">263</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">264</td>
                                    <td class="row-source"><pre>      // &#39;64 - 256&#39; bits == &#39;-24&#39; bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">265</td>
                                    <td class="row-source"><pre>      // The subtraction is safe because of the input requirement on &#39;pointer&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">266</td>
                                    <td class="row-source"><pre>      mstore(sub(pointer, 24), logPrice)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">267</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">268</td>
                                    <td class="row-source"><pre>      // We move &#39;256&#39; bits backward to point to the beginning of the slot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">269</td>
                                    <td class="row-source"><pre>      // whose least significant &#39;16&#39; bits are supposed to host &#39;heightPrice&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">270</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">271</td>
                                    <td class="row-source"><pre>      // &#39;0 - 256&#39; bits == &#39;-32&#39; bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">272</td>
                                    <td class="row-source"><pre>      // The subtraction is safe because of the input requirement on &#39;pointer&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">273</td>
                                    <td class="row-source"><pre>      mstore(sub(pointer, 32), heightPrice)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">274</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">275</td>
                                    <td class="row-source"><pre>      // The preceding slot is restored.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">276</td>
                                    <td class="row-source"><pre>      mstore(precedingPointer, precedingSlot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">277</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">278</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">279</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">280</td>
                                    <td class="row-source"><pre>  /// @notice Returns the height of a price given its memory pointer with the </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">281</td>
                                    <td class="row-source"><pre>  /// following layout:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">282</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">283</td>
                                    <td class="row-source"><pre>  ///       pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">284</td>
                                    <td class="row-source"><pre>  ///      /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">285</td>
                                    <td class="row-source"><pre>  ///     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">286</td>
                                    <td class="row-source"><pre>  ///  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">287</td>
                                    <td class="row-source"><pre>  ///  |  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">288</td>
                                    <td class="row-source"><pre>  ///  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">289</td>
                                    <td class="row-source"><pre>  ///  |  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">290</td>
                                    <td class="row-source"><pre>  ///  |  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">291</td>
                                    <td class="row-source"><pre>  ///  |  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">292</td>
                                    <td class="row-source"><pre>  ///  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">293</td>
                                    <td class="row-source"><pre>  ///  |  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">294</td>
                                    <td class="row-source"><pre>  ///  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">295</td>
                                    <td class="row-source"><pre>  ///  |    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">296</td>
                                    <td class="row-source"><pre>  ///   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">297</td>
                                    <td class="row-source"><pre>  ///    heightPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">298</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">299</td>
                                    <td class="row-source"><pre>  function height(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">300</td>
                                    <td class="row-source"><pre>    uint256 pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">301</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">302</td>
                                    <td class="row-source"><pre>    X15 value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">303</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">304</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">305</td>
                                    <td class="row-source"><pre>      // We move &#39;2&#39; bytes backward to read the slot whose most significant</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">306</td>
                                    <td class="row-source"><pre>      // &#39;16&#39; bits host &#39;height&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">307</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">308</td>
                                    <td class="row-source"><pre>      //    pointer - 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">309</td>
                                    <td class="row-source"><pre>      //   /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">310</td>
                                    <td class="row-source"><pre>      //  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">311</td>
                                    <td class="row-source"><pre>      //  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">312</td>
                                    <td class="row-source"><pre>      //  |  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">313</td>
                                    <td class="row-source"><pre>      //  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">314</td>
                                    <td class="row-source"><pre>      //  |  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">315</td>
                                    <td class="row-source"><pre>      //  |  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">316</td>
                                    <td class="row-source"><pre>      //  |  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">317</td>
                                    <td class="row-source"><pre>      //  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">318</td>
                                    <td class="row-source"><pre>      //  |  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">319</td>
                                    <td class="row-source"><pre>      //  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">320</td>
                                    <td class="row-source"><pre>      //  |    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">321</td>
                                    <td class="row-source"><pre>      //   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">322</td>
                                    <td class="row-source"><pre>      //    heightPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">323</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">324</td>
                                    <td class="row-source"><pre>      // Then we shift the content by &#39;240&#39; bits to the right in order to get</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">325</td>
                                    <td class="row-source"><pre>      // &#39;height&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">326</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">327</td>
                                    <td class="row-source"><pre>      // The subtraction is safe, because the pointer refer to a price with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">328</td>
                                    <td class="row-source"><pre>      // height and therefore its value is not less than &#39;2&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">329</td>
                                    <td class="row-source"><pre>      value := shr(240, mload(sub(pointer, 2)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">330</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">331</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">332</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">333</td>
                                    <td class="row-source"><pre>  /// @notice Returns the logarithm of a price given its memory pointer with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">334</td>
                                    <td class="row-source"><pre>  /// the following layout:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">335</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">336</td>
                                    <td class="row-source"><pre>  ///       pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">337</td>
                                    <td class="row-source"><pre>  ///      /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">338</td>
                                    <td class="row-source"><pre>  ///     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">339</td>
                                    <td class="row-source"><pre>  ///  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">340</td>
                                    <td class="row-source"><pre>  ///  |  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">341</td>
                                    <td class="row-source"><pre>  ///  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">342</td>
                                    <td class="row-source"><pre>  ///  |  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">343</td>
                                    <td class="row-source"><pre>  ///  |  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">344</td>
                                    <td class="row-source"><pre>  ///  |  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">345</td>
                                    <td class="row-source"><pre>  ///  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">346</td>
                                    <td class="row-source"><pre>  ///  |  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">347</td>
                                    <td class="row-source"><pre>  ///  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">348</td>
                                    <td class="row-source"><pre>  ///  |    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">349</td>
                                    <td class="row-source"><pre>  ///   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">350</td>
                                    <td class="row-source"><pre>  ///    heightPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">351</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">352</td>
                                    <td class="row-source"><pre>  function log(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">353</td>
                                    <td class="row-source"><pre>    uint256 pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">354</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">355</td>
                                    <td class="row-source"><pre>    X59 logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">356</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">357</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">358</td>
                                    <td class="row-source"><pre>      // The given pointer refers to the slot whose most significant &#39;64&#39; bits</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">359</td>
                                    <td class="row-source"><pre>      // host &#39;logPrice&#39;. We read this slot and then we shift the content by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">360</td>
                                    <td class="row-source"><pre>      // &#39;192&#39; bits to the right in order to get &#39;logPrice&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">361</td>
                                    <td class="row-source"><pre>      logPrice := shr(192, mload(pointer))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">362</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">363</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">364</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">365</td>
                                    <td class="row-source"><pre>  /// @notice Returns the &#39;sqrtPrice&#39; or &#39;sqrtInversePrice&#39; given a memory </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">366</td>
                                    <td class="row-source"><pre>  /// pointer with the following layout:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">367</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">368</td>
                                    <td class="row-source"><pre>  ///       pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">369</td>
                                    <td class="row-source"><pre>  ///      /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">370</td>
                                    <td class="row-source"><pre>  ///     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">371</td>
                                    <td class="row-source"><pre>  ///  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">372</td>
                                    <td class="row-source"><pre>  ///  |  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">373</td>
                                    <td class="row-source"><pre>  ///  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">374</td>
                                    <td class="row-source"><pre>  ///  |  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">375</td>
                                    <td class="row-source"><pre>  ///  |  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">376</td>
                                    <td class="row-source"><pre>  ///  |  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">377</td>
                                    <td class="row-source"><pre>  ///  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">378</td>
                                    <td class="row-source"><pre>  ///  |  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">379</td>
                                    <td class="row-source"><pre>  ///  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">380</td>
                                    <td class="row-source"><pre>  ///  |    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">381</td>
                                    <td class="row-source"><pre>  ///   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">382</td>
                                    <td class="row-source"><pre>  ///    heightPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">383</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">384</td>
                                    <td class="row-source"><pre>  function sqrt(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">385</td>
                                    <td class="row-source"><pre>    uint256 pointer,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">386</td>
                                    <td class="row-source"><pre>    bool inverse</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">387</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">388</td>
                                    <td class="row-source"><pre>    X216 value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">389</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">390</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">391</td>
                                    <td class="row-source"><pre>      // If &#39;inverse == true&#39; then we move &#39;35&#39; bytes forward to read the slot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">392</td>
                                    <td class="row-source"><pre>      // whose most significant &#39;216&#39; bits host &#39;sqrtPriceInverse&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">393</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">394</td>
                                    <td class="row-source"><pre>      //                                  pointer + 35</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">395</td>
                                    <td class="row-source"><pre>      //                                         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">396</td>
                                    <td class="row-source"><pre>      //                                          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">397</td>
                                    <td class="row-source"><pre>      //  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">398</td>
                                    <td class="row-source"><pre>      //  |  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">399</td>
                                    <td class="row-source"><pre>      //  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">400</td>
                                    <td class="row-source"><pre>      //  |  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">401</td>
                                    <td class="row-source"><pre>      //  |  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">402</td>
                                    <td class="row-source"><pre>      //  |  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">403</td>
                                    <td class="row-source"><pre>      //  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">404</td>
                                    <td class="row-source"><pre>      //  |  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">405</td>
                                    <td class="row-source"><pre>      //  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">406</td>
                                    <td class="row-source"><pre>      //  |    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">407</td>
                                    <td class="row-source"><pre>      //   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">408</td>
                                    <td class="row-source"><pre>      //    heightPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">409</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">410</td>
                                    <td class="row-source"><pre>      // Then we shift the content by &#39;40&#39; bits to the right in order to get</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">411</td>
                                    <td class="row-source"><pre>      // &#39;sqrtPriceInverse&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">412</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">413</td>
                                    <td class="row-source"><pre>      // If &#39;inverse == false&#39; then we move &#39;8&#39; bytes forward to read the slot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">414</td>
                                    <td class="row-source"><pre>      // whose most significant &#39;216&#39; bits host &#39;sqrtPrice&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">415</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">416</td>
                                    <td class="row-source"><pre>      //      pointer + 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">417</td>
                                    <td class="row-source"><pre>      //             \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">418</td>
                                    <td class="row-source"><pre>      //              |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">419</td>
                                    <td class="row-source"><pre>      //  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">420</td>
                                    <td class="row-source"><pre>      //  |  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">421</td>
                                    <td class="row-source"><pre>      //  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">422</td>
                                    <td class="row-source"><pre>      //  |  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">423</td>
                                    <td class="row-source"><pre>      //  |  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">424</td>
                                    <td class="row-source"><pre>      //  |  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">425</td>
                                    <td class="row-source"><pre>      //  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">426</td>
                                    <td class="row-source"><pre>      //  |  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">427</td>
                                    <td class="row-source"><pre>      //  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">428</td>
                                    <td class="row-source"><pre>      //  |    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">429</td>
                                    <td class="row-source"><pre>      //   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">430</td>
                                    <td class="row-source"><pre>      //    heightPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">431</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">432</td>
                                    <td class="row-source"><pre>      // Then we shift the content by &#39;40&#39; bits to the right in order to get</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">433</td>
                                    <td class="row-source"><pre>      // &#39;sqrtPrice&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">434</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">435</td>
                                    <td class="row-source"><pre>      // The additions and the multiplication are safe because </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">436</td>
                                    <td class="row-source"><pre>      // &#39;iszero(inverse)&#39; is a boolean.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">437</td>
                                    <td class="row-source"><pre>      value := shr(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">438</td>
                                    <td class="row-source"><pre>        40,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">439</td>
                                    <td class="row-source"><pre>        mload(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">440</td>
                                    <td class="row-source"><pre>          add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">441</td>
                                    <td class="row-source"><pre>            sub(35, mul(27, iszero(inverse))), // inverse ? 35 : 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">442</td>
                                    <td class="row-source"><pre>            pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">443</td>
                                    <td class="row-source"><pre>          )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">444</td>
                                    <td class="row-source"><pre>        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">445</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">446</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">447</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">448</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">449</td>
                                    <td class="row-source"><pre>  /// @notice Copies a price from one memory pointer to another each with the </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">450</td>
                                    <td class="row-source"><pre>  /// following layout:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">451</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">452</td>
                                    <td class="row-source"><pre>  ///  pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">453</td>
                                    <td class="row-source"><pre>  ///     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">454</td>
                                    <td class="row-source"><pre>  ///     +--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">455</td>
                                    <td class="row-source"><pre>  ///     | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">456</td>
                                    <td class="row-source"><pre>  ///     +--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">457</td>
                                    <td class="row-source"><pre>  ///     |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">458</td>
                                    <td class="row-source"><pre>  ///     |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">459</td>
                                    <td class="row-source"><pre>  ///     |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">460</td>
                                    <td class="row-source"><pre>  ///     |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">461</td>
                                    <td class="row-source"><pre>  ///     |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">462</td>
                                    <td class="row-source"><pre>  ///      \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">463</td>
                                    <td class="row-source"><pre>  ///       logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">464</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">465</td>
                                    <td class="row-source"><pre>  function copyPrice(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">466</td>
                                    <td class="row-source"><pre>    uint256 pointer0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">467</td>
                                    <td class="row-source"><pre>    uint256 pointer1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">468</td>
                                    <td class="row-source"><pre>  ) internal pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">469</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">470</td>
                                    <td class="row-source"><pre>      // Each price contains &#39;62&#39; bytes which is copied from one place to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">471</td>
                                    <td class="row-source"><pre>      // next.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">472</td>
                                    <td class="row-source"><pre>      mcopy(pointer0, pointer1, 62)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">473</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">474</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">475</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">476</td>
                                    <td class="row-source"><pre>  /// @notice Copies a price with height from one memory pointer to another</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">477</td>
                                    <td class="row-source"><pre>  /// each with the following layout:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">478</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">479</td>
                                    <td class="row-source"><pre>  ///       pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">480</td>
                                    <td class="row-source"><pre>  ///      /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">481</td>
                                    <td class="row-source"><pre>  ///     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">482</td>
                                    <td class="row-source"><pre>  ///  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">483</td>
                                    <td class="row-source"><pre>  ///  |  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">484</td>
                                    <td class="row-source"><pre>  ///  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">485</td>
                                    <td class="row-source"><pre>  ///  |  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">486</td>
                                    <td class="row-source"><pre>  ///  |  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">487</td>
                                    <td class="row-source"><pre>  ///  |  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">488</td>
                                    <td class="row-source"><pre>  ///  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">489</td>
                                    <td class="row-source"><pre>  ///  |  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">490</td>
                                    <td class="row-source"><pre>  ///  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">491</td>
                                    <td class="row-source"><pre>  ///  |    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">492</td>
                                    <td class="row-source"><pre>  ///   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">493</td>
                                    <td class="row-source"><pre>  ///    heightPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">494</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">495</td>
                                    <td class="row-source"><pre>  function copyPriceWithHeight(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">496</td>
                                    <td class="row-source"><pre>    uint256 pointer0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">497</td>
                                    <td class="row-source"><pre>    uint256 pointer1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">498</td>
                                    <td class="row-source"><pre>  ) internal pure {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">499</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">500</td>
                                    <td class="row-source"><pre>      // Each price contains &#39;64&#39; bytes which is copied from one place to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">501</td>
                                    <td class="row-source"><pre>      // next. We move two bytes backward to point to the beginning of &#39;height&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">502</td>
                                    <td class="row-source"><pre>      // as opposed to the end of &#39;height&#39;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">503</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">504</td>
                                    <td class="row-source"><pre>      //    pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">505</td>
                                    <td class="row-source"><pre>      //   /</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">506</td>
                                    <td class="row-source"><pre>      //  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">507</td>
                                    <td class="row-source"><pre>      //  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">508</td>
                                    <td class="row-source"><pre>      //  |  | 8 byte |          27 byte          |          27 byte          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">509</td>
                                    <td class="row-source"><pre>      //  +--+--------+---------------------------+---------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">510</td>
                                    <td class="row-source"><pre>      //  |  |        |                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">511</td>
                                    <td class="row-source"><pre>      //  |  |        |                            \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">512</td>
                                    <td class="row-source"><pre>      //  |  |        |                             sqrtInversePrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">513</td>
                                    <td class="row-source"><pre>      //  |  |         \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">514</td>
                                    <td class="row-source"><pre>      //  |  |          sqrtPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">515</td>
                                    <td class="row-source"><pre>      //  |   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">516</td>
                                    <td class="row-source"><pre>      //  |    logPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">517</td>
                                    <td class="row-source"><pre>      //   \</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">518</td>
                                    <td class="row-source"><pre>      //    heightPrice</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">519</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">520</td>
                                    <td class="row-source"><pre>      // The subtractions are safe, because both pointers refer to prices with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">521</td>
                                    <td class="row-source"><pre>      // height and therefore their values are not less than &#39;2&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">522</td>
                                    <td class="row-source"><pre>      mcopy(sub(pointer0, 2), sub(pointer1, 2), 64)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">523</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">524</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">525</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">526</td>
                                    <td class="row-source"><pre>  /// @notice Given the memory pointer for a pair of prices with height, this</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">527</td>
                                    <td class="row-source"><pre>  /// function reads the corresponding horizontal and vertical coordinates.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">528</td>
                                    <td class="row-source"><pre>  /// &#39;pointer&#39; refers to the first price and &#39;pointer + 64&#39; refers to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">529</td>
                                    <td class="row-source"><pre>  /// second one.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">530</td>
                                    <td class="row-source"><pre>  function segment(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">531</td>
                                    <td class="row-source"><pre>    uint256 pointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">532</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">533</td>
                                    <td class="row-source"><pre>    X59 b0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">534</td>
                                    <td class="row-source"><pre>    X59 b1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">535</td>
                                    <td class="row-source"><pre>    X15 c0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">536</td>
                                    <td class="row-source"><pre>    X15 c1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">537</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">538</td>
                                    <td class="row-source"><pre>    c0 = pointer.height();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">539</td>
                                    <td class="row-source"><pre>    b0 = pointer.log();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">540</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">541</td>
                                    <td class="row-source"><pre>    // We move &#39;64&#39; bytes forward to point to the second price.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">542</td>
                                    <td class="row-source"><pre>    unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">543</td>
                                    <td class="row-source"><pre>      pointer += 64;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">544</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">545</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">546</td>
                                    <td class="row-source"><pre>    c1 = pointer.height();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">547</td>
                                    <td class="row-source"><pre>    b1 = pointer.log();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">548</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">549</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_SentinelCalls_sol" data-file-path="contracts\utilities\SentinelCalls.sol" data-lines-active="0" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\SentinelCalls.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 0</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {ISentinel} from &quot;../interfaces/ISentinel.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>  _hookSelector_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>  getHookInputByteCount,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>  setHookInputHeader,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>  setHookSelector</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>} from &quot;./Memory.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>import {InvalidSentinelResponse} from &quot;./Errors.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>import {readSentinel} from &quot;./Storage.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>import {X47, maxX47} from &quot;./X47.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>ISentinel constant nullSentinel = ISentinel(address(0));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>/// @notice Calls protocol&#39;s Sentinel to get &#39;maxPoolGrowthPortion&#39; and </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>/// &#39;protocolGrowthPortion&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>function invokeSentinelGetGrowthPortions() returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>  X47 maxPoolGrowthPortion,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>  X47 protocolGrowthPortion</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>  // The outputs &#39;maxPoolGrowthPortion&#39; and &#39;protocolGrowthPortion&#39; are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>  // initially set to the invalid value &#39;maxX47&#39;. If the Sentinel contract</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>  // exists, these two values will be overwritten.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>  maxPoolGrowthPortion = maxX47;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>  protocolGrowthPortion = maxX47;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>  // The Sentinel contract is read from the protocol&#39;s storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>  ISentinel sentinel = readSentinel();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>  // If the Sentinel contract exists, then &#39;ISentinel.getGrowthPortions&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>  // invoked and &#39;maxPoolGrowthPortion&#39; and &#39;protocolGrowthPortion&#39; are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>  // overwritten.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>  if (sentinel != nullSentinel) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>    // The appropriate selector corresponding to the method to be invoked is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>    // placed in memory. &#39;selector&#39; is cast as a &#39;uint32&#39; because the setter</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>    // function &#39;setHookSelector&#39; uses the least significant 32 bits as opposed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>    // the most significant &#39;32&#39; bits.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>    setHookSelector(uint32(ISentinel.getGrowthPortions.selector));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>    // An abi offset of &#39;0x20&#39; is placed in memory in order to encode the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>    // memory snapshot to be sent to the hook as type &#39;bytes&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>    setHookInputHeader(0x20);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>    // The byte count of the memory snapshot to be sent to the Sentinel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>    // contract is loaded from the memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>    uint256 hookInputByteCount = getHookInputByteCount();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>      // Invokes the &#39;ISentinel.getGrowthPortions&#39; and relays the reason if</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>      // reverted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>      if iszero(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>        // &#39;_hookSelector_&#39; points to the beginning of the calldata to be sent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>        // to the Sentinel contract. The total calldata byte count is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>        // &#39;hookInputByteCount + 4 + 32 + 32&#39; where &#39;4&#39; accounts for the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>        // selector, the first &#39;32&#39; accounts for the abi offset slot which is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>        // populated with &#39;0x20&#39;, and the second &#39;32&#39; accounts for the length</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>        // slot which is populated with &#39;hookInputByteCount&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>        call(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>          gas(),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>          sentinel,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>          0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>          _hookSelector_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>          add(hookInputByteCount, 68),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>          0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>          64</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>      ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>        // Return data is copied to memory and relayed as a revert message.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>        returndatacopy(0, 0, returndatasize())</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>        revert(0, returndatasize())</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>      // The output of &#39;ISentinel.getGrowthPortions&#39; overwrites </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>      // &#39;maxPoolGrowthPortion&#39; and &#39;protocolGrowthPortion&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>      maxPoolGrowthPortion := mload(0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>      protocolGrowthPortion := mload(32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>/// @notice Calls protocol&#39;s Sentinel to authorize initialization.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>function invokeAuthorizeInitialization() {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>  // The Sentinel contract is read from the protocol&#39;s storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>  ISentinel sentinel = readSentinel();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>  // If the Sentinel contract exists, then &#39;ISentinel.authorizeInitialization&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>  // is invoked to authorize initialization.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>  if (sentinel != nullSentinel) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>    // The appropriate selector corresponding to the method to be invoked is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>    // placed in memory. &#39;selector&#39; is cast as a &#39;uint32&#39; because the setter</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>    // function &#39;setHookSelector&#39; uses the least significant 32 bits as opposed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>    // the most significant &#39;32&#39; bits.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>    setHookSelector(uint32(ISentinel.authorizeInitialization.selector));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>    // An abi offset of &#39;0x20&#39; is placed in memory in order to encode the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>    // memory snapshot to be sent to the hook as type &#39;bytes&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>    setHookInputHeader(0x20);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>    // The byte count of the memory snapshot to be sent to the Sentinel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>    // contract is loaded from the memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>    uint256 hookInputByteCount = getHookInputByteCount();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>    bytes4 response;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>      // Invokes the method &#39;ISentinel.authorizeInitialization&#39; and relays the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>      // reason if reverted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>      if iszero(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>        // &#39;_hookSelector_&#39; points to the beginning of the calldata to be sent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>        // to the Sentinel contract. The total calldata byte count is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>        // &#39;hookInputByteCount + 4 + 32 + 32&#39; where &#39;4&#39; accounts for the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>        // selector, the first &#39;32&#39; accounts for the abi offset slot which is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>        // populated with &#39;0x20&#39;, and the second &#39;32&#39; accounts for length slot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>        // which is populated with &#39;hookInputByteCount&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>        call(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>          gas(),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>          sentinel,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>          0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>          _hookSelector_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>          add(hookInputByteCount, 68),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>          0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>          32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>      ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>        // Return data is copied to memory and relayed as a revert message.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>        returndatacopy(0, 0, returndatasize())</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>        revert(0, returndatasize())</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>      response := mload(0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>    // The output of &#39;ISentinel.authorizeInitialization&#39; is examined.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>    require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>      response == ISentinel.authorizeInitialization.selector,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>      InvalidSentinelResponse(response)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>/// @notice Calls protocol&#39;s Sentinel to authorize modification of pool growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>/// portion.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>function invokeAuthorizeModificationOfPoolGrowthPortion() {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>  // The Sentinel contract is read from the protocol&#39;s storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>  ISentinel sentinel = readSentinel();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>  // If the Sentinel contract exists, then </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>  // &#39;ISentinel.authorizeModificationOfPoolGrowthPortion&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>  // is invoked to authorize initialization.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>  if (sentinel != nullSentinel) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>    // The appropriate selector corresponding to the method to be invoked is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>    // placed in memory. &#39;selector&#39; is cast as a &#39;uint32&#39; because the setter</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>    // function &#39;setHookSelector&#39; uses the least significant 32 bits as opposed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>    // the most significant &#39;32&#39; bits.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>    setHookSelector(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>      uint32(ISentinel.authorizeModificationOfPoolGrowthPortion.selector)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>    // An abi offset of &#39;0x20&#39; is placed in memory in order to encode the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>    // memory snapshot to be sent to the hook as type &#39;bytes&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>    setHookInputHeader(0x20);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>    // The byte count of the memory snapshot to be sent to the Sentinel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>    // contract is loaded from the memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>    uint256 hookInputByteCount = getHookInputByteCount();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>    bytes4 response;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>      // Invokes the method </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>      // &#39;ISentinel.authorizeModificationOfPoolGrowthPortion&#39; and relays the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>      // reason if reverted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>      if iszero(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>        // &#39;_hookSelector_&#39; points to the beginning of the calldata to be sent</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>        // to the Sentinel contract. The total calldata byte count is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>        // &#39;hookInputByteCount + 4 + 32 + 32&#39; where &#39;4&#39; accounts for the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>        // selector, the first &#39;32&#39; accounts for the abi offset slot which is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>        // populated with &#39;0x20&#39;, and the second &#39;32&#39; accounts for length slot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>        // which is populated with &#39;hookInputByteCount&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>        call(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>          gas(),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>          sentinel,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>          0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>          _hookSelector_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>          add(hookInputByteCount, 68),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>          0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>          32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>      ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>        // Return data is copied to memory and relayed as a revert message.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>        returndatacopy(0, 0, returndatasize())</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>        revert(0, returndatasize())</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>      response := mload(0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>    // The output of &#39;ISentinel.authorizeModificationOfPoolGrowthPortion&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>    // examined.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>    require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>      response == ISentinel.authorizeModificationOfPoolGrowthPortion.selector,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>      InvalidSentinelResponse(response)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_Storage_sol" data-file-path="contracts\utilities\Storage.sol" data-lines-active="3" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\Storage.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 3</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>/// @dev Nofeeswap&#39;s storage layout.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>  _hookInputByteCount_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>  _dynamicParams_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>  _staticParams_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>  _endOfStaticParams_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>  _deploymentCreationCode_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>  _spacing_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>  getPoolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>  getPoolRatio0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>  getPoolRatio1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>  getAccrued0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>  getAccrued1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>  getShares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>  getLogPriceMinOffsetted,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>  getLogPriceMaxOffsetted,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>  getGrowth,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>  getStaticParamsStoragePointer,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>  getStaticParamsStoragePointerExtension,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>  getCurve,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>  getCurveLength,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>  getLogPriceCurrent,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>  getKernelLength,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>  getKernel,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>  getPoolGrowthPortion,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>  getMaxPoolGrowthPortion,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  getPendingKernelLength,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>  setMaxPoolGrowthPortion,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>  setProtocolGrowthPortion,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>  setPoolRatio0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>  setPoolRatio1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>  setAccrued0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>  setAccrued1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>  setStaticParamsStoragePointer,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>  setStaticParamsStoragePointerExtension,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>  setCurveLength,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>  setDeploymentCreationCode,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>  setKernelLength,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>  setPoolGrowthPortion,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>  setCurve,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>  setFreeMemoryPointer,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>  setHookInputByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>} from &quot;./Memory.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>import {ISentinel} from &quot;../interfaces/ISentinel.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>import {invokeSentinelGetGrowthPortions} from &quot;./SentinelCalls.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>import {PriceLibrary} from &quot;./Price.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>import {Curve} from &quot;./Curve.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>import {Kernel} from &quot;./Kernel.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>import {Index, zeroIndex, oneIndex, twoIndex, max} from &quot;./Index.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>import {Tag} from &quot;./Tag.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>import {X23} from &quot;./X23.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>import {X47, oneX47, min} from &quot;./X47.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>import {X59} from &quot;./X59.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>import {zeroX111} from &quot;./X111.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>import {X127, zeroX127, accruedMax} from &quot;./X127.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>import {X208, zeroX208, exp8X208} from &quot;./X208.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>import {X216, oneX216} from &quot;./X216.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>import {emitTransferEvent} from &quot;./Events.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>  InsufficientPermission,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>  AccruedGrowthPortionOverflow,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>  SharesGrossOverflow,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>  PoolDoesNotExist,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>  DeploymentFailed,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>  BalanceOverflow,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>  InsufficientBalance</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>} from &quot;./Errors.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>using PriceLibrary for uint16;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>/// @notice Writes a single slot on storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>/// @param storageSlot the slot to be populated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>/// @param value the content.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>function writeStorage(uint256 storageSlot, uint256 value) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>    sstore(storageSlot, value)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>/// @notice Reads a single slot from storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>/// @param storageSlot the slot to be read.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>/// @return value the content.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>function readStorage(uint256 storageSlot) view returns (uint256 value) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>    value := sload(storageSlot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>/////////////////////////////////////////////////// Protocol and Sentinel slots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>// uint256(keccak256(&quot;protocol&quot;)) - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>uint256 constant protocolSlot = </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>  0xFB342FA999FEA16067B1F01BAF96673F31A25F2B1443E6754D93FC40B57E8DF1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>// uint256(keccak256(&quot;sentinel&quot;)) - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>uint256 constant sentinelSlot = </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>  0xD0716769B9821201D69D150FACFD6F46F5FD95AC252F6ECCB21B7560A01E078B;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>/// @notice Writes &#39;maxPoolGrowthPortion&#39;, &#39;protocolGrowthPortion&#39;, and </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>/// protocol&#39;s owner in one storage slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>/// @param protocol the content to be written on &#39;protocolSlot&#39;, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>///   &#39;protocol == (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>///      (X47.unwrap(maxPoolGrowthPortion) &lt;&lt; 208) | </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>///      (X47.unwrap(protocolGrowthPortion) &lt;&lt; 160) | </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>///      uint256(uint160(owner))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>///    )&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>function writeProtocol(uint256 protocol) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>  writeStorage(protocolSlot, protocol);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>/// @notice Reads the content of protocol&#39;s slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>/// @return protocol The content of protocol&#39;s slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>function readProtocol() view returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>  uint256 protocol</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>  return readStorage(protocolSlot);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>/// @notice Determines protocol&#39;s owner from the content of protocol&#39;s slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>/// @param protocol The content of protocol&#39;s slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>/// @return protocolOwner The protocol owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>function getProtocolOwner(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>  uint256 protocol</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>  address protocolOwner</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>  //            6 bytes                 6 bytes             20 bytes</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>  //    +----------------------+-----------------------+---------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>  //    | maxPoolGrowthPortion | protocolGrowthPortion | protocolOwner |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>  //    +----------------------+-----------------------+---------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>  return address(uint160(protocol));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>/// @notice Determines &#39;maxPoolGrowthPortion&#39; and &#39;protocolGrowthPortion&#39; from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>/// the content of protocol&#39;s slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>/// @param protocol The content of protocol&#39;s slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>/// @return maxPoolGrowthPortion This value imposes a cap on the portion of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>/// marginal growth that goes to the pool owner followed by the protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>/// @return protocolGrowthPortion This value dictates the portion of the growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>/// that goes to the protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>function getGrowthPortions(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>  uint256 protocol</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>  X47 maxPoolGrowthPortion,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>  X47 protocolGrowthPortion</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>  //            6 bytes                 6 bytes             20 bytes</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>  //    +----------------------+-----------------------+---------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>  //    | maxPoolGrowthPortion | protocolGrowthPortion | protocolOwner |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>  //    +----------------------+-----------------------+---------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>    maxPoolGrowthPortion := shr(208, protocol)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>    protocolGrowthPortion := and(shr(160, protocol), 0xFFFFFFFFFFFF)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>/// @notice Populates the Sentinel slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>/// @param sentinel The Sentinel contract to be written on storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>function writeSentinel(ISentinel sentinel) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>    sstore(sentinelSlot, sentinel)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>/// @notice Reads the Sentinel slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>/// @return sentinel The Sentinel contract read from storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>function readSentinel() view returns (ISentinel sentinel) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>    sentinel := sload(sentinelSlot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>/// @notice This function reads &#39;maxPoolGrowthPortion&#39; and </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>/// &#39;protocolGrowthPortion&#39; from the Sentinel contract or the protocol slot. The</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>/// Sentinel contract provides the growth portions based on a snapshot of the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>/// memory. If the portions are not set for that pool at Sentinel, it returns </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>/// an infeasible response larger than &#39;oneX47&#39; and then the default value from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>/// the protocol slot is read.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>function readGrowthPortions() {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>  // First, the Sentinel contract is invoked (it it exists).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>  (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>    X47 maxPoolGrowthPortion,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>    X47 protocolGrowthPortion</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>  ) = invokeSentinelGetGrowthPortions();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>  // If any of the two given values are infeasible, then the protocol slot is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>  // read and the resulting values from the Sentinel contract are overwritten.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>  if (maxPoolGrowthPortion &gt; oneX47 || protocolGrowthPortion &gt; oneX47) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>    // &#39;maxPoolGrowthPortionProtocol&#39; and &#39;protocolGrowthPortionProtocol&#39; are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>    // read from the protocol slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>    (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>      X47 maxPoolGrowthPortionProtocol,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>      X47 protocolGrowthPortionProtocol</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>    ) = getGrowthPortions(readProtocol());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>    // If &#39;maxPoolGrowthPortion&#39; from the Sentinel contract is infeasible, then</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre>    // &#39;maxPoolGrowthPortionProtocol&#39; is chosen.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>    if (maxPoolGrowthPortion &gt; oneX47) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>      maxPoolGrowthPortion = maxPoolGrowthPortionProtocol;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>    // If &#39;protocolGrowthPortion&#39; from the Sentinel contract is infeasible,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>    // then &#39;protocolGrowthPortionProtocol&#39; is chosen.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>    if (protocolGrowthPortion &gt; oneX47) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>      protocolGrowthPortion = protocolGrowthPortionProtocol;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>  // The resulting growth portions are set in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>  setMaxPoolGrowthPortion(maxPoolGrowthPortion);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre>  setProtocolGrowthPortion(protocolGrowthPortion);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>////////////////////////////////////////////////////////// Single balance slots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre>// uint96(uint256(keccak256(&quot;singleBalance&quot;))) - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>uint96 constant singleBalanceSlot = 0x3C244899B5FA3E971383AC4B;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>/// @notice This function returns the storage slot referring to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre>/// &#39;balanceOf(owner, tag)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>/// @param owner Balance owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>/// @param tag The corresponding tag.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre>/// @return storageSlot The storage slot containing &#39;balanceOf(owner, tag)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>function getSingleBalanceSlot(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>  address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>  Tag tag</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>  uint256 storageSlot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre>    // We populate the first two memory slots from right to left:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre>    //    0                               32          52                  64</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>    //    |                               |           |                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre>    //    +-------------------------------+-----------+-------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre>    //    |              tag              |   owner   | singleBalanceSlot |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>    //    +-------------------------------+-----------+-------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre>    // Populates the least significant 12 bytes of the memory slot 1 (from 52</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>    // to 64).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre>    mstore(32, singleBalanceSlot) // 32 = 64 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre>    // Populates the most significant 20 bytes of the memory slot 1 (from 32 to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre>    // 52).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre>    mstore(20, owner) // 20 = 52 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">257</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">258</td>
                                    <td class="row-source"><pre>    // Populates the entire memory slot 0.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">259</td>
                                    <td class="row-source"><pre>    mstore(0, tag) // 0 = 32 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">260</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">261</td>
                                    <td class="row-source"><pre>    // Calculates the resulting hash.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">262</td>
                                    <td class="row-source"><pre>    storageSlot := keccak256(0, 64)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">263</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">264</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">265</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">266</td>
                                    <td class="row-source"><pre>/// @notice Increments a single balance slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">267</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">268</td>
                                    <td class="row-source"><pre>/// &#39;amount&#39; should be less than &#39;2 ** 255&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">269</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">270</td>
                                    <td class="row-source"><pre>/// @param owner Balance owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">271</td>
                                    <td class="row-source"><pre>/// @param tag The corresponding tag.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">272</td>
                                    <td class="row-source"><pre>/// @param amount The increment amount.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">273</td>
                                    <td class="row-source"><pre>function incrementBalance(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">274</td>
                                    <td class="row-source"><pre>  address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">275</td>
                                    <td class="row-source"><pre>  Tag tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">276</td>
                                    <td class="row-source"><pre>  uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">277</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">278</td>
                                    <td class="row-source"><pre>  uint256 storageSlot = getSingleBalanceSlot(owner, tag);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">279</td>
                                    <td class="row-source"><pre>  unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">280</td>
                                    <td class="row-source"><pre>    // The addition is safe, because the current content of the &#39;storageSlot&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">281</td>
                                    <td class="row-source"><pre>    // does not exceed &#39;type(uint128).max&#39; and &#39;amount &lt; 2 ** 255&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">282</td>
                                    <td class="row-source"><pre>    uint256 newBalance = readStorage(storageSlot) + amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">283</td>
                                    <td class="row-source"><pre>    require(newBalance &lt;= type(uint128).max, BalanceOverflow(newBalance));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">284</td>
                                    <td class="row-source"><pre>    writeStorage(storageSlot, newBalance);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">285</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">286</td>
                                    <td class="row-source"><pre>  emitTransferEvent(msg.sender, address(0), owner, tag, amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">287</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">288</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">289</td>
                                    <td class="row-source"><pre>/// @notice Decrements a single balance slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">290</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">291</td>
                                    <td class="row-source"><pre>/// @param owner Balance owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">292</td>
                                    <td class="row-source"><pre>/// @param tag The corresponding tag.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">293</td>
                                    <td class="row-source"><pre>/// @param absoluteValue The decrement amount.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">294</td>
                                    <td class="row-source"><pre>function decrementBalance(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">295</td>
                                    <td class="row-source"><pre>  address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">296</td>
                                    <td class="row-source"><pre>  Tag tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">297</td>
                                    <td class="row-source"><pre>  uint256 absoluteValue</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">298</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">299</td>
                                    <td class="row-source"><pre>  uint256 storageSlot = getSingleBalanceSlot(owner, tag);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">300</td>
                                    <td class="row-source"><pre>  uint256 balance = readStorage(storageSlot);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">301</td>
                                    <td class="row-source"><pre>  updateAllowance(owner, tag, absoluteValue);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">302</td>
                                    <td class="row-source"><pre>  require(balance &gt;= absoluteValue, InsufficientBalance(owner, tag));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">303</td>
                                    <td class="row-source"><pre>  unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">304</td>
                                    <td class="row-source"><pre>    // The subtraction is safe due to the prior check.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">305</td>
                                    <td class="row-source"><pre>    writeStorage(storageSlot, balance - absoluteValue);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">306</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">307</td>
                                    <td class="row-source"><pre>  emitTransferEvent(msg.sender, owner, address(0), tag, absoluteValue);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">308</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">309</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">310</td>
                                    <td class="row-source"><pre>////////////////////////////////////////////////////////// Double balance slots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">311</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">312</td>
                                    <td class="row-source"><pre>// uint96(uint256(keccak256(&quot;doubleBalance&quot;))) - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">313</td>
                                    <td class="row-source"><pre>uint96 constant doubleBalanceSlot = 0xC8F78086C3211E71A328E7F5;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">314</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">315</td>
                                    <td class="row-source"><pre>/// @notice This function returns the storage slot pointing to owner&#39;s double</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">316</td>
                                    <td class="row-source"><pre>/// balance of tags 0 and 1. This storage slot contains a balance for both</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">317</td>
                                    <td class="row-source"><pre>/// tokens which can be used to save gas.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">318</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">319</td>
                                    <td class="row-source"><pre>/// @param owner Balance owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">320</td>
                                    <td class="row-source"><pre>/// @param tag0 The corresponding tag0.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">321</td>
                                    <td class="row-source"><pre>/// @param tag1 The corresponding tag1.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">322</td>
                                    <td class="row-source"><pre>/// @return storageSlot The storage slot containing the double balance of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">323</td>
                                    <td class="row-source"><pre>/// &#39;tag0&#39; and &#39;tag1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">324</td>
                                    <td class="row-source"><pre>function getDoubleBalanceSlot(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">325</td>
                                    <td class="row-source"><pre>  address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">326</td>
                                    <td class="row-source"><pre>  Tag tag0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">327</td>
                                    <td class="row-source"><pre>  Tag tag1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">328</td>
                                    <td class="row-source"><pre>) pure returns (uint256 storageSlot) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">329</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">330</td>
                                    <td class="row-source"><pre>    // We populate the first three memory slots from right to left:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">331</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">332</td>
                                    <td class="row-source"><pre>    //    0              32             64              84                  96</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">333</td>
                                    <td class="row-source"><pre>    //    |              |              |               |                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">334</td>
                                    <td class="row-source"><pre>    //    +--------------+--------------+---------------+-------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">335</td>
                                    <td class="row-source"><pre>    //    |     tag0     |     tag1     |     owner     | doubleBalanceSlot |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">336</td>
                                    <td class="row-source"><pre>    //    +--------------+--------------+---------------+-------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">337</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">338</td>
                                    <td class="row-source"><pre>    let freeMemoryPointer := mload(0x40)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">339</td>
                                    <td class="row-source"><pre>    mstore(64, doubleBalanceSlot) // 64 = 96 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">340</td>
                                    <td class="row-source"><pre>    mstore(52, owner) // 52 = 84 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">341</td>
                                    <td class="row-source"><pre>    mstore(32, tag1) // 32 = 64 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">342</td>
                                    <td class="row-source"><pre>    mstore(0, tag0) // 32 = 32 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">343</td>
                                    <td class="row-source"><pre>    storageSlot := keccak256(0, 96)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">344</td>
                                    <td class="row-source"><pre>    mstore(0x40, freeMemoryPointer)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">345</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">346</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">347</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">348</td>
                                    <td class="row-source"><pre>/// @notice This function returns the content of the double balance slot which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">349</td>
                                    <td class="row-source"><pre>/// is pointed to by &#39;storageSlot&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">350</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">351</td>
                                    <td class="row-source"><pre>/// @param storageSlot The storage slot containing the double balance of &#39;tag0&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">352</td>
                                    <td class="row-source"><pre>/// and &#39;tag1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">353</td>
                                    <td class="row-source"><pre>/// @return amount0 The amount of tag0.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">354</td>
                                    <td class="row-source"><pre>/// @return amount1 The amount of tag1.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">355</td>
                                    <td class="row-source"><pre>function readDoubleBalance(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">356</td>
                                    <td class="row-source"><pre>  uint256 storageSlot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">357</td>
                                    <td class="row-source"><pre>) view returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">358</td>
                                    <td class="row-source"><pre>  uint256 amount0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">359</td>
                                    <td class="row-source"><pre>  uint256 amount1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">360</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">361</td>
                                    <td class="row-source"><pre>  uint256 pairBalance = readStorage(storageSlot);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">362</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">363</td>
                                    <td class="row-source"><pre>    amount0 := and(pairBalance, 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">364</td>
                                    <td class="row-source"><pre>    amount1 := shr(128, pairBalance)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">365</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">366</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">367</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">368</td>
                                    <td class="row-source"><pre>/// @notice This function populates the double balance slot which is pointed to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">369</td>
                                    <td class="row-source"><pre>/// by &#39;storageSlot&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">370</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">371</td>
                                    <td class="row-source"><pre>/// @param storageSlot The storage slot to be populated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">372</td>
                                    <td class="row-source"><pre>/// @param amount0 The amount of tag0.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">373</td>
                                    <td class="row-source"><pre>/// @param amount1 The amount of tag1.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">374</td>
                                    <td class="row-source"><pre>function writeDoubleBalance(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">375</td>
                                    <td class="row-source"><pre>  uint256 storageSlot,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">376</td>
                                    <td class="row-source"><pre>  uint256 amount0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">377</td>
                                    <td class="row-source"><pre>  uint256 amount1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">378</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">379</td>
                                    <td class="row-source"><pre>  require(amount0 &lt;= type(uint128).max, BalanceOverflow(amount0));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">380</td>
                                    <td class="row-source"><pre>  require(amount1 &lt;= type(uint128).max, BalanceOverflow(amount1));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">381</td>
                                    <td class="row-source"><pre>  writeStorage(storageSlot, (amount1 &lt;&lt; 128) | amount0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">382</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">383</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">384</td>
                                    <td class="row-source"><pre>///////////////////////////////////////////////////////// LP total supply slots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">385</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">386</td>
                                    <td class="row-source"><pre>// uint128(uint256(keccak256(&quot;totalSupply&quot;))) - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">387</td>
                                    <td class="row-source"><pre>uint128 constant totalSupplySlot = 0x5daca5ccc655360fa5ccacf9c267936c;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">388</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">389</td>
                                    <td class="row-source"><pre>/// @notice This function increments/decrements total supply associated with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">390</td>
                                    <td class="row-source"><pre>/// LP positions.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">391</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">392</td>
                                    <td class="row-source"><pre>/// @param poolId The pool identifier hosting this liquidity position.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">393</td>
                                    <td class="row-source"><pre>/// @param qMin Equal to &#39;(2 ** 59) * (16 + log(pMin / pOffset))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">394</td>
                                    <td class="row-source"><pre>/// @param qMax Equal to &#39;(2 ** 59) * (16 + log(pMax / pOffset))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">395</td>
                                    <td class="row-source"><pre>/// @param shares The number of shares to be added/subtracted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">396</td>
                                    <td class="row-source"><pre>function updateTotalSupply(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">397</td>
                                    <td class="row-source"><pre>  uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">398</td>
                                    <td class="row-source"><pre>  X59 qMin,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">399</td>
                                    <td class="row-source"><pre>  X59 qMax,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">400</td>
                                    <td class="row-source"><pre>  int256 shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">401</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">402</td>
                                    <td class="row-source"><pre>  // We populate the first two memory slots from right to left:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">403</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">404</td>
                                    <td class="row-source"><pre>  //    0        32     40     48                64</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">405</td>
                                    <td class="row-source"><pre>  //    |        |      |      |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">406</td>
                                    <td class="row-source"><pre>  //    +--------+------+------+-----------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">407</td>
                                    <td class="row-source"><pre>  //    | poolId | qMin | qMax | totalSupplySlot |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">408</td>
                                    <td class="row-source"><pre>  //    +--------+------+------+-----------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">409</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">410</td>
                                    <td class="row-source"><pre>  uint256 storageSlot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">411</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">412</td>
                                    <td class="row-source"><pre>    mstore(32, totalSupplySlot) // 32 = 64 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">413</td>
                                    <td class="row-source"><pre>    mstore(16, qMax) // 16 = 48 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">414</td>
                                    <td class="row-source"><pre>    mstore(8, qMin) // 8 = 40 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">415</td>
                                    <td class="row-source"><pre>    mstore(0, poolId) // 0 = 32 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">416</td>
                                    <td class="row-source"><pre>    storageSlot := keccak256(0, 64)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">417</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">418</td>
                                    <td class="row-source"><pre>  uint256 totalSupply = readStorage(storageSlot);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">419</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">420</td>
                                    <td class="row-source"><pre>    totalSupply := add(totalSupply, shares)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">421</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">422</td>
                                    <td class="row-source"><pre>  require(totalSupply &lt;= type(uint128).max, BalanceOverflow(totalSupply));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">423</td>
                                    <td class="row-source"><pre>  writeStorage(storageSlot, totalSupply);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">424</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">425</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">426</td>
                                    <td class="row-source"><pre>//////////////////////////////////////////////////////////////// Operator slots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">427</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">428</td>
                                    <td class="row-source"><pre>// uint96(uint256(keccak256(&quot;isOperator&quot;))) - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">429</td>
                                    <td class="row-source"><pre>uint96 constant isOperatorSlot = 0xE442B523D9447037E4923F5B;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">430</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">431</td>
                                    <td class="row-source"><pre>/// @notice This function returns the storage slot referring to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">432</td>
                                    <td class="row-source"><pre>/// &#39;isOperator(owner, spender)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">433</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">434</td>
                                    <td class="row-source"><pre>/// @param owner Balance owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">435</td>
                                    <td class="row-source"><pre>/// @param spender The spender whose allowance to be read.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">436</td>
                                    <td class="row-source"><pre>/// @return storageSlot The storage slot which records whether the &#39;spender&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">437</td>
                                    <td class="row-source"><pre>/// is an operator for the &#39;owner&#39; or not.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">438</td>
                                    <td class="row-source"><pre>function getIsOperatorSlot(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">439</td>
                                    <td class="row-source"><pre>  address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">440</td>
                                    <td class="row-source"><pre>  address spender</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">441</td>
                                    <td class="row-source"><pre>) pure returns (uint256 storageSlot) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">442</td>
                                    <td class="row-source"><pre>  // We populate the first two memory slots from right to left:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">443</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">444</td>
                                    <td class="row-source"><pre>  //    12              32              52               64</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">445</td>
                                    <td class="row-source"><pre>  //    |               |               |                |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">446</td>
                                    <td class="row-source"><pre>  //    +---------------+---------------+----------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">447</td>
                                    <td class="row-source"><pre>  //    |    spender    |     owner     | isOperatorSlot |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">448</td>
                                    <td class="row-source"><pre>  //    +---------------+---------------+----------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">449</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">450</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">451</td>
                                    <td class="row-source"><pre>    mstore(32, isOperatorSlot) // 32 = 64 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">452</td>
                                    <td class="row-source"><pre>    mstore(20, owner) // 20 = 52 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">453</td>
                                    <td class="row-source"><pre>    mstore(0, spender) // 0 = 32 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">454</td>
                                    <td class="row-source"><pre>    storageSlot := keccak256(12, 52) // 52 = 64 - 12</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">455</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">456</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">457</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">458</td>
                                    <td class="row-source"><pre>/////////////////////////////////////////////////////////////// Allowance slots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">459</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">460</td>
                                    <td class="row-source"><pre>// uint96(uint256(keccak256(&quot;allowance&quot;))) - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">461</td>
                                    <td class="row-source"><pre>uint96 constant allowanceSlot = 0x34105B980BA117BD0C29FE0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">462</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">463</td>
                                    <td class="row-source"><pre>/// @notice This function returns the storage slot pointing to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">464</td>
                                    <td class="row-source"><pre>/// &#39;allowance(owner, spender, tag)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">465</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">466</td>
                                    <td class="row-source"><pre>/// @param owner Balance owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">467</td>
                                    <td class="row-source"><pre>/// @param spender The spender whose allowance to be read.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">468</td>
                                    <td class="row-source"><pre>/// @param tag The corresponding tag.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">469</td>
                                    <td class="row-source"><pre>/// @return storageSlot The storage slot to be calculated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">470</td>
                                    <td class="row-source"><pre>function getAllowanceSlot(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">471</td>
                                    <td class="row-source"><pre>  address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">472</td>
                                    <td class="row-source"><pre>  address spender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">473</td>
                                    <td class="row-source"><pre>  Tag tag</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">474</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">475</td>
                                    <td class="row-source"><pre>  uint256 storageSlot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">476</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">477</td>
                                    <td class="row-source"><pre>  // We populate the first three memory slots from right to left:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">478</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">479</td>
                                    <td class="row-source"><pre>  //    0             32              52              72              84</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">480</td>
                                    <td class="row-source"><pre>  //    |             |               |               |               |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">481</td>
                                    <td class="row-source"><pre>  //    +-------------+---------------+---------------+---------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">482</td>
                                    <td class="row-source"><pre>  //    |     tag     |    spender    |     owner     | allowanceSlot |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">483</td>
                                    <td class="row-source"><pre>  //    +-------------+---------------+---------------+---------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">484</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">485</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">486</td>
                                    <td class="row-source"><pre>    let freeMemoryPointer := mload(0x40)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">487</td>
                                    <td class="row-source"><pre>    mstore(52, allowanceSlot) // 52 = 84 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">488</td>
                                    <td class="row-source"><pre>    mstore(40, owner) // 40 = 72 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">489</td>
                                    <td class="row-source"><pre>    mstore(20, spender) // 20 = 52 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">490</td>
                                    <td class="row-source"><pre>    mstore(0, tag) // 0 = 32 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">491</td>
                                    <td class="row-source"><pre>    storageSlot := keccak256(0, 84)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">492</td>
                                    <td class="row-source"><pre>    mstore(0x40, freeMemoryPointer)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">493</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">494</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">495</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">496</td>
                                    <td class="row-source"><pre>/// @notice This function updates ERC-6909 allowance after each expenditure</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">497</td>
                                    <td class="row-source"><pre>/// performed by a spender.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">498</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">499</td>
                                    <td class="row-source"><pre>/// @param owner Balance owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">500</td>
                                    <td class="row-source"><pre>/// @param tag The corresponding tag.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">501</td>
                                    <td class="row-source"><pre>/// @param amount The amount to be decremented from allowance.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">502</td>
                                    <td class="row-source"><pre>function updateAllowance(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">503</td>
                                    <td class="row-source"><pre>  address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">504</td>
                                    <td class="row-source"><pre>  Tag tag,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">505</td>
                                    <td class="row-source"><pre>  uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">506</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">507</td>
                                    <td class="row-source"><pre>  // If &#39;owner&#39; is equal to &#39;spender&#39;, then we do not need to decrement any</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">508</td>
                                    <td class="row-source"><pre>  // allowance value.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">509</td>
                                    <td class="row-source"><pre>  if (owner != msg.sender) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">510</td>
                                    <td class="row-source"><pre>    // If &#39;owner&#39; is the operator, then we do not need to decrement any</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">511</td>
                                    <td class="row-source"><pre>    // allowance value either.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">512</td>
                                    <td class="row-source"><pre>    if (readStorage(getIsOperatorSlot(owner, msg.sender)) == 0) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">513</td>
                                    <td class="row-source"><pre>      uint256 storageSlot = getAllowanceSlot(owner, msg.sender, tag);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">514</td>
                                    <td class="row-source"><pre>      uint256 senderAllowance = readStorage(storageSlot);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">515</td>
                                    <td class="row-source"><pre>      require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">516</td>
                                    <td class="row-source"><pre>        senderAllowance &gt;= amount,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">517</td>
                                    <td class="row-source"><pre>        InsufficientPermission(msg.sender, tag)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">518</td>
                                    <td class="row-source"><pre>      );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">519</td>
                                    <td class="row-source"><pre>      if (senderAllowance != type(uint256).max) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">520</td>
                                    <td class="row-source"><pre>        unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">521</td>
                                    <td class="row-source"><pre>          // The subtraction is safe due to the prior check.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">522</td>
                                    <td class="row-source"><pre>          writeStorage(storageSlot, senderAllowance - amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">523</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">524</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">525</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">526</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">527</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">528</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">529</td>
                                    <td class="row-source"><pre>////////////////////////////////////////////////////////////// Pool owner slots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">530</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">531</td>
                                    <td class="row-source"><pre>// uint128(uint256(keccak256(&quot;poolOwner&quot;))) - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">532</td>
                                    <td class="row-source"><pre>uint128 constant poolOwnerSlot = 0x68E919334073168F7B6F6D0178986A64;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">533</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">534</td>
                                    <td class="row-source"><pre>/// @notice This function returns the storage slot referring to the owner of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">535</td>
                                    <td class="row-source"><pre>/// a pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">536</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">537</td>
                                    <td class="row-source"><pre>/// @param poolId The &#39;poolId&#39; whose owner slot to be derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">538</td>
                                    <td class="row-source"><pre>/// @return storageSlot The storage slot containing the pool owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">539</td>
                                    <td class="row-source"><pre>function getPoolOwnerSlot(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">540</td>
                                    <td class="row-source"><pre>  uint256 poolId</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">541</td>
                                    <td class="row-source"><pre>) pure returns (uint256 storageSlot) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">542</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">543</td>
                                    <td class="row-source"><pre>    // We populate the first two memory slots from right to left:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">544</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">545</td>
                                    <td class="row-source"><pre>    //    0              32              48</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">546</td>
                                    <td class="row-source"><pre>    //    |              |               |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">547</td>
                                    <td class="row-source"><pre>    //    +--------------+---------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">548</td>
                                    <td class="row-source"><pre>    //    |    poolId    | poolOwnerSlot |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">549</td>
                                    <td class="row-source"><pre>    //    +--------------+---------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">550</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">551</td>
                                    <td class="row-source"><pre>    mstore(16, poolOwnerSlot) // 16 = 48 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">552</td>
                                    <td class="row-source"><pre>    mstore(0, poolId)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">553</td>
                                    <td class="row-source"><pre>    storageSlot := keccak256(0, 48)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">554</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">555</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">556</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">557</td>
                                    <td class="row-source"><pre>/// @notice Returns the owner of a given pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">558</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">559</td>
                                    <td class="row-source"><pre>/// @param storageSlot The storage slot containing the pool owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">560</td>
                                    <td class="row-source"><pre>/// @return poolOwner The pool owner to be returned.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">561</td>
                                    <td class="row-source"><pre>function readPoolOwner(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">562</td>
                                    <td class="row-source"><pre>  uint256 storageSlot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">563</td>
                                    <td class="row-source"><pre>) view returns (address poolOwner) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">564</td>
                                    <td class="row-source"><pre>  return address(uint160(readStorage(storageSlot)));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">565</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">566</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">567</td>
                                    <td class="row-source"><pre>/// @notice Writes the owner of a given pool on storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">568</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">569</td>
                                    <td class="row-source"><pre>/// @param storageSlot The storage slot to be populated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">570</td>
                                    <td class="row-source"><pre>/// @param poolOwner The pool owner to be written on the &#39;storageSlot&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">571</td>
                                    <td class="row-source"><pre>function writePoolOwner(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">572</td>
                                    <td class="row-source"><pre>  uint256 storageSlot,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">573</td>
                                    <td class="row-source"><pre>  address poolOwner</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">574</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">575</td>
                                    <td class="row-source"><pre>  writeStorage(storageSlot, uint256(uint160(poolOwner)));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">576</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">577</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">578</td>
                                    <td class="row-source"><pre>////////////////////////////////////////////////////// Accrued parameters slots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">579</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">580</td>
                                    <td class="row-source"><pre>// uint128(uint256(keccak256(&quot;accruedParams&quot;))) - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">581</td>
                                    <td class="row-source"><pre>uint128 constant accruedParamsSlot = 0x5E1C6265E3E30CEA650443FB20EF1EF9;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">582</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">583</td>
                                    <td class="row-source"><pre>/// @notice This function returns the storage slot containing to the pool&#39;s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">584</td>
                                    <td class="row-source"><pre>/// accrued growth portions.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">585</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">586</td>
                                    <td class="row-source"><pre>/// @param poolId The &#39;poolId&#39; whose owner slot to be derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">587</td>
                                    <td class="row-source"><pre>/// @return storageSlot The storage slot containing the pool owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">588</td>
                                    <td class="row-source"><pre>function getAccruedParamsSlot(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">589</td>
                                    <td class="row-source"><pre>  uint256 poolId</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">590</td>
                                    <td class="row-source"><pre>) pure returns (uint256 storageSlot) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">591</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">592</td>
                                    <td class="row-source"><pre>    // We populate the first two memory slots from right to left:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">593</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">594</td>
                                    <td class="row-source"><pre>    //    0              32                  48</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">595</td>
                                    <td class="row-source"><pre>    //    |              |                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">596</td>
                                    <td class="row-source"><pre>    //    +--------------+-------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">597</td>
                                    <td class="row-source"><pre>    //    |    poolId    | accruedParamsSlot |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">598</td>
                                    <td class="row-source"><pre>    //    +--------------+-------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">599</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">600</td>
                                    <td class="row-source"><pre>    mstore(16, accruedParamsSlot) // 16 = 48 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">601</td>
                                    <td class="row-source"><pre>    mstore(0, poolId)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">602</td>
                                    <td class="row-source"><pre>    storageSlot := keccak256(0, 48)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">603</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">604</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">605</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">606</td>
                                    <td class="row-source"><pre>/// @notice This function reads the pool&#39;s accrued growth portions from storage</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">607</td>
                                    <td class="row-source"><pre>/// and sets them in the appropriate memory locations:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">608</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">609</td>
                                    <td class="row-source"><pre>/// poolRatio0 (24 bits): the ratio of accrued value0 belonging to the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">610</td>
                                    <td class="row-source"><pre>/// poolRatio1 (24 bits): the ratio of accrued value1 belonging to the pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">611</td>
                                    <td class="row-source"><pre>/// accrued0 (104 bits): total accrued in tag0 owed to both pool and protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">612</td>
                                    <td class="row-source"><pre>/// accrued1 (104 bits): total accrued in tag1 owed to both pool and protocol.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">613</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">614</td>
                                    <td class="row-source"><pre>/// The above values are encoded tightly in the following order:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">615</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">616</td>
                                    <td class="row-source"><pre>///         3 bytes          3 bytes          13 bytes         13 bytes</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">617</td>
                                    <td class="row-source"><pre>///    +----------------+----------------+----------------+----------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">618</td>
                                    <td class="row-source"><pre>///    |   poolRatio1   |   poolRatio0   |    accrued1    |    accrued0    |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">619</td>
                                    <td class="row-source"><pre>///    +----------------+----------------+----------------+----------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">620</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">621</td>
                                    <td class="row-source"><pre>function readAccruedParams() view {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">622</td>
                                    <td class="row-source"><pre>  X23 poolRatio0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">623</td>
                                    <td class="row-source"><pre>  X23 poolRatio1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">624</td>
                                    <td class="row-source"><pre>  X127 accrued0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">625</td>
                                    <td class="row-source"><pre>  X127 accrued1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">626</td>
                                    <td class="row-source"><pre>  uint256 accruedSlot = readStorage(getAccruedParamsSlot(getPoolId()));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">627</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">628</td>
                                    <td class="row-source"><pre>    poolRatio0 := and(shr(208, accruedSlot), 0xFFFFFF)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">629</td>
                                    <td class="row-source"><pre>    poolRatio1 := shr(232, accruedSlot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">630</td>
                                    <td class="row-source"><pre>    accrued0 := shl(127, and(accruedSlot, 0xFFFFFFFFFFFFFFFFFFFFFFFFFF))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">631</td>
                                    <td class="row-source"><pre>    accrued1 := shl(23, and(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">632</td>
                                    <td class="row-source"><pre>      accruedSlot,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">633</td>
                                    <td class="row-source"><pre>      shl(104, 0xFFFFFFFFFFFFFFFFFFFFFFFFFF)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">634</td>
                                    <td class="row-source"><pre>    ))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">635</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">636</td>
                                    <td class="row-source"><pre>  setPoolRatio0(poolRatio0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">637</td>
                                    <td class="row-source"><pre>  setPoolRatio1(poolRatio1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">638</td>
                                    <td class="row-source"><pre>  setAccrued0(accrued0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">639</td>
                                    <td class="row-source"><pre>  setAccrued1(accrued1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">640</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">641</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">642</td>
                                    <td class="row-source"><pre>/// @notice This function writes pool&#39;s accrued growth portions to storage from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">643</td>
                                    <td class="row-source"><pre>/// memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">644</td>
                                    <td class="row-source"><pre>function writeAccruedParams() {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">645</td>
                                    <td class="row-source"><pre>  X127 accrued0 = getAccrued0();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">646</td>
                                    <td class="row-source"><pre>  require(accrued0 &gt;= zeroX127, AccruedGrowthPortionOverflow(accrued0));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">647</td>
                                    <td class="row-source"><pre>  require(accrued0 &lt;= accruedMax, AccruedGrowthPortionOverflow(accrued0));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">648</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">649</td>
                                    <td class="row-source"><pre>  X127 accrued1 = getAccrued1();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">650</td>
                                    <td class="row-source"><pre>  require(accrued1 &gt;= zeroX127, AccruedGrowthPortionOverflow(accrued1));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">651</td>
                                    <td class="row-source"><pre>  require(accrued1 &lt;= accruedMax, AccruedGrowthPortionOverflow(accrued1));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">652</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">653</td>
                                    <td class="row-source"><pre>  X23 poolRatio0 = getPoolRatio0();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">654</td>
                                    <td class="row-source"><pre>  X23 poolRatio1 = getPoolRatio1();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">655</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">656</td>
                                    <td class="row-source"><pre>  uint256 accruedSlot = getAccruedParamsSlot(getPoolId());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">657</td>
                                    <td class="row-source"><pre>  uint256 accrued;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">658</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">659</td>
                                    <td class="row-source"><pre>    accrued := or(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">660</td>
                                    <td class="row-source"><pre>      or(shl(232, poolRatio1), shl(208, poolRatio0)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">661</td>
                                    <td class="row-source"><pre>      or(shl(104, shr(127, accrued1)), shr(127, accrued0))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">662</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">663</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">664</td>
                                    <td class="row-source"><pre>  writeStorage(accruedSlot, accrued);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">665</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">666</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">667</td>
                                    <td class="row-source"><pre>/////////////////////////////////////////////////////// Growth multiplier slots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">668</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">669</td>
                                    <td class="row-source"><pre>// uint64(uint256(keccak256(&quot;growthMultiplier&quot;))) - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">670</td>
                                    <td class="row-source"><pre>uint64 constant growthMultiplierSlot = 0x1447E579411C2C93;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">671</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">672</td>
                                    <td class="row-source"><pre>/// @notice This function returns the storage slot containing the pool&#39;s growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">673</td>
                                    <td class="row-source"><pre>/// multiplier at the given interval boundary, i.e.,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">674</td>
                                    <td class="row-source"><pre>/// &#39;growthMultiplier[qBoundary]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">675</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">676</td>
                                    <td class="row-source"><pre>/// @param poolId The corresponding poolId.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">677</td>
                                    <td class="row-source"><pre>/// @param qBoundary The interval boundary whose corresponding growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">678</td>
                                    <td class="row-source"><pre>/// multiplier slot is to be derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">679</td>
                                    <td class="row-source"><pre>/// @return storageSlot The storage slot containing the growth multiplier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">680</td>
                                    <td class="row-source"><pre>function getGrowthMultiplierSlot(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">681</td>
                                    <td class="row-source"><pre>  uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">682</td>
                                    <td class="row-source"><pre>  X59 qBoundary</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">683</td>
                                    <td class="row-source"><pre>) pure returns (uint256 storageSlot) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">684</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">685</td>
                                    <td class="row-source"><pre>    // We populate the first two memory slots from right to left:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">686</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">687</td>
                                    <td class="row-source"><pre>    //    0                32                   40                     48</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">688</td>
                                    <td class="row-source"><pre>    //    |                |                    |                      |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">689</td>
                                    <td class="row-source"><pre>    //    +----------------+--------------------+----------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">690</td>
                                    <td class="row-source"><pre>    //    |     poolId     |      qBoundary     | growthMultiplierSlot |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">691</td>
                                    <td class="row-source"><pre>    //    +----------------+--------------------+----------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">692</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">693</td>
                                    <td class="row-source"><pre>    mstore(16, growthMultiplierSlot) // 16 = 48 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">694</td>
                                    <td class="row-source"><pre>    mstore(8, qBoundary) // 8 = 40 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">695</td>
                                    <td class="row-source"><pre>    mstore(0, poolId) // 0 = 32 - 32</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">696</td>
                                    <td class="row-source"><pre>    storageSlot := keccak256(0, 48)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">697</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">698</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">699</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">700</td>
                                    <td class="row-source"><pre>/// @notice Reads the growth multiplier from &#39;storageSlot&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">701</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">702</td>
                                    <td class="row-source"><pre>/// @param storageSlot The storage slot hosting the growth multiplier.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">703</td>
                                    <td class="row-source"><pre>/// @return growthMultiplier The growth multiplier to be returned.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">704</td>
                                    <td class="row-source"><pre>function readGrowthMultiplier(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">705</td>
                                    <td class="row-source"><pre>  uint256 storageSlot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">706</td>
                                    <td class="row-source"><pre>) view returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">707</td>
                                    <td class="row-source"><pre>  X208 growthMultiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">708</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">709</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">710</td>
                                    <td class="row-source"><pre>    growthMultiplier := sload(storageSlot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">711</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">712</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">713</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">714</td>
                                    <td class="row-source"><pre>/// @notice This function calculates the following default value of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">715</td>
                                    <td class="row-source"><pre>/// &#39;growthMultiplier[qBoundary]&#39; for a given spaced &#39;qBoundary&#39; with the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">716</td>
                                    <td class="row-source"><pre>/// assumption that &quot;qUpper &lt;= qBoundary&quot;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">717</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">718</td>
                                    <td class="row-source"><pre>///                                     +oo</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">719</td>
                                    <td class="row-source"><pre>///                                    -----</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">720</td>
                                    <td class="row-source"><pre>///    growthMultiplier[qBoundary]     \       - (qBoundary + j * qSpacing) / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">721</td>
                                    <td class="row-source"><pre>///  &#39;----------------------------- == /     e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">722</td>
                                    <td class="row-source"><pre>///              2 ** 208              -----</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">723</td>
                                    <td class="row-source"><pre>///                                    j = 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">724</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">725</td>
                                    <td class="row-source"><pre>///       - qBoundary / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">726</td>
                                    <td class="row-source"><pre>///     e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">727</td>
                                    <td class="row-source"><pre>///   ---------------------- ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">728</td>
                                    <td class="row-source"><pre>///          - qSpacing / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">729</td>
                                    <td class="row-source"><pre>///    1 - e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">730</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">731</td>
                                    <td class="row-source"><pre>///                                - 8 - qBoundary / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">732</td>
                                    <td class="row-source"><pre>///     + 8         (2 ** 216) * e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">733</td>
                                    <td class="row-source"><pre>///   e     * -------------------------------------------- ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">734</td>
                                    <td class="row-source"><pre>///                                        - qSpacing / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">735</td>
                                    <td class="row-source"><pre>///            (2 ** 216) - (2 ** 216) * e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">736</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">737</td>
                                    <td class="row-source"><pre>///                                - 8 - qBoundary / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">738</td>
                                    <td class="row-source"><pre>///    exp8X208     (2 ** 216) * e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">739</td>
                                    <td class="row-source"><pre>///   ---------- * ------------------------------------ &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">740</td>
                                    <td class="row-source"><pre>///    2 ** 208      oneX216 - _spacing_.sqrt(false)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">741</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">742</td>
                                    <td class="row-source"><pre>/// This is because the boundary is touched for the first time and the growth </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">743</td>
                                    <td class="row-source"><pre>/// for every single interval on its right side is equal to &#39;1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">744</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">745</td>
                                    <td class="row-source"><pre>/// &#39;qBoundary&#39; should be positive and less than &#39;2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">746</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">747</td>
                                    <td class="row-source"><pre>/// @param qBoundary The interval boundary whose corresponding growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">748</td>
                                    <td class="row-source"><pre>/// multiplier is to be derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">749</td>
                                    <td class="row-source"><pre>/// @return growthMultiplier The growth multiplier to be returned.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">750</td>
                                    <td class="row-source"><pre>function calculateGrowthMultiplier0(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">751</td>
                                    <td class="row-source"><pre>  X59 qBoundary</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">752</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">753</td>
                                    <td class="row-source"><pre>  X208 growthMultiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">754</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">755</td>
                                    <td class="row-source"><pre>  // The requirements of &#39;exp&#39; are satisfied here due to the input </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">756</td>
                                    <td class="row-source"><pre>  // requirement of the present function.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">757</td>
                                    <td class="row-source"><pre>  (X216 sqrtPrice, ) = qBoundary.exp();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">758</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">759</td>
                                    <td class="row-source"><pre>  // &#39;mulDiv&#39; is safe because both the &#39;numerator&#39; and &#39;denominator&#39; are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">760</td>
                                    <td class="row-source"><pre>  // nonnegative and also, the output does not exceed 256-bits. More</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">761</td>
                                    <td class="row-source"><pre>  // precisely:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">762</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">763</td>
                                    <td class="row-source"><pre>  //                     - qBoundary / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">764</td>
                                    <td class="row-source"><pre>  //                   e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">765</td>
                                    <td class="row-source"><pre>  //   &#39;(2 ** 208) * ---------------------- ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">766</td>
                                    <td class="row-source"><pre>  //                        - qSpacing / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">767</td>
                                    <td class="row-source"><pre>  //                  1 - e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">768</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">769</td>
                                    <td class="row-source"><pre>  //                                  + 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">770</td>
                                    <td class="row-source"><pre>  //                                e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">771</td>
                                    <td class="row-source"><pre>  //    (2 ** 208) * ----------------------------------- &lt; 2 ** 256&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">772</td>
                                    <td class="row-source"><pre>  //                        - minLogSpacing / (2 ** 60)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">773</td>
                                    <td class="row-source"><pre>  //                  1 - e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">774</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">775</td>
                                    <td class="row-source"><pre>  growthMultiplier = exp8X208.mulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">776</td>
                                    <td class="row-source"><pre>    sqrtPrice,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">777</td>
                                    <td class="row-source"><pre>    oneX216 - _spacing_.sqrt(false)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">778</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">779</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">780</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">781</td>
                                    <td class="row-source"><pre>/// @notice This function calculates the following default value of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">782</td>
                                    <td class="row-source"><pre>/// &#39;growthMultiplier[qBoundary]&#39; for a given spaced &#39;qBoundary&#39; with the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">783</td>
                                    <td class="row-source"><pre>/// assumption that &quot;qBoundary &lt;= qLower&quot;:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">784</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">785</td>
                                    <td class="row-source"><pre>///                                     +oo</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">786</td>
                                    <td class="row-source"><pre>///                                    -----</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">787</td>
                                    <td class="row-source"><pre>///    growthMultiplier[qBoundary]     \       + (qBoundary - j * qSpacing) / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">788</td>
                                    <td class="row-source"><pre>///  &#39;----------------------------- == /     e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">789</td>
                                    <td class="row-source"><pre>///              2 ** 208              -----</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">790</td>
                                    <td class="row-source"><pre>///                                    j = 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">791</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">792</td>
                                    <td class="row-source"><pre>///       + qBoundary / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">793</td>
                                    <td class="row-source"><pre>///     e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">794</td>
                                    <td class="row-source"><pre>///   ---------------------- ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">795</td>
                                    <td class="row-source"><pre>///          - qSpacing / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">796</td>
                                    <td class="row-source"><pre>///    1 - e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">797</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">798</td>
                                    <td class="row-source"><pre>///                                - 8 + qBoundary / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">799</td>
                                    <td class="row-source"><pre>///     + 8         (2 ** 216) * e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">800</td>
                                    <td class="row-source"><pre>///   e     * -------------------------------------------- ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">801</td>
                                    <td class="row-source"><pre>///                                        - qSpacing / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">802</td>
                                    <td class="row-source"><pre>///            (2 ** 216) - (2 ** 216) * e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">803</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">804</td>
                                    <td class="row-source"><pre>///                                - 8 + qBoundary / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">805</td>
                                    <td class="row-source"><pre>///    exp8X208     (2 ** 216) * e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">806</td>
                                    <td class="row-source"><pre>///   ---------- * ------------------------------------ &#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">807</td>
                                    <td class="row-source"><pre>///    2 ** 208      oneX216 - _spacing_.sqrt(false)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">808</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">809</td>
                                    <td class="row-source"><pre>/// This is because the boundary is touched for the first time and the growth </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">810</td>
                                    <td class="row-source"><pre>/// for every single interval on its right side is equal to &#39;1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">811</td>
                                    <td class="row-source"><pre>/// </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">812</td>
                                    <td class="row-source"><pre>/// &#39;qBoundary&#39; should be positive and less than &#39;2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">813</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">814</td>
                                    <td class="row-source"><pre>/// @param qBoundary The interval boundary whose corresponding growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">815</td>
                                    <td class="row-source"><pre>/// multiplier is to be derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">816</td>
                                    <td class="row-source"><pre>/// @return growthMultiplier The growth multiplier to be returned.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">817</td>
                                    <td class="row-source"><pre>function calculateGrowthMultiplier1(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">818</td>
                                    <td class="row-source"><pre>  X59 qBoundary</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">819</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">820</td>
                                    <td class="row-source"><pre>  X208 growthMultiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">821</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">822</td>
                                    <td class="row-source"><pre>  // The requirements of &#39;exp&#39; are satisfied here due to the input </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">823</td>
                                    <td class="row-source"><pre>  // requirement of the present function.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">824</td>
                                    <td class="row-source"><pre>  (, X216 sqrtInversePrice) = qBoundary.exp();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">825</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">826</td>
                                    <td class="row-source"><pre>  // &#39;mulDiv&#39; is safe because both the &#39;numerator&#39; and &#39;denominator&#39; are</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">827</td>
                                    <td class="row-source"><pre>  // nonnegative and also, the output does not exceed 256-bits. More</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">828</td>
                                    <td class="row-source"><pre>  // precisely:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">829</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">830</td>
                                    <td class="row-source"><pre>  //                     + qBoundary / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">831</td>
                                    <td class="row-source"><pre>  //                   e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">832</td>
                                    <td class="row-source"><pre>  //   &#39;(2 ** 208) * ---------------------- ==</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">833</td>
                                    <td class="row-source"><pre>  //                        - qSpacing / 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">834</td>
                                    <td class="row-source"><pre>  //                  1 - e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">835</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">836</td>
                                    <td class="row-source"><pre>  //                                  + 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">837</td>
                                    <td class="row-source"><pre>  //                                e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">838</td>
                                    <td class="row-source"><pre>  //    (2 ** 208) * ----------------------------------- &lt; 2 ** 256&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">839</td>
                                    <td class="row-source"><pre>  //                        - minLogSpacing / (2 ** 60)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">840</td>
                                    <td class="row-source"><pre>  //                  1 - e</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">841</td>
                                    <td class="row-source"><pre>  //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">842</td>
                                    <td class="row-source"><pre>  growthMultiplier = exp8X208.mulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">843</td>
                                    <td class="row-source"><pre>    sqrtInversePrice,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">844</td>
                                    <td class="row-source"><pre>    oneX216 - _spacing_.sqrt(false)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">845</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">846</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">847</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">848</td>
                                    <td class="row-source"><pre>/// @notice This function returns &#39;growthMultiplier[qBoundary]&#39; for a given</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">849</td>
                                    <td class="row-source"><pre>/// spaced &#39;qBoundary&#39; with the assumption that &quot;qUpper &lt;= qBoundary&quot;. If </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">850</td>
                                    <td class="row-source"><pre>/// &#39;growthMultiplier[qBoundary]&#39; is never set on storage, the function returns</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">851</td>
                                    <td class="row-source"><pre>/// the default value.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">852</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">853</td>
                                    <td class="row-source"><pre>/// &#39;qBoundary&#39; should be positive and less than &#39;2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">854</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">855</td>
                                    <td class="row-source"><pre>/// @param qBoundary The interval boundary whose corresponding growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">856</td>
                                    <td class="row-source"><pre>/// multiplier is to be derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">857</td>
                                    <td class="row-source"><pre>/// @return growthMultiplier The growth multiplier to be returned.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">858</td>
                                    <td class="row-source"><pre>function readGrowthMultiplier0(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">859</td>
                                    <td class="row-source"><pre>  X59 qBoundary</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">860</td>
                                    <td class="row-source"><pre>) returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">861</td>
                                    <td class="row-source"><pre>  X208 growthMultiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">862</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">863</td>
                                    <td class="row-source"><pre>  // The storage slot containing &#39;growthMultiplier[qBoundary]&#39; is derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">864</td>
                                    <td class="row-source"><pre>  uint256 storageSlot = getGrowthMultiplierSlot(getPoolId(), qBoundary);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">865</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">866</td>
                                    <td class="row-source"><pre>  // &#39;growthMultiplier[qBoundary]&#39; is read from storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">867</td>
                                    <td class="row-source"><pre>  growthMultiplier = readGrowthMultiplier(storageSlot);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">868</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">869</td>
                                    <td class="row-source"><pre>  // If &#39;growthMultiplier[qBoundary]&#39; is not set before, then it should be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">870</td>
                                    <td class="row-source"><pre>  // calculated, written on storage and returned.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">871</td>
                                    <td class="row-source"><pre>  if (growthMultiplier == zeroX208) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">872</td>
                                    <td class="row-source"><pre>    // The default value for &#39;growthMultiplier[qBoundary]&#39; is calculated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">873</td>
                                    <td class="row-source"><pre>    growthMultiplier = calculateGrowthMultiplier0(qBoundary);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">874</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">875</td>
                                    <td class="row-source"><pre>    // The calculation for &#39;growthMultiplier[qBoundary]&#39; is written on storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">876</td>
                                    <td class="row-source"><pre>    writeGrowthMultiplier(storageSlot, growthMultiplier);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">877</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">878</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">879</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">880</td>
                                    <td class="row-source"><pre>/// @notice This function returns &#39;growthMultiplier[qBoundary]&#39; for a given</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">881</td>
                                    <td class="row-source"><pre>/// spaced &#39;qBoundary&#39; with the assumption that &quot;qBoundary &lt;= qLower&quot;. If </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">882</td>
                                    <td class="row-source"><pre>/// &#39;growthMultiplier[qBoundary]&#39; is never set on storage, the function returns</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">883</td>
                                    <td class="row-source"><pre>/// the default value.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">884</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">885</td>
                                    <td class="row-source"><pre>/// &#39;qBoundary&#39; should be positive and less than &#39;2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">886</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">887</td>
                                    <td class="row-source"><pre>/// @param qBoundary The interval boundary whose corresponding growth</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">888</td>
                                    <td class="row-source"><pre>/// multiplier is to be derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">889</td>
                                    <td class="row-source"><pre>/// @return growthMultiplier The growth multiplier to be returned.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">890</td>
                                    <td class="row-source"><pre>function readGrowthMultiplier1(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">891</td>
                                    <td class="row-source"><pre>  X59 qBoundary</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">892</td>
                                    <td class="row-source"><pre>) returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">893</td>
                                    <td class="row-source"><pre>  X208 growthMultiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">894</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">895</td>
                                    <td class="row-source"><pre>  // The storage slot containing &#39;growthMultiplier[qBoundary]&#39; is derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">896</td>
                                    <td class="row-source"><pre>  uint256 storageSlot = getGrowthMultiplierSlot(getPoolId(), qBoundary);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">897</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">898</td>
                                    <td class="row-source"><pre>  // &#39;growthMultiplier[qBoundary]&#39; is read from storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">899</td>
                                    <td class="row-source"><pre>  growthMultiplier = readGrowthMultiplier(storageSlot);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">900</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">901</td>
                                    <td class="row-source"><pre>  // If &#39;growthMultiplier[qBoundary]&#39; is not set before, then it should be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">902</td>
                                    <td class="row-source"><pre>  // calculated, written on storage and returned.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">903</td>
                                    <td class="row-source"><pre>  if (growthMultiplier == zeroX208) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">904</td>
                                    <td class="row-source"><pre>    // The default value for &#39;growthMultiplier[qBoundary]&#39; is calculated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">905</td>
                                    <td class="row-source"><pre>    growthMultiplier = calculateGrowthMultiplier1(qBoundary);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">906</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">907</td>
                                    <td class="row-source"><pre>    // The calculated for &#39;growthMultiplier[qBoundary]&#39; is written on storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">908</td>
                                    <td class="row-source"><pre>    writeGrowthMultiplier(storageSlot, growthMultiplier);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">909</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">910</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">911</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">912</td>
                                    <td class="row-source"><pre>/// @notice This function writes the given &#39;growthMultiplier&#39; in the given</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">913</td>
                                    <td class="row-source"><pre>///  &#39;storageSlot&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">914</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">915</td>
                                    <td class="row-source"><pre>/// @param storageSlot The storage slot on which the growth multiplier is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">916</td>
                                    <td class="row-source"><pre>/// written.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">917</td>
                                    <td class="row-source"><pre>/// @param growthMultiplier The growth multiplier to be written.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">918</td>
                                    <td class="row-source"><pre>function writeGrowthMultiplier(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">919</td>
                                    <td class="row-source"><pre>  uint256 storageSlot,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">920</td>
                                    <td class="row-source"><pre>  X208 growthMultiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">921</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">922</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">923</td>
                                    <td class="row-source"><pre>    sstore(storageSlot, growthMultiplier)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">924</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">925</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">926</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">927</td>
                                    <td class="row-source"><pre>/// @notice This function writes &#39;growthMultiplier&#39; values for the boundaries</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">928</td>
                                    <td class="row-source"><pre>/// of the first active interval.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">929</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">930</td>
                                    <td class="row-source"><pre>/// @param qLower The left boundary of the active liquidity interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">931</td>
                                    <td class="row-source"><pre>/// @param qUpper The right boundary of the active liquidity interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">932</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">933</td>
                                    <td class="row-source"><pre>/// &#39;qLower&#39; and &#39;qUpper&#39; should be positive and less than &#39;2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">934</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">935</td>
                                    <td class="row-source"><pre>function writeGrowthMultipliers(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">936</td>
                                    <td class="row-source"><pre>  X59 qLower,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">937</td>
                                    <td class="row-source"><pre>  X59 qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">938</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">939</td>
                                    <td class="row-source"><pre>  uint256 poolId = getPoolId();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">940</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">941</td>
                                    <td class="row-source"><pre>  // The default value for &#39;growthMultiplier[qLower]&#39; is calculated and written</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">942</td>
                                    <td class="row-source"><pre>  // in the appropriate storage slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">943</td>
                                    <td class="row-source"><pre>  writeGrowthMultiplier(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">944</td>
                                    <td class="row-source"><pre>    getGrowthMultiplierSlot(poolId, qLower),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">945</td>
                                    <td class="row-source"><pre>    calculateGrowthMultiplier1(qLower)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">946</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">947</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">948</td>
                                    <td class="row-source"><pre>  // The default value for &#39;growthMultiplier[qUpper]&#39; is calculated and written</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">949</td>
                                    <td class="row-source"><pre>  // in the appropriate storage slot.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">950</td>
                                    <td class="row-source"><pre>  writeGrowthMultiplier(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">951</td>
                                    <td class="row-source"><pre>    getGrowthMultiplierSlot(poolId, qUpper),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">952</td>
                                    <td class="row-source"><pre>    calculateGrowthMultiplier0(qUpper)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">953</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">954</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">955</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">956</td>
                                    <td class="row-source"><pre>////////////////////////////////////////////////////////////////// Shares slots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">957</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">958</td>
                                    <td class="row-source"><pre>// uint128(uint256(keccak256(&quot;sharesGross&quot;))) - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">959</td>
                                    <td class="row-source"><pre>uint128 constant sharesGrossSlot = 0xA20D6232B6352D00ABC0D966E2BCFB8A;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">960</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">961</td>
                                    <td class="row-source"><pre>/// @notice This function returns the storage slot hosting the total number of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">962</td>
                                    <td class="row-source"><pre>/// shares across every single interval of a pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">963</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">964</td>
                                    <td class="row-source"><pre>/// @param poolId The &#39;poolId&#39; whose owner slot to be derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">965</td>
                                    <td class="row-source"><pre>/// @return storageSlot The storage slot containing the pool owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">966</td>
                                    <td class="row-source"><pre>function getSharesGrossSlot(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">967</td>
                                    <td class="row-source"><pre>  uint256 poolId</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">968</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">969</td>
                                    <td class="row-source"><pre>  uint256 storageSlot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">970</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">971</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">972</td>
                                    <td class="row-source"><pre>    // We populate the first two memory slots from right to left:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">973</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">974</td>
                                    <td class="row-source"><pre>    //    0                32                         48</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">975</td>
                                    <td class="row-source"><pre>    //    |                |                          |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">976</td>
                                    <td class="row-source"><pre>    //    +----------------+--------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">977</td>
                                    <td class="row-source"><pre>    //    |     poolId     |      sharesGrossSlot     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">978</td>
                                    <td class="row-source"><pre>    //    +----------------+--------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">979</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">980</td>
                                    <td class="row-source"><pre>    mstore(16, sharesGrossSlot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">981</td>
                                    <td class="row-source"><pre>    mstore(0, poolId)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">982</td>
                                    <td class="row-source"><pre>    storageSlot := keccak256(0, 48)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">983</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">984</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">985</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">986</td>
                                    <td class="row-source"><pre>// uint64(uint256(keccak256(&quot;sharesDelta&quot;))) - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">987</td>
                                    <td class="row-source"><pre>uint64 constant sharesDeltaSlot = 0xD7CB7A927A838D41;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">988</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">989</td>
                                    <td class="row-source"><pre>/// @notice This function returns the storage slot containing the pool&#39;s shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">990</td>
                                    <td class="row-source"><pre>/// delta at the given interval boundary, i.e., &#39;sharesDelta[qBoundary]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">991</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">992</td>
                                    <td class="row-source"><pre>/// @param poolId The corresponding poolId.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">993</td>
                                    <td class="row-source"><pre>/// @param qBoundary The interval boundary whose corresponding shares delta</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">994</td>
                                    <td class="row-source"><pre>/// slot is to be derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">995</td>
                                    <td class="row-source"><pre>/// @return storageSlot The storage slot containing the shares delta.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">996</td>
                                    <td class="row-source"><pre>function getSharesDeltaSlot(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">997</td>
                                    <td class="row-source"><pre>  uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">998</td>
                                    <td class="row-source"><pre>  X59 qBoundary</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">999</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1000</td>
                                    <td class="row-source"><pre>  uint256 storageSlot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1001</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1002</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1003</td>
                                    <td class="row-source"><pre>    // We populate the first two memory slots from right to left:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1004</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1005</td>
                                    <td class="row-source"><pre>    //    0                32                   40                48</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1006</td>
                                    <td class="row-source"><pre>    //    |                |                    |                 |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1007</td>
                                    <td class="row-source"><pre>    //    +----------------+--------------------+-----------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1008</td>
                                    <td class="row-source"><pre>    //    |     poolId     |      qBoundary     | sharesDeltaSlot |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1009</td>
                                    <td class="row-source"><pre>    //    +----------------+--------------------+-----------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1010</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1011</td>
                                    <td class="row-source"><pre>    mstore(16, sharesDeltaSlot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1012</td>
                                    <td class="row-source"><pre>    mstore(8, qBoundary)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1013</td>
                                    <td class="row-source"><pre>    mstore(0, poolId)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1014</td>
                                    <td class="row-source"><pre>    storageSlot := keccak256(0, 48)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1015</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1016</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1017</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1018</td>
                                    <td class="row-source"><pre>/// @notice Reads shares delta from &#39;storageSlot&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1019</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1020</td>
                                    <td class="row-source"><pre>/// @param storageSlot The storage slot hosting the shares delta.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1021</td>
                                    <td class="row-source"><pre>/// @return sharesDelta The shares delta to be returned.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1022</td>
                                    <td class="row-source"><pre>function readSharesDelta(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1023</td>
                                    <td class="row-source"><pre>  uint256 storageSlot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1024</td>
                                    <td class="row-source"><pre>) view returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1025</td>
                                    <td class="row-source"><pre>  int256 sharesDelta</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1026</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1027</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1028</td>
                                    <td class="row-source"><pre>    sharesDelta := sload(storageSlot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1029</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1030</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1031</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1032</td>
                                    <td class="row-source"><pre>/// @notice Gets the number of shares to be deposited/withdrawn as a result of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1033</td>
                                    <td class="row-source"><pre>/// modifying a position from memory and adjusting &#39;sharesDelta&#39; values in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1034</td>
                                    <td class="row-source"><pre>/// storage accordingly.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1035</td>
                                    <td class="row-source"><pre>function modifySharesDelta() {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1036</td>
                                    <td class="row-source"><pre>  // &#39;poolId&#39; and the number of shares to be added/subtracted are loaded from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1037</td>
                                    <td class="row-source"><pre>  // the memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1038</td>
                                    <td class="row-source"><pre>  uint256 poolId = getPoolId();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1039</td>
                                    <td class="row-source"><pre>  int256 shares = getShares();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1040</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1041</td>
                                    <td class="row-source"><pre>  // &#39;sharesDelta[logPriceMinOffsetted]&#39; is adjusted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1042</td>
                                    <td class="row-source"><pre>  X59 logPriceMinOffsetted = getLogPriceMinOffsetted();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1043</td>
                                    <td class="row-source"><pre>  uint256 storageSlot = getSharesDeltaSlot(poolId, logPriceMinOffsetted);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1044</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1045</td>
                                    <td class="row-source"><pre>    sstore(storageSlot, add(sload(storageSlot), shares))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1046</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1047</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1048</td>
                                    <td class="row-source"><pre>  // &#39;sharesDelta[logPriceMaxOffsetted]&#39; is adjusted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1049</td>
                                    <td class="row-source"><pre>  X59 logPriceMaxOffsetted = getLogPriceMaxOffsetted();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1050</td>
                                    <td class="row-source"><pre>  storageSlot = getSharesDeltaSlot(poolId, logPriceMaxOffsetted);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1051</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1052</td>
                                    <td class="row-source"><pre>    sstore(storageSlot, sub(sload(storageSlot), shares))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1053</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1054</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1055</td>
                                    <td class="row-source"><pre>  // The total number of shares across all intervals may never exceed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1056</td>
                                    <td class="row-source"><pre>  // &#39;type(int128).max&#39;. This is verified next.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1057</td>
                                    <td class="row-source"><pre>  int256 sharesGross;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1058</td>
                                    <td class="row-source"><pre>  storageSlot = getSharesGrossSlot(poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1059</td>
                                    <td class="row-source"><pre>  X59 qSpacing = _spacing_.log();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1060</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1061</td>
                                    <td class="row-source"><pre>    sharesGross := add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1062</td>
                                    <td class="row-source"><pre>      sload(storageSlot),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1063</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1064</td>
                                    <td class="row-source"><pre>      //             logPriceMaxOffsetted - logPriceMinOffsetted</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1065</td>
                                    <td class="row-source"><pre>      //  &#39;shares * ---------------------------------------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1066</td>
                                    <td class="row-source"><pre>      //                               qSpacing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1067</td>
                                    <td class="row-source"><pre>      mul(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1068</td>
                                    <td class="row-source"><pre>        // &#39;qSpacing&#39; is non-zero. Hence, division is safe.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1069</td>
                                    <td class="row-source"><pre>        div(sub(logPriceMaxOffsetted, logPriceMinOffsetted), qSpacing),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1070</td>
                                    <td class="row-source"><pre>        shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1071</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1072</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1073</td>
                                    <td class="row-source"><pre>    sstore(storageSlot, sharesGross)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1074</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1075</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1076</td>
                                    <td class="row-source"><pre>  require(sharesGross &lt;= type(int128).max, SharesGrossOverflow(sharesGross));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1077</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1078</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1079</td>
                                    <td class="row-source"><pre>//////////////////////////////////////////////////////////// Dynamic parameters</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1080</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1081</td>
                                    <td class="row-source"><pre>// uint128(uint256(keccak256(&quot;dynamicParams&quot;))) - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1082</td>
                                    <td class="row-source"><pre>uint128 constant dynamicParamsSlot = 0x6890D047AD8C870137858A70716B2C6B;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1083</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1084</td>
                                    <td class="row-source"><pre>/// @notice This function returns the storage slot hosting the dynamic</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1085</td>
                                    <td class="row-source"><pre>/// parameters of a pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1086</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1087</td>
                                    <td class="row-source"><pre>/// @param poolId The &#39;poolId&#39; whose owner slot to be derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1088</td>
                                    <td class="row-source"><pre>/// @return storageSlot The storage slot containing the pool owner.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">1089</td>
                                    <td class="row-source"><pre>function getDynamicParamsSlot(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1090</td>
                                    <td class="row-source"><pre>  uint256 poolId</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1091</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1092</td>
                                    <td class="row-source"><pre>  uint256 storageSlot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1093</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">1094</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1095</td>
                                    <td class="row-source"><pre>    // We populate the first two memory slots from right to left:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1096</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1097</td>
                                    <td class="row-source"><pre>    //    0                32                  48</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1098</td>
                                    <td class="row-source"><pre>    //    |                |                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1099</td>
                                    <td class="row-source"><pre>    //    +----------------+-------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1100</td>
                                    <td class="row-source"><pre>    //    |     poolId     | dynamicParamsSlot |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1101</td>
                                    <td class="row-source"><pre>    //    +----------------+-------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1102</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1103</td>
                                    <td class="row-source"><pre>    mstore(16, dynamicParamsSlot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1104</td>
                                    <td class="row-source"><pre>    mstore(0, poolId)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1105</td>
                                    <td class="row-source"><pre>    storageSlot := keccak256(0, 48)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1106</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1107</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1108</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1109</td>
                                    <td class="row-source"><pre>/// @notice This function reads pool&#39;s dynamic parameters from storage and sets</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1110</td>
                                    <td class="row-source"><pre>/// them in appropriate memory locations.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1111</td>
                                    <td class="row-source"><pre>function readDynamicParams() view {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1112</td>
                                    <td class="row-source"><pre>  // The storage slot hosting the dynamic parameters of the pool is derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1113</td>
                                    <td class="row-source"><pre>  uint256 storageSlot = getDynamicParamsSlot(getPoolId());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1114</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1115</td>
                                    <td class="row-source"><pre>  // Dynamic parameters are read from storage and stored in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1116</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1117</td>
                                    <td class="row-source"><pre>    mstore(add(_dynamicParams_, 32), sload(storageSlot))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1118</td>
                                    <td class="row-source"><pre>    mstore(add(_dynamicParams_, 64), sload(add(storageSlot, 1)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1119</td>
                                    <td class="row-source"><pre>    mstore(add(_dynamicParams_, 96), sload(add(storageSlot, 2)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1120</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1121</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1122</td>
                                    <td class="row-source"><pre>  // For an existing pool, &#39;growth&#39; is always greater than or equal to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1123</td>
                                    <td class="row-source"><pre>  // &#39;oneX111&#39;. Hence, &#39;getGrowth() == zeroX111&#39; indicates that the pool does</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1124</td>
                                    <td class="row-source"><pre>  // not exist.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1125</td>
                                    <td class="row-source"><pre>  require(getGrowth() != zeroX111, PoolDoesNotExist(getPoolId()));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1126</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1127</td>
                                    <td class="row-source"><pre>  // &#39;staticParamsStoragePointer == type(uint16).max&#39; indicates that the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1128</td>
                                    <td class="row-source"><pre>  // storage pointer for static parameters has overflowed and the storage slot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1129</td>
                                    <td class="row-source"><pre>  // for &#39;staticParamsStoragePointerExtension&#39; needs to be read.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1130</td>
                                    <td class="row-source"><pre>  uint16 staticParamsStoragePointer = getStaticParamsStoragePointer();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1131</td>
                                    <td class="row-source"><pre>  if (staticParamsStoragePointer == type(uint16).max) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1132</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1133</td>
                                    <td class="row-source"><pre>      mstore(_dynamicParams_, sload(sub(storageSlot, 1)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1134</td>
                                    <td class="row-source"><pre>    } </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1135</td>
                                    <td class="row-source"><pre>  } else {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1136</td>
                                    <td class="row-source"><pre>    setStaticParamsStoragePointerExtension(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1137</td>
                                    <td class="row-source"><pre>      uint256(staticParamsStoragePointer)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1138</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1139</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1140</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1141</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1142</td>
                                    <td class="row-source"><pre>/// @notice This function loads pool&#39;s dynamic parameters from the memory and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1143</td>
                                    <td class="row-source"><pre>/// writes them on storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1144</td>
                                    <td class="row-source"><pre>function writeDynamicParams() {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1145</td>
                                    <td class="row-source"><pre>  // The storage slot hosting the dynamic parameters of the pool is derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1146</td>
                                    <td class="row-source"><pre>  uint256 storageSlot = getDynamicParamsSlot(getPoolId());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1147</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1148</td>
                                    <td class="row-source"><pre>  // &#39;staticParamsStoragePointer &gt;= type(uint16).max&#39; indicates that the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1149</td>
                                    <td class="row-source"><pre>  // storage pointer for static parameters has overflowed and the storage slot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1150</td>
                                    <td class="row-source"><pre>  // for &#39;staticParamsStoragePointerExtension&#39; needs to be used.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1151</td>
                                    <td class="row-source"><pre>  if (getStaticParamsStoragePointerExtension() &gt;= type(uint16).max) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1152</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1153</td>
                                    <td class="row-source"><pre>      sstore(sub(storageSlot, 1), mload(_dynamicParams_))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1154</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1155</td>
                                    <td class="row-source"><pre>    setStaticParamsStoragePointer(type(uint16).max);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1156</td>
                                    <td class="row-source"><pre>  } else {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1157</td>
                                    <td class="row-source"><pre>    setStaticParamsStoragePointer(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1158</td>
                                    <td class="row-source"><pre>      uint16(getStaticParamsStoragePointerExtension())</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1159</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1160</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1161</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1162</td>
                                    <td class="row-source"><pre>  // Next, the dynamic parameters are loaded from the memory and written on </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1163</td>
                                    <td class="row-source"><pre>  // storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1164</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1165</td>
                                    <td class="row-source"><pre>    sstore(storageSlot, mload(add(_dynamicParams_, 32)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1166</td>
                                    <td class="row-source"><pre>    sstore(add(storageSlot, 1), mload(add(_dynamicParams_, 64)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1167</td>
                                    <td class="row-source"><pre>    sstore(add(storageSlot, 2), mload(add(_dynamicParams_, 96)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1168</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1169</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1170</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1171</td>
                                    <td class="row-source"><pre>/////////////////////////////////////////////////////////////////// Curve slots</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1172</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1173</td>
                                    <td class="row-source"><pre>// uint128(uint256(keccak256(&quot;curve&quot;))) - 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1174</td>
                                    <td class="row-source"><pre>uint128 constant curveSlot = 0x3B2D91718DFB37F9969A1B0670A83E70;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1175</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1176</td>
                                    <td class="row-source"><pre>/// @notice This function returns the storage slot hosting the curve sequence</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1177</td>
                                    <td class="row-source"><pre>/// of a pool.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1178</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1179</td>
                                    <td class="row-source"><pre>/// @param poolId The &#39;poolId&#39; whose owner slot to be derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1180</td>
                                    <td class="row-source"><pre>/// @return storageSlot The storage slot containing the pool owner.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1181</td>
                                    <td class="row-source"><pre>function getCurveSlot(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1182</td>
                                    <td class="row-source"><pre>  uint256 poolId</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1183</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1184</td>
                                    <td class="row-source"><pre>  uint256 storageSlot</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1185</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1186</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1187</td>
                                    <td class="row-source"><pre>    // We populate the first two memory slots from right to left:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1188</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1189</td>
                                    <td class="row-source"><pre>    //    0                32                  48</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1190</td>
                                    <td class="row-source"><pre>    //    |                |                   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1191</td>
                                    <td class="row-source"><pre>    //    +----------------+-------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1192</td>
                                    <td class="row-source"><pre>    //    |     poolId     |     curveSlot     |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1193</td>
                                    <td class="row-source"><pre>    //    +----------------+-------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1194</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1195</td>
                                    <td class="row-source"><pre>    mstore(16, curveSlot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1196</td>
                                    <td class="row-source"><pre>    mstore(0, poolId)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1197</td>
                                    <td class="row-source"><pre>    storageSlot := keccak256(0, 48)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1198</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1199</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1200</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1201</td>
                                    <td class="row-source"><pre>/// @notice Reads &#39;qLower&#39; and &#39;qUpper&#39; boundaries of the current interval from</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1202</td>
                                    <td class="row-source"><pre>/// storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1203</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1204</td>
                                    <td class="row-source"><pre>/// @return qLower The left boundary of the active liquidity interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1205</td>
                                    <td class="row-source"><pre>/// @return qUpper The right boundary of the active liquidity interval</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1206</td>
                                    <td class="row-source"><pre>function readBoundaries() view returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1207</td>
                                    <td class="row-source"><pre>  X59 qLower,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1208</td>
                                    <td class="row-source"><pre>  X59 qUpper</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1209</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1210</td>
                                    <td class="row-source"><pre>  // Reads the first slot of the curve sequence from storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1211</td>
                                    <td class="row-source"><pre>  uint256 firstSlot = readStorage(getCurveSlot(getPoolId()));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1212</td>
                                    <td class="row-source"><pre>  </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1213</td>
                                    <td class="row-source"><pre>  Curve curve = getCurve();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1214</td>
                                    <td class="row-source"><pre>  setCurveLength(twoIndex);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1215</td>
                                    <td class="row-source"><pre>  </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1216</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1217</td>
                                    <td class="row-source"><pre>    mstore(curve, firstSlot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1218</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1219</td>
                                    <td class="row-source"><pre>  </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1220</td>
                                    <td class="row-source"><pre>  qLower = curve.member(zeroIndex);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1221</td>
                                    <td class="row-source"><pre>  qUpper = curve.member(oneIndex);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1222</td>
                                    <td class="row-source"><pre>  (qLower, qUpper) = qLower &lt; qUpper ? (qLower, qUpper) : (qUpper, qLower);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1223</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1224</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1225</td>
                                    <td class="row-source"><pre>/// @notice Reads the entire curve from storage and stores it in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1226</td>
                                    <td class="row-source"><pre>function readCurve() view returns (Index curveLength) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1227</td>
                                    <td class="row-source"><pre>  // Reads the first slot of the curve sequence from storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1228</td>
                                    <td class="row-source"><pre>  uint256 storageSlot = getCurveSlot(getPoolId());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1229</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1230</td>
                                    <td class="row-source"><pre>  // The memory pointer referring to the first member of the curve sequence is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1231</td>
                                    <td class="row-source"><pre>  // loaded from the memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1232</td>
                                    <td class="row-source"><pre>  Curve memoryPointer = getCurve();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1233</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1234</td>
                                    <td class="row-source"><pre>  // Let &#39;l&#39; denote the number of members in the curve sequence. Since, we</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1235</td>
                                    <td class="row-source"><pre>  // already know &#39;qCurrent&#39; from dynamic parameters, we can determine &#39;l&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1236</td>
                                    <td class="row-source"><pre>  // without having to load an entire length slot! In other words, we keep</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1237</td>
                                    <td class="row-source"><pre>  // reading members of the curve sequence from protocol&#39;s storage (four</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1238</td>
                                    <td class="row-source"><pre>  // members per slot) until we encounter &#39;qCurrent&#39; which is already known</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1239</td>
                                    <td class="row-source"><pre>  // from dynamic parameters. Then, &#39;l&#39; can be determined based on the position</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1240</td>
                                    <td class="row-source"><pre>  // of &#39;qCurrent&#39; in the curve sequence.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1241</td>
                                    <td class="row-source"><pre>  X59 qCurrent = getLogPriceCurrent();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1242</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1243</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1244</td>
                                    <td class="row-source"><pre>    let value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1245</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1246</td>
                                    <td class="row-source"><pre>    // The loop is broken whenever we encounter &#39;qCurrent&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1247</td>
                                    <td class="row-source"><pre>    for {} 0x1 {} {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1248</td>
                                    <td class="row-source"><pre>      value := sload(storageSlot)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1249</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1250</td>
                                    <td class="row-source"><pre>      // Examines if the most significant 64 bits are equal to &#39;qCurrent&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1251</td>
                                    <td class="row-source"><pre>      let member := shr(192, value)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1252</td>
                                    <td class="row-source"><pre>      if eq(member, qCurrent) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1253</td>
                                    <td class="row-source"><pre>        curveLength := add(curveLength, 1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1254</td>
                                    <td class="row-source"><pre>        value := shl(192, member)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1255</td>
                                    <td class="row-source"><pre>        break</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1256</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1257</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1258</td>
                                    <td class="row-source"><pre>      // Examines if the second most significant 64 bits are equal to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1259</td>
                                    <td class="row-source"><pre>      // &#39;qCurrent&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1260</td>
                                    <td class="row-source"><pre>      member := shr(128, value)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1261</td>
                                    <td class="row-source"><pre>      if eq(and(member, 0xFFFFFFFFFFFFFFFF), qCurrent) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1262</td>
                                    <td class="row-source"><pre>        curveLength := add(curveLength, 2)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1263</td>
                                    <td class="row-source"><pre>        value := shl(128, member)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1264</td>
                                    <td class="row-source"><pre>        break</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1265</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1266</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1267</td>
                                    <td class="row-source"><pre>      // Examines if the third most significant 64 bits are equal to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1268</td>
                                    <td class="row-source"><pre>      // &#39;qCurrent&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1269</td>
                                    <td class="row-source"><pre>      member := shr(64, value)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1270</td>
                                    <td class="row-source"><pre>      if eq(and(member, 0xFFFFFFFFFFFFFFFF), qCurrent) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1271</td>
                                    <td class="row-source"><pre>        curveLength := add(curveLength, 3)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1272</td>
                                    <td class="row-source"><pre>        value := shl(64, member)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1273</td>
                                    <td class="row-source"><pre>        break</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1274</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1275</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1276</td>
                                    <td class="row-source"><pre>      curveLength := add(curveLength, 4)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1277</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1278</td>
                                    <td class="row-source"><pre>      // Examines if the least significant 64 bits are equal to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1279</td>
                                    <td class="row-source"><pre>      // &#39;qCurrent&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1280</td>
                                    <td class="row-source"><pre>      if eq(and(value, 0xFFFFFFFFFFFFFFFF), qCurrent) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1281</td>
                                    <td class="row-source"><pre>        break</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1282</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1283</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1284</td>
                                    <td class="row-source"><pre>      // &#39;value&#39; is stored in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1285</td>
                                    <td class="row-source"><pre>      mstore(memoryPointer, value)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1286</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1287</td>
                                    <td class="row-source"><pre>      // &#39;storageSlot&#39; is incremented.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1288</td>
                                    <td class="row-source"><pre>      storageSlot := add(storageSlot, 1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1289</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1290</td>
                                    <td class="row-source"><pre>      // &#39;memoryPointer&#39; is incremented by 32 bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1291</td>
                                    <td class="row-source"><pre>      memoryPointer := add(memoryPointer, 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1292</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1293</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1294</td>
                                    <td class="row-source"><pre>    // &#39;value&#39; is stored in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1295</td>
                                    <td class="row-source"><pre>    mstore(memoryPointer, value)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1296</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1297</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1298</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1299</td>
                                    <td class="row-source"><pre>/// @notice Writes the current curve sequence on storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1300</td>
                                    <td class="row-source"><pre>function writeCurve() {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1301</td>
                                    <td class="row-source"><pre>  // Reads the first slot of the curve sequence from storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1302</td>
                                    <td class="row-source"><pre>  uint256 storageSlot = getCurveSlot(getPoolId());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1303</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1304</td>
                                    <td class="row-source"><pre>  // The memory pointer referring to the first member of the curve sequence is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1305</td>
                                    <td class="row-source"><pre>  // loaded from the memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1306</td>
                                    <td class="row-source"><pre>  Curve memoryPointer = getCurve();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1307</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1308</td>
                                    <td class="row-source"><pre>  // The length of the current curve squence in memory is loaded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1309</td>
                                    <td class="row-source"><pre>  Index curveLength = getCurveLength();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1310</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1311</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1312</td>
                                    <td class="row-source"><pre>    // The last storage slot for the curve sequence is read derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1313</td>
                                    <td class="row-source"><pre>    let finalSlot := add(storageSlot, shr(2, sub(curveLength, 1)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1314</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1315</td>
                                    <td class="row-source"><pre>    // The first slot of the curve sequence is loaded from memory and written</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1316</td>
                                    <td class="row-source"><pre>    // on storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1317</td>
                                    <td class="row-source"><pre>    sstore(storageSlot, mload(memoryPointer))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1318</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1319</td>
                                    <td class="row-source"><pre>    // This loop continues until we encounter &#39;finalSlot&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1320</td>
                                    <td class="row-source"><pre>    for {} lt(storageSlot, finalSlot) {} {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1321</td>
                                    <td class="row-source"><pre>      // &#39;storageSlot&#39; is incremented.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1322</td>
                                    <td class="row-source"><pre>      storageSlot := add(storageSlot, 1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1323</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1324</td>
                                    <td class="row-source"><pre>      // &#39;memoryPointer&#39; is incremented by 32 bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1325</td>
                                    <td class="row-source"><pre>      memoryPointer := add(memoryPointer, 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1326</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1327</td>
                                    <td class="row-source"><pre>      // The slot of the curve sequence which is pointed to by &#39;memoryPointer&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1328</td>
                                    <td class="row-source"><pre>      // is loaded from the memory and is written on storage.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1329</td>
                                    <td class="row-source"><pre>      sstore(storageSlot, mload(memoryPointer))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1330</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1331</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1332</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1333</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1334</td>
                                    <td class="row-source"><pre>////////////////////////////////////////// Static parameters and kernel storage</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1335</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1336</td>
                                    <td class="row-source"><pre>/// @notice This function deploys a storage contract whose bytecode contains</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1337</td>
                                    <td class="row-source"><pre>/// the pool&#39;s static parameters.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1338</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1339</td>
                                    <td class="row-source"><pre>/// @param storagePointer The pointer which is used to derive the address of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1340</td>
                                    <td class="row-source"><pre>/// the storage smart contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1341</td>
                                    <td class="row-source"><pre>function writeStaticParams(uint256 storagePointer) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1342</td>
                                    <td class="row-source"><pre>  uint256 poolId = getPoolId();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1343</td>
                                    <td class="row-source"><pre>  address proxy;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1344</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1345</td>
                                    <td class="row-source"><pre>    // The 32-byte storage pointer is derived by hashing the following 64</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1346</td>
                                    <td class="row-source"><pre>    // bytes:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1347</td>
                                    <td class="row-source"><pre>    mstore(0, poolId)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1348</td>
                                    <td class="row-source"><pre>    mstore(32, storagePointer)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1349</td>
                                    <td class="row-source"><pre>    storagePointer := keccak256(0, 64)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1350</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1351</td>
                                    <td class="row-source"><pre>    // Static parameters are stored in a &#39;storage contract&#39; which is deployed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1352</td>
                                    <td class="row-source"><pre>    // by a disposable &#39;proxy contract&#39;. First the &#39;proxy contract&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1353</td>
                                    <td class="row-source"><pre>    // deployed.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1354</td>
                                    <td class="row-source"><pre>    mstore(0x00, PROXY_CREATION_CODE)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1355</td>
                                    <td class="row-source"><pre>    proxy := create2(0, 0x10, 0x10, storagePointer)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1356</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1357</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1358</td>
                                    <td class="row-source"><pre>  require(proxy != address(0), DeploymentFailed());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1359</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1360</td>
                                    <td class="row-source"><pre>  // The total number of bytes to be written.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1361</td>
                                    <td class="row-source"><pre>  Index length = getKernelLength();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1362</td>
                                    <td class="row-source"><pre>  uint256 deploymentCreationCode;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1363</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1364</td>
                                    <td class="row-source"><pre>    length := add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1365</td>
                                    <td class="row-source"><pre>      sub(_endOfStaticParams_, _staticParams_), // Length of static parameters.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1366</td>
                                    <td class="row-source"><pre>      shl(6, sub(length, 1)) // Length of kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1367</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1368</td>
                                    <td class="row-source"><pre>    // &#39;1&#39; is added to include the &#39;00&#39; padding bytes. Due the &#39;1019&#39; limit on</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1369</td>
                                    <td class="row-source"><pre>    // the size of kernel, the addition is always safe.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1370</td>
                                    <td class="row-source"><pre>    deploymentCreationCode := or(DEPLOYMENT_CODE, shl(64, add(length, 1)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1371</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1372</td>
                                    <td class="row-source"><pre>  setDeploymentCreationCode(deploymentCreationCode);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1373</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1374</td>
                                    <td class="row-source"><pre>  // Data is written from memory to a new contract via the proxy.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1375</td>
                                    <td class="row-source"><pre>  bool success;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1376</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1377</td>
                                    <td class="row-source"><pre>    success := call(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1378</td>
                                    <td class="row-source"><pre>      gas(),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1379</td>
                                    <td class="row-source"><pre>      proxy,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1380</td>
                                    <td class="row-source"><pre>      0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1381</td>
                                    <td class="row-source"><pre>      _deploymentCreationCode_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1382</td>
                                    <td class="row-source"><pre>      add(length, 11), // Because &#39;DEPLOYMENT_CODE&#39; is 11 bytes.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1383</td>
                                    <td class="row-source"><pre>      0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1384</td>
                                    <td class="row-source"><pre>      0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1385</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1386</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1387</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1388</td>
                                    <td class="row-source"><pre>  require(success, DeploymentFailed());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1389</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1390</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1391</td>
                                    <td class="row-source"><pre>/// @notice This function calculates the address of the storage contract</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1392</td>
                                    <td class="row-source"><pre>/// containing static parameters and kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1393</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1394</td>
                                    <td class="row-source"><pre>/// @param storagePointer The pointer which is used to derive the address of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1395</td>
                                    <td class="row-source"><pre>/// the storage smart contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1396</td>
                                    <td class="row-source"><pre>/// @return storageAddress The address of the storage contract whose bytecode</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1397</td>
                                    <td class="row-source"><pre>/// comprises static parameters and kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1398</td>
                                    <td class="row-source"><pre>function getStaticParamsStorageAddress(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1399</td>
                                    <td class="row-source"><pre>  uint256 storagePointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1400</td>
                                    <td class="row-source"><pre>) view returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1401</td>
                                    <td class="row-source"><pre>  address storageAddress</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1402</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1403</td>
                                    <td class="row-source"><pre>  address nofeeswap;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1404</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1405</td>
                                    <td class="row-source"><pre>    nofeeswap := address()</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1406</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1407</td>
                                    <td class="row-source"><pre>  return getStaticParamsStorageAddress(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1408</td>
                                    <td class="row-source"><pre>    nofeeswap,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1409</td>
                                    <td class="row-source"><pre>    getPoolId(),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1410</td>
                                    <td class="row-source"><pre>    storagePointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1411</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1412</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1413</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1414</td>
                                    <td class="row-source"><pre>/// @notice This function calculates the address of the storage contract</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1415</td>
                                    <td class="row-source"><pre>/// containing static parameters and kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1416</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1417</td>
                                    <td class="row-source"><pre>/// @param nofeeswap The protocol&#39;s address.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1418</td>
                                    <td class="row-source"><pre>/// @param poolId The corresponding &#39;poolId&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1419</td>
                                    <td class="row-source"><pre>/// @param storagePointer The pointer which is used to derive the address of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1420</td>
                                    <td class="row-source"><pre>/// the storage smart contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1421</td>
                                    <td class="row-source"><pre>/// @return storageAddress The address of the storage contract whose bytecode</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1422</td>
                                    <td class="row-source"><pre>/// comprises static parameters and kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1423</td>
                                    <td class="row-source"><pre>function getStaticParamsStorageAddress(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1424</td>
                                    <td class="row-source"><pre>  address nofeeswap,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1425</td>
                                    <td class="row-source"><pre>  uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1426</td>
                                    <td class="row-source"><pre>  uint256 storagePointer</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1427</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1428</td>
                                    <td class="row-source"><pre>  address storageAddress</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1429</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1430</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1431</td>
                                    <td class="row-source"><pre>    // The 32-byte storage pointer is derived by hashing the following 64:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1432</td>
                                    <td class="row-source"><pre>    mstore(0, poolId)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1433</td>
                                    <td class="row-source"><pre>    mstore(32, storagePointer)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1434</td>
                                    <td class="row-source"><pre>    storagePointer := keccak256(0, 64)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1435</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1436</td>
                                    <td class="row-source"><pre>    // Fetch free memory pointer so that we can use &#39;0x40&#39; as scratch space.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1437</td>
                                    <td class="row-source"><pre>    let freeMemoryPointer := mload(0x40)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1438</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1439</td>
                                    <td class="row-source"><pre>    // Pool static parameters are stored in a &#39;storage contract&#39; which is </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1440</td>
                                    <td class="row-source"><pre>    // deployed by a &#39;proxy contract&#39;. First the &#39;proxy contract&#39; address is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1441</td>
                                    <td class="row-source"><pre>    // derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1442</td>
                                    <td class="row-source"><pre>    // &#39;nofeeswap&#39; address is written in first memory slot along with a &#39;0xff&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1443</td>
                                    <td class="row-source"><pre>    // prefix. The storage pointer and &#39;PROXY_CREATION_HASH&#39; are written in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1444</td>
                                    <td class="row-source"><pre>    // the second and third memory slots, respectively.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1445</td>
                                    <td class="row-source"><pre>    mstore(0x00, nofeeswap)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1446</td>
                                    <td class="row-source"><pre>    mstore8(0x0b, 0xff)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1447</td>
                                    <td class="row-source"><pre>    mstore(0x20, storagePointer)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1448</td>
                                    <td class="row-source"><pre>    mstore(0x40, PROXY_CREATION_HASH)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1449</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1450</td>
                                    <td class="row-source"><pre>    // This 85 byte hash gives the &#39;proxy contract&#39; address.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1451</td>
                                    <td class="row-source"><pre>    mstore(0x14, keccak256(0x0b, 0x55))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1452</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1453</td>
                                    <td class="row-source"><pre>    // Restores &#39;freeMemoryPointer&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1454</td>
                                    <td class="row-source"><pre>    mstore(0x40, freeMemoryPointer)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1455</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1456</td>
                                    <td class="row-source"><pre>    // 0xd6 = 0xc0 (short RLP prefix) + 0x16 (length of 0x94 ++ proxy ++ 0x01)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1457</td>
                                    <td class="row-source"><pre>    // 0x94 = 0x80 + 0x14 (0x14 = the length of an address, 20 bytes, in hex)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1458</td>
                                    <td class="row-source"><pre>    mstore(0x00, 0xd694)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1459</td>
                                    <td class="row-source"><pre>    mstore8(0x34, 0x01)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1460</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1461</td>
                                    <td class="row-source"><pre>    // Gives the &#39;storage contract&#39; address.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1462</td>
                                    <td class="row-source"><pre>    storageAddress := and(keccak256(0x1e, 0x17), shr(96, not(0)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1463</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1464</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1465</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1466</td>
                                    <td class="row-source"><pre>/// @notice This function reads pool&#39;s static parameters from storageAddress </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1467</td>
                                    <td class="row-source"><pre>/// and sets them in appropriate memory locations:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1468</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1469</td>
                                    <td class="row-source"><pre>/// @param storageAddress The address of the storage contract whose bytecode</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1470</td>
                                    <td class="row-source"><pre>/// comprises static parameters and kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1471</td>
                                    <td class="row-source"><pre>function readStaticParams(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1472</td>
                                    <td class="row-source"><pre>  address storageAddress</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1473</td>
                                    <td class="row-source"><pre>) view {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1474</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1475</td>
                                    <td class="row-source"><pre>    extcodecopy(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1476</td>
                                    <td class="row-source"><pre>      storageAddress,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1477</td>
                                    <td class="row-source"><pre>      _staticParams_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1478</td>
                                    <td class="row-source"><pre>      1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1479</td>
                                    <td class="row-source"><pre>      sub(_endOfStaticParams_, _staticParams_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1480</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1481</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1482</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1483</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1484</td>
                                    <td class="row-source"><pre>/// @notice This function reads pool&#39;s static parameters and kernel, and sets</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1485</td>
                                    <td class="row-source"><pre>/// them in appropriate memory locations.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1486</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1487</td>
                                    <td class="row-source"><pre>/// @param storageAddress The address of the storage contract whose bytecode</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1488</td>
                                    <td class="row-source"><pre>/// comprises static parameters and kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1489</td>
                                    <td class="row-source"><pre>function readStaticParamsAndKernel(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1490</td>
                                    <td class="row-source"><pre>  address storageAddress</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1491</td>
                                    <td class="row-source"><pre>) view {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1492</td>
                                    <td class="row-source"><pre>  readStaticParams(storageAddress);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1493</td>
                                    <td class="row-source"><pre>  Index kernelLength = readKernelLength(storageAddress);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1494</td>
                                    <td class="row-source"><pre>  setKernelLength(kernelLength);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1495</td>
                                    <td class="row-source"><pre>  readKernel(getKernel(), storageAddress, kernelLength);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1496</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1497</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1498</td>
                                    <td class="row-source"><pre>/// @notice This function reads kernel length.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1499</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1500</td>
                                    <td class="row-source"><pre>/// @param storageAddress The address of the storage contract whose bytecode</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1501</td>
                                    <td class="row-source"><pre>/// comprises static parameters and kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1502</td>
                                    <td class="row-source"><pre>/// @return length The number of kernel breakpoints.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1503</td>
                                    <td class="row-source"><pre>function readKernelLength(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1504</td>
                                    <td class="row-source"><pre>  address storageAddress</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1505</td>
                                    <td class="row-source"><pre>) view returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1506</td>
                                    <td class="row-source"><pre>  Index length</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1507</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1508</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1509</td>
                                    <td class="row-source"><pre>    // The total number of bytes to be loaded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1510</td>
                                    <td class="row-source"><pre>    // Each breakpoint of the kernel is 64 bytes. The first breakpoint is </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1511</td>
                                    <td class="row-source"><pre>    // omitted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1512</td>
                                    <td class="row-source"><pre>    length := add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1513</td>
                                    <td class="row-source"><pre>      shr(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1514</td>
                                    <td class="row-source"><pre>        6,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1515</td>
                                    <td class="row-source"><pre>        sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1516</td>
                                    <td class="row-source"><pre>          sub(extcodesize(storageAddress), 1),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1517</td>
                                    <td class="row-source"><pre>          sub(_endOfStaticParams_, _staticParams_)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1518</td>
                                    <td class="row-source"><pre>        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1519</td>
                                    <td class="row-source"><pre>      ),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1520</td>
                                    <td class="row-source"><pre>      1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1521</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1522</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1523</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1524</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1525</td>
                                    <td class="row-source"><pre>/// @notice This function reads kernel from storageAddress and sets it in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1526</td>
                                    <td class="row-source"><pre>/// the appropriate memory location.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1527</td>
                                    <td class="row-source"><pre>///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1528</td>
                                    <td class="row-source"><pre>/// @param kernel The memory pointer referring to the memory space which hosts</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1529</td>
                                    <td class="row-source"><pre>/// the list of kernel breakpoints.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1530</td>
                                    <td class="row-source"><pre>/// @param storageAddress The address of the storage contract whose bytecode</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1531</td>
                                    <td class="row-source"><pre>/// comprises static parameters and kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1532</td>
                                    <td class="row-source"><pre>/// @param length The number of kernel breakpoints.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1533</td>
                                    <td class="row-source"><pre>function readKernel(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1534</td>
                                    <td class="row-source"><pre>  Kernel kernel,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1535</td>
                                    <td class="row-source"><pre>  address storageAddress,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1536</td>
                                    <td class="row-source"><pre>  Index length</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1537</td>
                                    <td class="row-source"><pre>) view {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1538</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1539</td>
                                    <td class="row-source"><pre>    // Data is loaded from the &#39;storageAddress&#39; to memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1540</td>
                                    <td class="row-source"><pre>    extcodecopy(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1541</td>
                                    <td class="row-source"><pre>      storageAddress,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1542</td>
                                    <td class="row-source"><pre>      kernel,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1543</td>
                                    <td class="row-source"><pre>      add(1, sub(_endOfStaticParams_, _staticParams_)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1544</td>
                                    <td class="row-source"><pre>      shl(6, sub(length, 1))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1545</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1546</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1547</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1548</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1549</td>
                                    <td class="row-source"><pre>/// @notice Reads pool data and sets it in the appropriate memory location.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1550</td>
                                    <td class="row-source"><pre>function readPoolData() view {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1551</td>
                                    <td class="row-source"><pre>  readDynamicParams();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1552</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1553</td>
                                    <td class="row-source"><pre>  // The address of the storage contract whose bytecode comprises static</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1554</td>
                                    <td class="row-source"><pre>  // parameters and kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1555</td>
                                    <td class="row-source"><pre>  address storageAddress = getStaticParamsStorageAddress(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1556</td>
                                    <td class="row-source"><pre>    getStaticParamsStoragePointerExtension()</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1557</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1558</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1559</td>
                                    <td class="row-source"><pre>  // Static paremters are read from the storage contract.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1560</td>
                                    <td class="row-source"><pre>  readStaticParams(storageAddress);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1561</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1562</td>
                                    <td class="row-source"><pre>  // &#39;poolGrowthPortion&#39; is capped by &#39;maxPoolGrowthPortion&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1563</td>
                                    <td class="row-source"><pre>  setPoolGrowthPortion(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1564</td>
                                    <td class="row-source"><pre>    min(getPoolGrowthPortion(), getMaxPoolGrowthPortion())</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1565</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1566</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1567</td>
                                    <td class="row-source"><pre>  // The length of the kernel is determined.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1568</td>
                                    <td class="row-source"><pre>  Index length = readKernelLength(storageAddress);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1569</td>
                                    <td class="row-source"><pre>  setKernelLength(length);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1570</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1571</td>
                                    <td class="row-source"><pre>  // Kernel breakpoints are read from the storage contract and stored in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1572</td>
                                    <td class="row-source"><pre>  // memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1573</td>
                                    <td class="row-source"><pre>  Kernel kernel = getKernel();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1574</td>
                                    <td class="row-source"><pre>  readKernel(kernel, storageAddress, length);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1575</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1576</td>
                                    <td class="row-source"><pre>  // If needed, additional space is reserved in memory for the pending kernel.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1577</td>
                                    <td class="row-source"><pre>  length = max(length, getPendingKernelLength());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1578</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1579</td>
                                    <td class="row-source"><pre>  // The memory pointer for the curve sequence is derived.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1580</td>
                                    <td class="row-source"><pre>  Curve curve;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1581</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1582</td>
                                    <td class="row-source"><pre>    curve := add(kernel, shl(6, sub(length, 1)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1583</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1584</td>
                                    <td class="row-source"><pre>  setCurve(curve);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1585</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1586</td>
                                    <td class="row-source"><pre>  // The curve sequence is read from storage and placed in memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1587</td>
                                    <td class="row-source"><pre>  length = readCurve();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1588</td>
                                    <td class="row-source"><pre>  setCurveLength(length);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1589</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1590</td>
                                    <td class="row-source"><pre>  // The free memory pointer is set next.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1591</td>
                                    <td class="row-source"><pre>  uint256 freeMemoryPointer;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1592</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1593</td>
                                    <td class="row-source"><pre>    freeMemoryPointer := add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1594</td>
                                    <td class="row-source"><pre>      curve,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1595</td>
                                    <td class="row-source"><pre>      shl(5, add(shr(2, sub(length, 1)), 2))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1596</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1597</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1598</td>
                                    <td class="row-source"><pre>  setFreeMemoryPointer(freeMemoryPointer);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1599</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1600</td>
                                    <td class="row-source"><pre>  // The byte count for the memory snapshot given to the hook contract is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1601</td>
                                    <td class="row-source"><pre>  // derived next.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1602</td>
                                    <td class="row-source"><pre>  uint256 hookInputByteCount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1603</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1604</td>
                                    <td class="row-source"><pre>    hookInputByteCount := </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1605</td>
                                    <td class="row-source"><pre>      sub(sub(freeMemoryPointer, _hookInputByteCount_), 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1606</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1607</td>
                                    <td class="row-source"><pre>  setHookInputByteCount(hookInputByteCount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1608</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1609</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1610</td>
                                    <td class="row-source"><pre>// Modified from Philogy </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1611</td>
                                    <td class="row-source"><pre>// &lt;https://github.com/Philogy/sstore3/blob/main/src/SSTORE3_L.sol&gt;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1612</td>
                                    <td class="row-source"><pre>// Modified from Solady </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1613</td>
                                    <td class="row-source"><pre>// &lt;https://github.com/Vectorized/solady/blob/main/src/utils/CREATE3.sol&gt;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1614</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1615</td>
                                    <td class="row-source"><pre>// The proxy bytecode.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1616</td>
                                    <td class="row-source"><pre>uint256 constant PROXY_CREATION_CODE = 0x67363D3D37363D3DF03D5260086018F3;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1617</td>
                                    <td class="row-source"><pre>// &#39;keccak256(PROXY_CREATION_CODE)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1618</td>
                                    <td class="row-source"><pre>bytes32 constant PROXY_CREATION_HASH = </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1619</td>
                                    <td class="row-source"><pre>  0xF779EDCBDC615C777A4CB2BEE1BF733055AA41FF7247837D0CD548565F65D034;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1620</td>
                                    <td class="row-source"><pre>// -------------------------------------------------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1621</td>
                                    <td class="row-source"><pre>// Opcode      | Mnemonic         | Stack        | Memory             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1622</td>
                                    <td class="row-source"><pre>// -------------------------------------------------------------------|</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1623</td>
                                    <td class="row-source"><pre>// 36          | CALLDATASIZE     | cds          |                    |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1624</td>
                                    <td class="row-source"><pre>// 3d          | RETURNDATASIZE   | 0 cds        |                    |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1625</td>
                                    <td class="row-source"><pre>// 3d          | RETURNDATASIZE   | 0 0 cds      |                    |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1626</td>
                                    <td class="row-source"><pre>// 37          | CALLDATACOPY     |              | [0..cds): calldata |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1627</td>
                                    <td class="row-source"><pre>// 36          | CALLDATASIZE     | cds          | [0..cds): calldata |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1628</td>
                                    <td class="row-source"><pre>// 3d          | RETURNDATASIZE   | 0 cds        | [0..cds): calldata |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1629</td>
                                    <td class="row-source"><pre>// 3d          | RETURNDATASIZE   | 0 0 cds      | [0..cds): calldata |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1630</td>
                                    <td class="row-source"><pre>// f0          | CREATE           | newContract  | [0..cds): calldata |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1631</td>
                                    <td class="row-source"><pre>// -------------------------------------------------------------------|</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1632</td>
                                    <td class="row-source"><pre>// Opcode      | Mnemonic         | Stack        | Memory             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1633</td>
                                    <td class="row-source"><pre>// -------------------------------------------------------------------|</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1634</td>
                                    <td class="row-source"><pre>// 67 bytecode | PUSH8 bytecode   | bytecode     |                    |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1635</td>
                                    <td class="row-source"><pre>// 3d          | RETURNDATASIZE   | 0 bytecode   |                    |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1636</td>
                                    <td class="row-source"><pre>// 52          | MSTORE           |              | [0..8): bytecode   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1637</td>
                                    <td class="row-source"><pre>// 60 0x08     | PUSH1 0x08       | 0x08         | [0..8): bytecode   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1638</td>
                                    <td class="row-source"><pre>// 60 0x18     | PUSH1 0x18       | 0x18 0x08    | [0..8): bytecode   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1639</td>
                                    <td class="row-source"><pre>// f3          | RETURN           |              | [0..8): bytecode   |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1640</td>
                                    <td class="row-source"><pre>// -------------------------------------------------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1641</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1642</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1643</td>
                                    <td class="row-source"><pre>uint256 constant DEPLOYMENT_CODE = 0x61000080600a3d393df300;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1644</td>
                                    <td class="row-source"><pre>// ------------------------------------------------------------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1645</td>
                                    <td class="row-source"><pre>//                                                                         |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1646</td>
                                    <td class="row-source"><pre>// STORE DEPLOY START (11 bytes)                                           |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1647</td>
                                    <td class="row-source"><pre>//                                                                         |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1648</td>
                                    <td class="row-source"><pre>// ----+------------+------------------+--------------+--------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1649</td>
                                    <td class="row-source"><pre>// PC  | Opcode     | Mnemonic         | Stack        | Memory             |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1650</td>
                                    <td class="row-source"><pre>// ----+------------+------------------+--------------+--------------------+</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1651</td>
                                    <td class="row-source"><pre>//                                                                         |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1652</td>
                                    <td class="row-source"><pre>// ::::::::::: Deploy code (10 bytes). ::::::::::::::::::::::::::::::::::: |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1653</td>
                                    <td class="row-source"><pre>// 0x0 | 61 ????    | PUSH2 length     | len          | -                  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1654</td>
                                    <td class="row-source"><pre>// 0x3 | 80         | DUP1             | len len      | -                  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1655</td>
                                    <td class="row-source"><pre>// 0x4 | 60 0a      | PUSH1 0x0a       | 10 len len   | -                  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1656</td>
                                    <td class="row-source"><pre>// 0x6 | 3d         | RETURNDATASIZE   | 0 10 len len | [0..len): runtime  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1657</td>
                                    <td class="row-source"><pre>// 0x7 | 39         | CODECOPY         | len          | [24..32): runtime  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1658</td>
                                    <td class="row-source"><pre>// 0x8 | 3d         | RETURNDATASIZE   | 0 len        | [24..32): runtime  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1659</td>
                                    <td class="row-source"><pre>// 0x9 | f3         | RETURN           |              | [24..32): runtime  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1660</td>
                                    <td class="row-source"><pre>//                                                                         |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1661</td>
                                    <td class="row-source"><pre>// ::::::::::: Padding (1 byte). ::::::::::::::::::::::::::::::::::::::::: |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1662</td>
                                    <td class="row-source"><pre>// 0x0 | 00         | STOP             |              | [24..32): runtime  |</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">1663</td>
                                    <td class="row-source"><pre>// ----+------------+------------------+--------------+--------------------+</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_Tag_sol" data-file-path="contracts\utilities\Tag.sol" data-lines-active="2" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\Tag.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 2</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {X59} from &quot;./X59.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>// Type &#39;Tag&#39; may refer to any of the followings:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>// - Native token corresponding to &#39;Tag.wrap(0)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>// - An ERC-20 address, i.e., &#39;Tag.wrap(uint256(uint160(tokenAddress)))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>// - An ERC-1155 token whose value is determined by hashing token address and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>// token ID, i.e., </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>// &#39;Tag.wrap(uint256(keccak256(abi.encodePacked(tokenAddress, tokenId))))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>// - An ERC-6909 token whose value is determined by hashing token address and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>// token ID, i.e., </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>// &#39;Tag.wrap(uint256(keccak256(abi.encodePacked(tokenAddress, tokenId))))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>// - A nofeeswap position whose value is determined by hashing, poolId and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>// min/max position boundaries, i.e., </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>// &#39;Tag.wrap(uint256(keccak256(abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>//    poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>//    qMin,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>//    qMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>//  ))))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>type Tag is uint256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>Tag constant native = Tag.wrap(0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>using {equals as ==, notEqual as !=} for Tag global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>using {lessThan as &lt;, greaterThan as &gt;} for Tag global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>using {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>  lessThanOrEqualTo as &lt;=,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>  greaterThanOrEqualTo as &gt;=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>} for Tag global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>function equals(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>  Tag value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>  Tag value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>    result := eq(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>function notEqual(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>  Tag value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>  Tag value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>  return !(value0 == value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>function lessThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>  Tag value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>  Tag value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>    result := lt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>function greaterThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>  Tag value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>  Tag value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>    result := gt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>function lessThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>  Tag value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>  Tag value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>  return !(value0 &gt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>function greaterThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>  Tag value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>  Tag value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>  return !(value0 &lt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>library TagLibrary {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>  /// @notice Generates a tag given an ERC-20 address.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>  /// @param tokenAddress The given ERC-20 address to be transformed to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>  /// type &#39;tag&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>  function tag(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>    address tokenAddress</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>    Tag tokenTag</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>      tokenTag := and(tokenAddress, sub(shl(160, 1), 1))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>  /// @notice Generates a tag given a multi-token address and tokenId.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>  /// @param tokenAddress The given multi-token address to be transformed to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>  /// the type &#39;tag&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>  /// @param tokenId The given multi-token id to be used to generate &#39;tag&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>  function tag(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>    address tokenAddress,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>    uint256 tokenId</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>    Tag tokenTag</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>      mstore(20, tokenAddress)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>      mstore(0, tokenId)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>      tokenTag := keccak256(0, 52)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>  /// @notice Generates a tag given a nofeeswap liquidity position.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>  /// @param poolId The pool identifier hosting this liquidity position.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>  /// @param qMin Equal to &#39;(2 ** 59) * log(pMin)&#39; where &#39;pMin&#39; is the left</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>  /// position boundary.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>  /// @param qMax Equal to &#39;(2 ** 59) * log(pMax)&#39; where &#39;pMax&#39; is the right</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>  /// position boundary.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>  function tag(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>    uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>    X59 qMin,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>    X59 qMax</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>    Tag positionTag</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>      // Cache the free memory pointer so that the third memory slot can be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>      // used for hashing.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>      let freeMemoryPointer := mload(0x40)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>      mstore(64, qMax)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>      mstore(32, qMin)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>      mstore(0, poolId)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>      positionTag := keccak256(0, 96)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>      // The &#39;freeMemoryPointer&#39; is restored.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>      mstore(0x40, freeMemoryPointer)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_X111_sol" data-file-path="contracts\utilities\X111.sol" data-lines-active="1" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\X111.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 1</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {X208} from &quot;./X208.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {X216} from &quot;./X216.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {FullMathLibrary} from &quot;./FullMath.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>// Type &#39;X111&#39; is dedicated to growth and liquidity values.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>type X111 is int256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>using X111Library for X111 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>X111 constant zeroX111 = X111.wrap(0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>X111 constant oneX111 = X111.wrap(1 &lt;&lt; 111);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>X111 constant maxGrowth = X111.wrap(1 &lt;&lt; 127);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>using {equals as ==, notEqual as !=} for X111 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>using {lessThan as &lt;, greaterThan as &gt;} for X111 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>using {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>  lessThanOrEqualTo as &lt;=,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>  greaterThanOrEqualTo as &gt;=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>} for X111 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>using {add as +, sub as -} for X111 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>function equals(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>  X111 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>  X111 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>    result := eq(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>function notEqual(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>  X111 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>  X111 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>  return !(value0 == value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>function lessThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>  X111 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>  X111 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>    result := slt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>function greaterThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>  X111 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>  X111 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>    result := sgt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>function lessThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>  X111 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>  X111 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>  return !(value0 &gt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>function greaterThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>  X111 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>  X111 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>  return !(value0 &lt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>// Overflow/underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>function add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>  X111 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>  X111 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>  X111 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>    result := add(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>// Overflow/underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>function sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>  X111 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>  X111 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>  X111 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>    result := sub(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>function min(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>  X111 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>  X111 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>  X111 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>  return (value0 &lt; value1) ? value0 : value1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>function max(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>  X111 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>  X111 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>  X111 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>  return (value0 &lt; value1) ? value1 : value0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>library X111Library {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>  /// @notice Calculates &#39;liquidity == growth * shares&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>  /// &#39;growth&#39; should not be less than &#39;oneX111&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>  /// &#39;growth&#39; should be less than or equal to &#39;1 &lt;&lt; 127&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>  /// &#39;shares&#39; should be less than &#39;1 &lt;&lt; 127&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>  function times(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>    X111 growth,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>    uint256 shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>    X111 liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>      // Multiplication is safe because of the input requirements.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>      liquidity := mul(growth, shares)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>  /// @notice Calculates &#39;liquidity == growth * shares&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>  /// &#39;growth&#39; should not be less than &#39;oneX111&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>  /// &#39;growth&#39; should be less than or equal to &#39;1 &lt;&lt; 127&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>  /// &#39;shares&#39; should be greater than &#39;- (1 &lt;&lt; 127)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>  /// &#39;shares&#39; should be less than &#39;1 &lt;&lt; 127&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>  function times(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>    X111 growth,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>    int256 shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>    X111 liquidity</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>      // Multiplication is safe because of the input requirements.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>      liquidity := mul(growth, shares)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>  /// @notice Calculates</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>  /// &#39;(value * multiplier) / ((2 ** 119) * exp(-8))&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>  /// &#39;growth&#39; should not be less than &#39;oneX111&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>  /// &#39;growth&#39; should be less than or equal to &#39;1 &lt;&lt; 127&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>  /// &#39;multiplier&#39; should be non-negative and less than &#39;oneX216&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>  function mulDivByExpInv8(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>    X111 growth,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>    X216 multiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>    X208 product</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>    // Both castings are safe because</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>    // &#39;growth &gt;= oneX111&#39; and &#39;multiplier &gt;= zeroX216&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>    ( ,  , uint256 q2) = FullMathLibrary.mul768(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>      // (2 ** 244) * exp(8)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>      0xBA4F53EA38636F85F007042540AE8EF33225E9A7AB4F4473A86D4A8FDD1A5B82,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>      // The shift is safe because &#39;oneX111 &lt;= growth &lt;= (1 &lt;&lt; 127)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>      uint256(X111.unwrap(growth)) &lt;&lt; 110,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>      // The shift is safe because &#39;0 &lt;= multiplier &lt;= oneX216&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>      uint256(X216.unwrap(multiplier)) &lt;&lt; 39</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>    product = X208.wrap(q2);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_X127_sol" data-file-path="contracts\utilities\X127.sol" data-lines-active="1" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\X127.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 1</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {X23} from &quot;./X23.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {X216} from &quot;./X216.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {SafeAddFailed} from &quot;./Errors.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>import {FullMathLibrary} from &quot;./FullMath.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>// Type &#39;X127&#39; is used for &#39;sqrtOffset&#39;, &#39;sqrtInverseOffset&#39;, and token</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>// amounts.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>type X127 is int256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>using X127Library for X127 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>X127 constant oneX127 = X127.wrap(1 &lt;&lt; 127);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>X127 constant zeroX127 = X127.wrap(0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>X127 constant epsilonX127 = X127.wrap(1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>// 104 = 231 - 127 digits of non-decimal</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>X127 constant accruedMax = X127.wrap((1 &lt;&lt; 231) - 1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>using {equals as ==, notEquals as !=} for X127 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>using {lessThan as &lt;, greaterThan as &gt;} for X127 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>using {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>  lessThanOrEqualTo as &lt;=,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>  greaterThanOrEqualTo as &gt;=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>} for X127 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>using {add as +, sub as -, safeAdd as &amp;} for X127 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>function equals(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>  X127 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  X127 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>    result := eq(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>function notEquals(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>  X127 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>  X127 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>  return !(value0 == value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>function lessThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>  X127 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>  X127 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>    result := slt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>function greaterThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>  X127 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>  X127 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>    result := sgt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>function lessThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>  X127 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>  X127 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>  return !(value0 &gt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>function greaterThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>  X127 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>  X127 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>  return !(value0 &lt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>// Overflow/underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>function add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>  X127 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>  X127 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>  X127 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>    result := add(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>// Overflow/underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>function sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>  X127 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>  X127 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>  X127 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>    result := sub(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>// Throws in case of overflow/underflow.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>function safeAdd(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>  X127 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>  X127 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>  X127 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>  // We first add the two values unsafely and then examine the result.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>  result = value0 + value1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>  </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>  // The following requirement is satisfied if and only if &#39;result&#39; does not</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>  // overflow or underflow. Because,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>  // - overflow implies that both &#39;value0&#39; and &#39;value1&#39; are positive but</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>  // &#39;result&#39; is negative which contradicts the following requirement.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>  // - underflow implies that both &#39;value0&#39; and &#39;value1&#39; are negative but</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>  // &#39;result&#39; is positive which contradicts the following requirement as well.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>  // - Lastly, in case of no overflow/underflow, the following requirement is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>  // trivial.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>  require(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>    (value1 &gt;= zeroX127) == (result &gt;= value0),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>    SafeAddFailed(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>function min(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>  X127 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>  X127 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>  X127 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>  return (value0 &lt; value1) ? value0 : value1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>function max(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>  X127 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>  X127 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>  X127 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>  return (value0 &lt; value1) ? value1 : value0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>library X127Library {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>  /// @notice Calculates &#39;value * multiplier / (2 ** 23)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>  /// &#39;value&#39; should be non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>  /// &#39;value * multiplier&#39; should be less than &#39;2 ** 256&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>  function times(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>    X127 value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>    X23 multiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>    X127 product</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>    // The multiplication is safe because of the input requirement.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>      product := shr(23, mul(value, multiplier))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>  /// @notice Calculates &#39;(value * numerator) / denominator&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>  /// Overflow and division by zero should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>  /// All input values should be non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>  function mulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>    X127 value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>    X216 numerator,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>    X216 denominator</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>    X127 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>    result = X127.wrap(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>      // Casting to &#39;int256&#39; is safe because overflow is handled externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>      int256(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>        // The three castings are safe because of the input requirement.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>        // The requirements of &#39;mulDiv&#39; are met because overflow is handled</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>        // externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>        FullMathLibrary.mulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>          uint256(X127.unwrap(value)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>          uint256(X216.unwrap(numerator)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>          uint256(X216.unwrap(denominator))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>  /// @notice Transforms type X127 to the integer &#39;value / (2 ** 127)&#39; while</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>  /// maintaining the sign. Rounds towards negative infinity.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>  function toInteger(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>    X127 value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>    int256 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>      result := sar(127, value)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>  /// @notice Transforms type X127 to the integer &#39;value / (2 ** 127)&#39; while</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>  /// maintaining the sign.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>  /// Rounds towards positive infinity.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>  /// &#39;value&#39; should be greater than &#39;- 2 ** 255&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>  function toIntegerRoundUp(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>    X127 value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>    int256 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>    // The inner subtraction is safe because &#39;value &gt; - 2 ** 255&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre>    // The outer subtraction is safe because </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>    // &#39;- 2 ** 128 &lt; (0 - value) / (2 ** 127) &lt; 2 ** 128&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre>      result := sub(0, sar(127, sub(0, value)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_X15_sol" data-file-path="contracts\utilities\X15.sol" data-lines-active="0" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\X15.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 0</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>// Type &#39;X15&#39; is dedicated to the vertical coordinates of the kernel</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>// breakpoints. The distribution of liquidity within every interval is governed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>// by a piecewise linear kernel function. The kernel function is characterized</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>// by a list of breakpoints given by the pool owner. The vertical coordinate of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>// each breakpoint is a number within the interval [0, 1] which is stored in</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>// &#39;X15&#39; format, with &#39;2 ** 15&#39; representing 1.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>type X15 is uint256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>X15 constant zeroX15 = X15.wrap(0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>X15 constant oneX15 = X15.wrap(1 &lt;&lt; 15);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>using {equals as ==, notEqual as !=} for X15 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>using {lessThan as &lt;, greaterThan as &gt;} for X15 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>using {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>  lessThanOrEqualTo as &lt;=,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>  greaterThanOrEqualTo as &gt;=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>} for X15 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>using {add as +, sub as -} for X15 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>function equals(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>  X15 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>  X15 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>    result := eq(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>function notEqual(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>  X15 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>  X15 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>  return !(value0 == value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>function lessThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>  X15 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>  X15 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>    result := lt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>function greaterThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>  X15 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>  X15 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>    result := gt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>function lessThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>  X15 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>  X15 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>  return !(value0 &gt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>function greaterThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>  X15 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>  X15 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>  return !(value0 &lt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>// Overflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>function add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>  X15 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>  X15 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>  X15 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>    result := add(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>// Underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>function sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>  X15 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>  X15 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>  X15 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>    result := sub(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_X208_sol" data-file-path="contracts\utilities\X208.sol" data-lines-active="1" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\X208.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 1</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {X111} from &quot;./X111.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {X216} from &quot;./X216.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {FullMathLibrary} from &quot;./FullMath.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>// Type &#39;X208&#39; is dedicated to growth multipliers.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>type X208 is uint256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>using X208Library for X208 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>X208 constant zeroX208 = X208.wrap(0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>// (2 ** 208) * exp(+8)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>X208 constant exp8X208 = X208.wrap(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>  0x000000000BA4F53EA38636F85F007042540AE8EF33225E9A7AB4F4473A86D4A8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>using {equals as ==, notEquals as !=} for X208 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>using {lessThan as &lt;, greaterThan as &gt;} for X208 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>using {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>  lessThanOrEqualTo as &lt;=,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>  greaterThanOrEqualTo as &gt;=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>} for X208 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>using {add as +, sub as -} for X208 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>function equals(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>  X208 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>  X208 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>    result := eq(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>function notEquals(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>  X208 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>  X208 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>  return !(value0 == value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>function lessThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>  X208 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>  X208 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>    result := lt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>function greaterThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>  X208 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>  X208 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>    result := gt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>function lessThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>  X208 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>  X208 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>  return !(value0 &gt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>function greaterThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>  X208 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>  X208 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>  return !(value0 &lt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>// Overflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>function add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>  X208 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>  X208 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>  X208 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>    result := add(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>// Underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>function sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>  X208 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>  X208 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>  X208 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>    result := sub(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>library X208Library {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>  /// @notice Calculates &#39;(value * numerator) / denominator&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>  /// Overflow and division by zero should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>  /// &#39;numerator&#39; and &#39;denominator&#39; values should be non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>  function mulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>    X208 value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>    X216 numerator,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>    X216 denominator</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>    X208 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>    // Both castings are safe because of the non-negative requirement on both</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>    // &#39;numerator&#39; and &#39;denominator&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>    result = X208.wrap(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>      FullMathLibrary.mulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>        X208.unwrap(value),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>        uint256(X216.unwrap(numerator)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>        uint256(X216.unwrap(denominator))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>  /// @notice Calculates</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>  /// &#39;(value * multiplier) / ((2 ** 313) * exp(-8))&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>  /// &#39;multiplier&#39; should be non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>  function mulDivByExpInv8(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>    X208 value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>    X216 multiplier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>    X111 product</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>    ( ,  , uint256 q2) = FullMathLibrary.mul768(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>      // (2 ** 244) * exp(8)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>      0xBA4F53EA38636F85F007042540AE8EF33225E9A7AB4F4473A86D4A8FDD1A5B82,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>      X208.unwrap(value),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>      // Casting is safe because of the non-negative requirement on</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>      // &#39;multiplier&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>      uint256(X216.unwrap(multiplier))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>    unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>      // Casting is safe because &#39;q2 &gt;&gt; 45&#39; never exceeds &#39;type(int256).max&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>      // &#39;45 == 244 + 208 + 216 - 512 - 111&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>      product = X111.wrap(int256(q2 &gt;&gt; 45));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_X216_sol" data-file-path="contracts\utilities\X216.sol" data-lines-active="1" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\X216.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 1</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {FullMathLibrary} from &quot;./FullMath.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>// Type &#39;X216&#39; is dedicated to integrals and sqrt of price values.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>type X216 is int256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>using X216Library for X216 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>X216 constant oneX216 = X216.wrap(1 &lt;&lt; 216);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>X216 constant zeroX216 = X216.wrap(0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>X216 constant epsilonX216 = X216.wrap(1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>// (2 ** 216) * exp(-8)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>X216 constant expInverse8X216 = X216.wrap(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>  0x00000000000015FC21041027ACBBFCD46780FEE71EAD23FBCB7F4A81E58767EF</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>using {equals as ==, notEquals as !=} for X216 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>using {lessThan as &lt;, greaterThan as &gt;} for X216 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>using {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>  lessThanOrEqualTo as &lt;=,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>  greaterThanOrEqualTo as &gt;=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>} for X216 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>using {add as +, sub as -} for X216 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>using {mul as *, cheapMul as &amp;} for X216 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>using {mulDivByExpInv8 as %, mulDivByExpInv16 as ^} for X216 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>function equals(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>  X216 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  X216 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>    result := eq(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>function notEquals(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>  X216 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>  X216 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>  return !(value0 == value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>function lessThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>  X216 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>  X216 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>    result := slt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>function greaterThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>  X216 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>  X216 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>    result := sgt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>function lessThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>  X216 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>  X216 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>  return !(value0 &gt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>function greaterThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>  X216 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>  X216 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>  return !(value0 &lt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>// Overflow/underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>function add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>  X216 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>  X216 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>  X216 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>    result := add(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>// Overflow/underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>function sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>  X216 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>  X216 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>  X216 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>    result := sub(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>// Calculates &#39;(value0 * value1) / (2 ** 216)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>// Overflow/underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>// Both values should be greater than &#39;- 2 ** 255&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>function mul(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>  X216 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>  X216 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>  X216 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>  // Let &#39;s := value0 * value1 - (2 ** 256 - 1) * p&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>  // Let &#39;r := value0 * value1 - (2 ** 216) * q&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>  // Then &#39;s - r == (2 ** 216) * q&#39; [modulo &#39;2 ** 256 - 1&#39;]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>  // Then &#39;q == (2 ** 40) * (s - r)&#39; [modulo &#39;2 ** 256 - 1&#39;]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>    result := mulmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>      addmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>        // We account for the additional term &#39;2 ** 256&#39; in two&#39;s complement</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>        // representation by subtracting &#39;slt(value, 0)&#39;. Because if a two&#39;s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>        // complement representation &#39;value&#39; correspond to a negative number,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>        // we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>        // &#39;value - 2 ** 256 == value - 1&#39; [modulo 2 ** 256 - 1]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>        // Both subtractions are safe due to the input requirement.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>        mulmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>          sub(value0, slt(value0, 0)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>          sub(value1, slt(value1, 0)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>          not(0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>        ), // s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>        // Here, we do not need to account for the additional term &#39;2 ** 256&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>        // in two&#39;s complement representation because if a two&#39;s complement</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>        // representation &#39;value&#39; is negative, we have:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>        // &#39;value - 2 ** 256 == value&#39; [modulo 2 ** 216]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>        //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>        // The subtraction is safe because &#39;2 ** 216 &lt; 2 ** 256 - 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>        sub(not(0), mulmod(value0, value1, shl(216, 1))), // 0 - r</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>        not(0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>      ),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>      shl(40, 1),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>      not(0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>// Calculates &#39;(value0 * value1) / (2 ** 216)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>// &#39;value0&#39; and &#39;value1&#39; should be non-negative and less than &#39;oneX216&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>function cheapMul(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>  X216 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>  X216 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>  X216 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>  // Let &#39;s := value0 * value1 - (2 ** 216 - 1) * p&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>  // Let &#39;r := value0 * value1 - (2 ** 216) * q&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>  // Then &#39;s - r == q&#39; [modulo &#39;2 ** 216 - 1&#39;]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>  // Because of the input requirements, &#39;q&#39; does not exceed &#39;2 ** 216 - 1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>  // which concludes that: &#39;s - r == q&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>    result := addmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>      mulmod(value0, value1, sub(shl(216, 1), 1)), // s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>      // The subtraction is safe because the output of &#39;mulmod&#39; does not exceed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>      // &#39;2 ** 216 - 1&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>      sub(sub(shl(216, 1), 1), mulmod(value0, value1, shl(216, 1))), // 0 - r</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>      sub(shl(216, 1), 1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>// Calculates &#39;(value0 * value1) / ((2 ** 216) * exp(-8))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>// The following approximation is used: &#39;(2 ** 216) * exp(-8) ~= b / a&#39; where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>// &#39;a = 0xF8F6376C44&#39; and </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>// &#39;b = 0x1561650620DABB6A84B684E2A7E5A47CAA0A0905210083F0E3B551AABF84E9&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>// Overflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>// Both values should be non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>// &#39;value0&#39; should be less than &#39;oneX216&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>function mulDivByExpInv8(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>  X216 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>  X216 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>  X216 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>  // Let &#39;s := value0 * value1 * a - (2 ** 256) * p&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>  // Let &#39;r := value0 * value1 * a - b * q&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>  // Then &#39;s - r == b * q&#39; [modulo &#39;2 ** 256&#39;]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>    // Multiplication is safe because of the input requirement:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>    // &#39;0 &lt;= value0 &lt; oneX216&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>    result := mul(value0, 0xF8F6376C44)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>    result := mul(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>      // s - r</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>      sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre>        // s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>        mul(result, value1),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>        // r</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>        mulmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>          result,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>          value1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>          0x1561650620DABB6A84B684E2A7E5A47CAA0A0905210083F0E3B551AABF84E9 // b</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>      ),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>      // modular inverse of &#39;b&#39; modulo &#39;2 ** 256&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>      0x28256938C4923FF15AB260970AA81F81C15E6F5EF3AF38DC210569E77DB19359</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>// Calculates &#39;(value0 * value1) / ((2 ** 216) * exp(-16))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>// The following approximation is used: &#39;(2 ** 216) * exp(-16) ~= b / a&#39; where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>// &#39;a = 0x27D117D7B * 0x2EC3A856&#39; and </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre>// &#39;b = 0xDBB82F7041B890FE67970A62A3568CC34DF9DCB17CC3A2A6A027850E7E3724F9&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>//</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre>// Overflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>// Both values should be non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre>// &#39;value0&#39; and &#39;value1&#39; should be less than &#39;oneX216&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>function mulDivByExpInv16(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>  X216 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre>  X216 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>  X216 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre>  // Let &#39;s := value0 * value1 * a - (2 ** 256) * p&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>  // Let &#39;r := value0 * value1 * a - b * q&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre>  // Then &#39;s - r == b * q&#39; [modulo &#39;2 ** 256&#39;]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre>    // Both of the following multiplications are safe because of the input</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre>    // requirements:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre>    // &#39;0 &lt;= value0 &lt; oneX216&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>    // &#39;0 &lt;= value1 &lt; oneX216&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre>    value0 := mul(value0, 0x27D117D7B)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre>    value1 := mul(value1, 0x2EC3A856)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>    result := mul(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>      // s - r</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre>      sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre>        // s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>        mul(value0, value1),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre>        // r</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre>        mulmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre>          value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre>          value1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre>          // b</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">257</td>
                                    <td class="row-source"><pre>          0xDBB82F7041B890FE67970A62A3568CC34DF9DCB17CC3A2A6A027850E7E3724F9</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">258</td>
                                    <td class="row-source"><pre>        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">259</td>
                                    <td class="row-source"><pre>      ),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">260</td>
                                    <td class="row-source"><pre>      // modular inverse of &#39;b&#39; modulo &#39;2 ** 256&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">261</td>
                                    <td class="row-source"><pre>      0x7F6AF8233BADA11DD406B4458454ED9904D7AF796BE7AA4885B23E25B6985D49</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">262</td>
                                    <td class="row-source"><pre>    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">263</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">264</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">265</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">266</td>
                                    <td class="row-source"><pre>function min(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">267</td>
                                    <td class="row-source"><pre>  X216 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">268</td>
                                    <td class="row-source"><pre>  X216 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">269</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">270</td>
                                    <td class="row-source"><pre>  X216 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">271</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">272</td>
                                    <td class="row-source"><pre>  return (value0 &lt; value1) ? value0 : value1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">273</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">274</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">275</td>
                                    <td class="row-source"><pre>function max(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">276</td>
                                    <td class="row-source"><pre>  X216 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">277</td>
                                    <td class="row-source"><pre>  X216 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">278</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">279</td>
                                    <td class="row-source"><pre>  X216 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">280</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">281</td>
                                    <td class="row-source"><pre>  return (value0 &lt; value1) ? value1 : value0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">282</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">283</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">284</td>
                                    <td class="row-source"><pre>/// @notice Returns the minimum of two unsigned fractions. &#39;0 / 0&#39; is </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">285</td>
                                    <td class="row-source"><pre>/// interpreted as infinity. &#39;which == false&#39; and &#39;which == true&#39; indicate</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">286</td>
                                    <td class="row-source"><pre>/// &#39;(numerator0, denominator0)&#39; and &#39;(numerator1, denominator1)&#39;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">287</td>
                                    <td class="row-source"><pre>/// respectively.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">288</td>
                                    <td class="row-source"><pre>/// All four values should be non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">289</td>
                                    <td class="row-source"><pre>/// At least one &#39;denominator&#39; should be non-zero.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">290</td>
                                    <td class="row-source"><pre>function minFractions(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">291</td>
                                    <td class="row-source"><pre>  X216 numerator0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">292</td>
                                    <td class="row-source"><pre>  X216 denominator0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">293</td>
                                    <td class="row-source"><pre>  X216 numerator1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">294</td>
                                    <td class="row-source"><pre>  X216 denominator1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">295</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">296</td>
                                    <td class="row-source"><pre>  X216 numerator,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">297</td>
                                    <td class="row-source"><pre>  X216 denominator,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">298</td>
                                    <td class="row-source"><pre>  bool which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">299</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">300</td>
                                    <td class="row-source"><pre>  if (numerator0 == zeroX216) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">301</td>
                                    <td class="row-source"><pre>    if (denominator0 == zeroX216) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">302</td>
                                    <td class="row-source"><pre>      return (numerator1, denominator1, true);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">303</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">304</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">305</td>
                                    <td class="row-source"><pre>  // Castings are safe because all four values are non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">306</td>
                                    <td class="row-source"><pre>  (uint256 lsb0, uint256 msb0) = FullMathLibrary.mul512(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">307</td>
                                    <td class="row-source"><pre>    uint256(X216.unwrap(numerator0)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">308</td>
                                    <td class="row-source"><pre>    uint256(X216.unwrap(denominator1))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">309</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">310</td>
                                    <td class="row-source"><pre>  (uint256 lsb1, uint256 msb1) = FullMathLibrary.mul512(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">311</td>
                                    <td class="row-source"><pre>    uint256(X216.unwrap(numerator1)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">312</td>
                                    <td class="row-source"><pre>    uint256(X216.unwrap(denominator0))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">313</td>
                                    <td class="row-source"><pre>  );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">314</td>
                                    <td class="row-source"><pre>  (numerator, denominator, which) = </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">315</td>
                                    <td class="row-source"><pre>    ((msb1 &gt; msb0) || ((msb1 == msb0) &amp;&amp; (lsb1 &gt;= lsb0))) ? </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">316</td>
                                    <td class="row-source"><pre>    (numerator0, denominator0, false) : </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">317</td>
                                    <td class="row-source"><pre>    (numerator1, denominator1, true);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">318</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">319</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">320</td>
                                    <td class="row-source"><pre>library X216Library {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">321</td>
                                    <td class="row-source"><pre>  /// @notice Calculates &#39;value * exp(1 / (2 ** 60))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">322</td>
                                    <td class="row-source"><pre>  /// Overflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">323</td>
                                    <td class="row-source"><pre>  /// &#39;value&#39; should be non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">324</td>
                                    <td class="row-source"><pre>  function multiplyByExpEpsilon(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">325</td>
                                    <td class="row-source"><pre>    X216 value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">326</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">327</td>
                                    <td class="row-source"><pre>    X216 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">328</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">329</td>
                                    <td class="row-source"><pre>    // Let &#39;a := floor((2 ** 256) * exp(-1 / (2 ** 60)))&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">330</td>
                                    <td class="row-source"><pre>    // Let &#39;r := (2 ** 256) * value - a * q&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">331</td>
                                    <td class="row-source"><pre>    // Let &#39;b := modularInverse(- a, 2 ** 256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">332</td>
                                    <td class="row-source"><pre>    // Then &#39;q == b * r&#39; [modulo &#39;2 ** 256&#39;]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">333</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">334</td>
                                    <td class="row-source"><pre>      result := mul(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">335</td>
                                    <td class="row-source"><pre>        // r</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">336</td>
                                    <td class="row-source"><pre>        mulmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">337</td>
                                    <td class="row-source"><pre>          value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">338</td>
                                    <td class="row-source"><pre>          // We are subtracting by &#39;a&#39; because &#39;2 ** 256&#39; does not fit, which</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">339</td>
                                    <td class="row-source"><pre>          // is okay because the multiplication is done modulo &#39;a&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">340</td>
                                    <td class="row-source"><pre>          // 2 ** 256 - a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">341</td>
                                    <td class="row-source"><pre>          0xFFFFFFFFFFFFFFF8000000000000002AAAAAAAAAAAAAAA001,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">342</td>
                                    <td class="row-source"><pre>          // a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">343</td>
                                    <td class="row-source"><pre>          0xFFFFFFFFFFFFFFF0000000000000007FFFFFFFFFFFFFFD555555555555555FFF</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">344</td>
                                    <td class="row-source"><pre>        ),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">345</td>
                                    <td class="row-source"><pre>        // b</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">346</td>
                                    <td class="row-source"><pre>        0xAA3ED2381A8B1241D16168FD77EF989ED2B13BE12B716AA23F35ED0E39556001</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">347</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">348</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">349</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">350</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">351</td>
                                    <td class="row-source"><pre>  /// @notice Calculates &#39;value / exp(1 / (2 ** 60))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">352</td>
                                    <td class="row-source"><pre>  /// &#39;value&#39; should be non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">353</td>
                                    <td class="row-source"><pre>  function divideByExpEpsilon(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">354</td>
                                    <td class="row-source"><pre>    X216 value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">355</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">356</td>
                                    <td class="row-source"><pre>    X216 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">357</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">358</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">359</td>
                                    <td class="row-source"><pre>      // Let &#39;a := floor((2 ** 256 - 1) * exp(-1 / (2 ** 60)))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">360</td>
                                    <td class="row-source"><pre>      // Let &#39;s := value * a - q * not(0)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">361</td>
                                    <td class="row-source"><pre>      // Let &#39;r := value * a&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">362</td>
                                    <td class="row-source"><pre>      // Then &#39;s - r == - q * not(0) == q&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">363</td>
                                    <td class="row-source"><pre>      result := sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">364</td>
                                    <td class="row-source"><pre>        // s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">365</td>
                                    <td class="row-source"><pre>        mulmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">366</td>
                                    <td class="row-source"><pre>          value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">367</td>
                                    <td class="row-source"><pre>          // a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">368</td>
                                    <td class="row-source"><pre>          0xFFFFFFFFFFFFFFF0000000000000007FFFFFFFFFFFFFFD555555555555555FFE,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">369</td>
                                    <td class="row-source"><pre>          not(0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">370</td>
                                    <td class="row-source"><pre>        ),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">371</td>
                                    <td class="row-source"><pre>        // r</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">372</td>
                                    <td class="row-source"><pre>        mul(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">373</td>
                                    <td class="row-source"><pre>          value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">374</td>
                                    <td class="row-source"><pre>          // a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">375</td>
                                    <td class="row-source"><pre>          0xFFFFFFFFFFFFFFF0000000000000007FFFFFFFFFFFFFFD555555555555555FFE</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">376</td>
                                    <td class="row-source"><pre>        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">377</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">378</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">379</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">380</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">381</td>
                                    <td class="row-source"><pre>  /// @notice Calculates &#39;(value * numerator) / denominator&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">382</td>
                                    <td class="row-source"><pre>  /// Overflow and division by zero should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">383</td>
                                    <td class="row-source"><pre>  /// All input values should be non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">384</td>
                                    <td class="row-source"><pre>  function mulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">385</td>
                                    <td class="row-source"><pre>    X216 value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">386</td>
                                    <td class="row-source"><pre>    X216 numerator,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">387</td>
                                    <td class="row-source"><pre>    X216 denominator</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">388</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">389</td>
                                    <td class="row-source"><pre>    X216 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">390</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">391</td>
                                    <td class="row-source"><pre>    result = X216.wrap(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">392</td>
                                    <td class="row-source"><pre>      // Casting is safe because overflow is handled externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">393</td>
                                    <td class="row-source"><pre>      int256(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">394</td>
                                    <td class="row-source"><pre>        // All three castings are safe due to the input requirements.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">395</td>
                                    <td class="row-source"><pre>        FullMathLibrary.mulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">396</td>
                                    <td class="row-source"><pre>          uint256(X216.unwrap(value)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">397</td>
                                    <td class="row-source"><pre>          uint256(X216.unwrap(numerator)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">398</td>
                                    <td class="row-source"><pre>          uint256(X216.unwrap(denominator))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">399</td>
                                    <td class="row-source"><pre>        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">400</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">401</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">402</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">403</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">404</td>
                                    <td class="row-source"><pre>  /// @notice Calculates &#39;(value * numerator) / denominator&#39; when </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">405</td>
                                    <td class="row-source"><pre>  /// &#39;value * numerator &lt; denominator * (denominator - 1)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">406</td>
                                    <td class="row-source"><pre>  /// value should be non-negative</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">407</td>
                                    <td class="row-source"><pre>  function cheapMulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">408</td>
                                    <td class="row-source"><pre>    X216 value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">409</td>
                                    <td class="row-source"><pre>    uint256 numerator,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">410</td>
                                    <td class="row-source"><pre>    uint256 denominator</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">411</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">412</td>
                                    <td class="row-source"><pre>    X216 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">413</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">414</td>
                                    <td class="row-source"><pre>    result = X216.wrap(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">415</td>
                                    <td class="row-source"><pre>      // Casting is safe because overflow is handled externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">416</td>
                                    <td class="row-source"><pre>      int256(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">417</td>
                                    <td class="row-source"><pre>        // The requirement of &#39;cheapMulDiv&#39; is met because of the above input</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">418</td>
                                    <td class="row-source"><pre>        // requirement.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">419</td>
                                    <td class="row-source"><pre>        FullMathLibrary.cheapMulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">420</td>
                                    <td class="row-source"><pre>          // Casting is safe due to the input requirement in &#39;value&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">421</td>
                                    <td class="row-source"><pre>          uint256(X216.unwrap(value)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">422</td>
                                    <td class="row-source"><pre>          numerator,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">423</td>
                                    <td class="row-source"><pre>          denominator</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">424</td>
                                    <td class="row-source"><pre>        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">425</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">426</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">427</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">428</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_X23_sol" data-file-path="contracts\utilities\X23.sol" data-lines-active="0" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\X23.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 0</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>// Type &#39;X23&#39; is dedicated to pool growth ratios which determine the ratio of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>// the accrued growth portions that belong to a pool owner. &#39;oneX23&#39; represents</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>// 100%.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>type X23 is uint256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>X23 constant zeroX23 = X23.wrap(0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>X23 constant oneX23 = X23.wrap(1 &lt;&lt; 23);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>using {add as +, sub as -} for X23 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>// Overflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>function add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>  X23 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>  X23 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>  X23 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>    result := add(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>// Underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>function sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>  X23 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>  X23 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  X23 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>    result := sub(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_X47_sol" data-file-path="contracts\utilities\X47.sol" data-lines-active="2" data-lines-covered="1">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(60, 90%, 45%, 0.15); color: hsl(60, 90%, 45%)">
                                50.0%
                            </span>
                            <span class="file-name">contracts\utilities\X47.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>1 / 2</strong> (50.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>// Type &#39;X47&#39; is dedicated to growth portions. Interval liquidity can grow as a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>// result of a swap or a donation. A portion of this growth goes to the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>// protocol. A portion of the remaining growth goes to the pool owner. These</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>// portions are stored as &#39;X47&#39; type with &#39;oneX47&#39; representing 100%.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>type X47 is uint256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>X47 constant zeroX47 = X47.wrap(0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>// Largest valid value for growth portions:</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>X47 constant oneX47 = X47.wrap(1 &lt;&lt; 47);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>// An invalid value for growth portions which is used as an indicator:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>X47 constant maxX47 = X47.wrap(type(uint48).max);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>using {equals as ==, notEqual as !=} for X47 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>using {lessThan as &lt;, greaterThan as &gt;} for X47 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>using {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>  lessThanOrEqualTo as &lt;=,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>  greaterThanOrEqualTo as &gt;=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>} for X47 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>function equals(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>  X47 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>  X47 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>    result := eq(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>function notEqual(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>  X47 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>  X47 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>  return !(value0 == value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>function lessThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>  X47 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>  X47 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>    result := lt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>function greaterThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>  X47 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>  X47 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>    result := gt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>function lessThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>  X47 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>  X47 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>  return !(value0 &gt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>function greaterThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>  X47 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>  X47 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>  return !(value0 &lt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>function min(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>  X47 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>  X47 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>  X47 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>  return (value0 &lt; value1) ? value0 : value1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>function max(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>  X47 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>  X47 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>  X47 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>  return (value0 &lt; value1) ? value1 : value0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_X59_sol" data-file-path="contracts\utilities\X59.sol" data-lines-active="14" data-lines-covered="6">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(50, 90%, 50%, 0.15); color: hsl(50, 90%, 50%)">
                                42.0%
                            </span>
                            <span class="file-name">contracts\utilities\X59.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>6 / 14</strong> (42.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {X15} from &quot;./X15.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {X74} from &quot;./X74.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {X127} from &quot;./X127.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>import {X216} from &quot;./X216.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>import {FullMathLibrary} from &quot;./FullMath.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>// Type &#39;X59&#39; is dedicated to the natural logarithm of price.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>type X59 is int256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>using X59Library for X59 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>X59 constant zeroX59 = X59.wrap(0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>X59 constant epsilonX59 = X59.wrap(1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>X59 constant oneX59 = X59.wrap(1 &lt;&lt; 59);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>X59 constant twoX59 = X59.wrap(2 &lt;&lt; 59);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>X59 constant threeX59 = X59.wrap(3 &lt;&lt; 59);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>X59 constant fourX59 = X59.wrap(4 &lt;&lt; 59);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>X59 constant sixteenX59 = X59.wrap(16 &lt;&lt; 59);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>X59 constant thirtyTwoX59 = X59.wrap(32 &lt;&lt; 59);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>X59 constant minLogSpacing = X59.wrap((1 &lt;&lt; 59) &gt;&gt; 19);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>X59 constant minLogStep = X59.wrap((1 &lt;&lt; 59) &gt;&gt; 27);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>X59 constant minLogOffset = X59.wrap(0 - int256(90 &lt;&lt; 59));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>X59 constant maxLogOffset = X59.wrap(90 &lt;&lt; 59);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>X59 constant minX59 = X59.wrap(0 - type(int256).max);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>X59 constant maxX59 = X59.wrap(type(int256).max);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>using {equals as ==, notEqual as !=} for X59 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>using {lessThan as &lt;, greaterThan as &gt;} for X59 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>using {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>  lessThanOrEqualTo as &lt;=,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>  greaterThanOrEqualTo as &gt;=</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>} for X59 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>using {add as +, sub as -} for X59 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>using {mod as %} for X59 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>function equals(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>  X59 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>  X59 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>    result := eq(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>function notEqual(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>  X59 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>  X59 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>  return !(value0 == value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>function lessThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>  X59 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>  X59 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>    result := slt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>function greaterThan(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>  X59 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>  X59 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>    result := sgt(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>function lessThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>  X59 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>  X59 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>  return !(value0 &gt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>function greaterThanOrEqualTo(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>  X59 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>  X59 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>  return !(value0 &lt; value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>// Overflow/underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>function add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>  X59 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>  X59 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>  X59 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>    result := add(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>// Overflow/underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>function sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>  X59 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>  X59 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>  X59 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>    result := sub(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>// &#39;value&#39; should be non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>// &#39;modulus&#39; should be positive.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>function mod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>  X59 value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>  X59 modulus</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>  X59 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>    result := mod(value, modulus)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>function min(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>  X59 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>  X59 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>  X59 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>  return (value0 &lt; value1) ? value0 : value1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>function max(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>  X59 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>  X59 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>  X59 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>  return (value0 &lt; value1) ? value1 : value0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>library X59Library {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>  // Overflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>  // &#39;value0&#39; should be non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>  function times(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>    X59 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>    X15 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>    X74 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>      result := mul(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>  /// @notice Calculates &#39;(value * numerator) / denominator&#39; when </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>  /// &#39;value * numerator &lt; denominator * (denominator - 1)&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>  /// The three inputs should be non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>  function cheapMulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>    X59 value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>    X216 numerator,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>    X216 denominator</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>    X59 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>    // The three castings to &#39;uint256&#39; are safe because of the &#39;non-negative&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>    // requirement on input values.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>    // The casting to &#39;int256&#39; is safe because</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>    // &#39;value * numerator / denominator &lt; denominator - 1 &lt;= 2 ** 255 - 2&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>    // The requirement of &#39;cheapMulDiv&#39; are met because of the above input</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>    // requirement.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>    result = X59.wrap(int256(FullMathLibrary.cheapMulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>      uint256(X59.unwrap(value)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>      uint256(X216.unwrap(numerator)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>      uint256(X216.unwrap(denominator))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>    )));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>  /// @notice Calculates</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>  /// &#39;(value * multiplier0 * multiplier1) / ((2 ** (216 + 59)) * exp(-16))&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>  /// Overflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>  /// All three inputs should be non-negative.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>  function mulDivByExpInv16(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>    X59 value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>    X216 multiplier0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>    X216 multiplier1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>    X216 product</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>      // Let &#39;r := value * multiplier0 * multiplier1 </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>      //         - floor((2 ** 275) * exp(-16)) * q&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>      // Let &#39;s := value * multiplier0 * multiplier1 - (2 ** 256) * p&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>      //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>      // Then &#39;s - r == floor((2 ** 275) * exp(-16)) * q&#39; [modulo &#39;2 ** 256&#39;]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>      product := mul(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>        sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>          // s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>          mul(mul(value, multiplier0), multiplier1),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>          // r</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>          mulmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>            mulmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre>              value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>              multiplier0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>              // floor((2 ** 275) * exp(-16))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre>              0xF1AADDD7742E56D32FB9F997447D9E6314DB84884FABAB26BF059AF9BC20B61</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>            ),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre>            multiplier1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>            // floor((2 ** 275) * exp(-16))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>            0xF1AADDD7742E56D32FB9F997447D9E6314DB84884FABAB26BF059AF9BC20B61</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre>          )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>        ),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre>        // modularInverse(floor((2 ** 275) * exp(-16)), 2 ** 256)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>        0xD49C04AF80AF1EA5F98F85886B450A4B264FC14874F9F64143836145A37DD8A1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>  /// @notice Calculates &#39;(2 ** 256) * exp(- x / (2 ** 60))&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>  /// &quot;Pade Approximant&quot; is employed for this purpose:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>  /// &#39;exp(- x / (2 ** 60)) ~= ((u(x) - v(x)) / (u(x) + v(x))) ** (2 ** 14)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre>  /// where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>  ///                x ** 2      x ** 4       x ** 6          x ** 8</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre>  /// &#39;u(x) = 1 + 7 --------- + --------- + ----------- + --------------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre>  ///                15&lt;&lt;150     39&lt;&lt;300     6435&lt;&lt;449     2027025&lt;&lt;600</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre>  /// and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre>  ///            x       x ** 3       x ** 5        x ** 7</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre>  /// &#39;v(x) = ------- + --------- + ---------- + -------------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>  ///          1&lt;&lt;75     15&lt;&lt;224     585&lt;&lt;374     225225&lt;&lt;523</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre>  /// This formula can be reproduced via the following Mathematica command:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>  /// &#39;PadeApproximant[Exp[- x / (2 ^ 74)], {x, 0, 8}]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre>  /// Input should be greater than &#39;0&#39; and less than &#39;2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre>  function expInverse(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>    X59 value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre>    uint256 exponentialInverse</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre>    unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre>      // Casting is safe because &#39;value&#39; is between &#39;0&#39; and &#39;2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">257</td>
                                    <td class="row-source"><pre>      uint256 x = uint256(X59.unwrap(value));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">258</td>
                                    <td class="row-source"><pre>      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">259</td>
                                    <td class="row-source"><pre>      // x ** 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">260</td>
                                    <td class="row-source"><pre>      uint256 x2 = x * x;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">261</td>
                                    <td class="row-source"><pre>      </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">262</td>
                                    <td class="row-source"><pre>      // x ** 4</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">263</td>
                                    <td class="row-source"><pre>      uint256 x4 = x2 * x2;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">264</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">265</td>
                                    <td class="row-source"><pre>      // (x ** 6) / (2 ** 128)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">266</td>
                                    <td class="row-source"><pre>      uint256 x6;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">267</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">268</td>
                                    <td class="row-source"><pre>        // Let &#39;r := x2 * x4 - (2 ** 128) * q&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">269</td>
                                    <td class="row-source"><pre>        // Let &#39;s := x2 * x4 - (2 ** 256 - 1) * p&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">270</td>
                                    <td class="row-source"><pre>        // Then &#39;s - r == (2 ** 128) * q&#39; [modulo &#39;2 ** 256 - 1&#39;]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">271</td>
                                    <td class="row-source"><pre>        // And &#39;q == (2 ** 128) * (s - r)&#39; [modulo &#39;2 ** 256 - 1&#39;]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">272</td>
                                    <td class="row-source"><pre>        // Calculation modulo &#39;2 ** 256 - 1&#39; is safe because:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">273</td>
                                    <td class="row-source"><pre>        // &#39;((2 ** 64 - 1) ** 6) / (2 ** 128) &lt; 2 ** 256 - 1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">274</td>
                                    <td class="row-source"><pre>        x6 := mulmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">275</td>
                                    <td class="row-source"><pre>          // The subtraction is safe because the remainder is greater than or</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">276</td>
                                    <td class="row-source"><pre>          // equal to the second one.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">277</td>
                                    <td class="row-source"><pre>          sub(mulmod(x2, x4, not(0)), mulmod(x2, x4, shl(128, 1))),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">278</td>
                                    <td class="row-source"><pre>          shl(128, 1),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">279</td>
                                    <td class="row-source"><pre>          not(0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">280</td>
                                    <td class="row-source"><pre>        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">281</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">282</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">283</td>
                                    <td class="row-source"><pre>      // (x ** 8) / (2 ** 256)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">284</td>
                                    <td class="row-source"><pre>      uint256 x8;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">285</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">286</td>
                                    <td class="row-source"><pre>        // Let &#39;r := x4 * x4 - (2 ** 256) * q&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">287</td>
                                    <td class="row-source"><pre>        // Let &#39;s := x4 * x4 - (2 ** 256 - 1) * p&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">288</td>
                                    <td class="row-source"><pre>        // Then &#39;s - r == q&#39; [modulo &#39;2 ** 256 - 1&#39;]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">289</td>
                                    <td class="row-source"><pre>        // Calculation modulo &#39;2 ** 256 - 1&#39; is safe because:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">290</td>
                                    <td class="row-source"><pre>        // &#39;((2 ** 64 - 1) ** 8) / (2 ** 256) &lt; 2 ** 256 - 1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">291</td>
                                    <td class="row-source"><pre>        x8 := sub(mulmod(x4, x4, not(0)), mul(x4, x4))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">292</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">293</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">294</td>
                                    <td class="row-source"><pre>      // (2 ** 254) * u(x)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">295</td>
                                    <td class="row-source"><pre>      // The additions are safe because the first term is &#39;1 &lt;&lt; 254&#39; and none</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">296</td>
                                    <td class="row-source"><pre>      // of the other terms exceed &#39;1 &lt;&lt; 250&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">297</td>
                                    <td class="row-source"><pre>      uint256 a = </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">298</td>
                                    <td class="row-source"><pre>        ((x2 * (7 &lt;&lt; 104)) / 15) + </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">299</td>
                                    <td class="row-source"><pre>        (x4 / (39 &lt;&lt; 46)) + </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">300</td>
                                    <td class="row-source"><pre>        (x6 / (6435 &lt;&lt; 67)) + </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">301</td>
                                    <td class="row-source"><pre>        (x8 / (2027025 &lt;&lt; 90)) + </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">302</td>
                                    <td class="row-source"><pre>        (1 &lt;&lt; 254);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">303</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">304</td>
                                    <td class="row-source"><pre>      // (2 ** 254) * v(x)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">305</td>
                                    <td class="row-source"><pre>      // The additions are safe because the first term is &#39;1 &lt;&lt; 255&#39; and none</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">306</td>
                                    <td class="row-source"><pre>      // of the other terms exceed &#39;1 &lt;&lt; 250&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">307</td>
                                    <td class="row-source"><pre>      uint256 b = </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">308</td>
                                    <td class="row-source"><pre>        ((x2 &lt;&lt; 106) / 15) + </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">309</td>
                                    <td class="row-source"><pre>        (x4 / (585 &lt;&lt; 44)) + </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">310</td>
                                    <td class="row-source"><pre>        (x6 / (225225 &lt;&lt; 65)) + </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">311</td>
                                    <td class="row-source"><pre>        (1 &lt;&lt; 255);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">312</td>
                                    <td class="row-source"><pre>        </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">313</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">314</td>
                                    <td class="row-source"><pre>        // Here we multiply the result by (x / (2 ** 76)).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">315</td>
                                    <td class="row-source"><pre>        // Let &#39;r := x * b - (2 ** 76) * q&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">316</td>
                                    <td class="row-source"><pre>        // Let &#39;s := x * b - (2 ** 256 - 1) * p&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">317</td>
                                    <td class="row-source"><pre>        // Then &#39;s - r == (2 ** 76) * q&#39; [modulo &#39;2 ** 256 - 1&#39;]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">318</td>
                                    <td class="row-source"><pre>        // And &#39;q == (2 ** 180) * (s - r)&#39; [modulo &#39;2 ** 256 - 1&#39;]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">319</td>
                                    <td class="row-source"><pre>        // Calculation modulo &#39;2 ** 256 - 1&#39; is safe because:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">320</td>
                                    <td class="row-source"><pre>        // &#39;b &lt; 2 ** 256 - 1&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">321</td>
                                    <td class="row-source"><pre>        b := mulmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">322</td>
                                    <td class="row-source"><pre>          // The subtraction is safe because the remainder is greater than or</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">323</td>
                                    <td class="row-source"><pre>          // equal to the second one.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">324</td>
                                    <td class="row-source"><pre>          sub(mulmod(x, b, not(0)), mulmod(x, b, shl(76, 1))),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">325</td>
                                    <td class="row-source"><pre>          shl(180, 1),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">326</td>
                                    <td class="row-source"><pre>          not(0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">327</td>
                                    <td class="row-source"><pre>        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">328</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">329</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">330</td>
                                    <td class="row-source"><pre>      // (2 ** 256) * (u(x) - v(x)) / (u(x) + v(x))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">331</td>
                                    <td class="row-source"><pre>      // Since &#39;(2 ** 254) * (a - b) - (a + b) * (a + b - 1)&#39; is a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">332</td>
                                    <td class="row-source"><pre>      // decreasing function with respect to &#39;x&#39;, it suffices to verify</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">333</td>
                                    <td class="row-source"><pre>      // that &#39;(2 ** 254) * (a - b) - (a + b) * (a + b - 1) &lt; 0&#39; only for</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">334</td>
                                    <td class="row-source"><pre>      // &#39;x == 1&#39; which is true. Hence, the requirement of &#39;cheapMulDiv&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">335</td>
                                    <td class="row-source"><pre>      // satisfied.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">336</td>
                                    <td class="row-source"><pre>      a = FullMathLibrary.cheapMulDiv(a - b, 1 &lt;&lt; 254, a + b) &lt;&lt; 2;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">337</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">338</td>
                                    <td class="row-source"><pre>      // Next, we compute &#39;f(f(f(f(f(f(f(f(f(f(f(f(f(f(a))))))))))))))&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">339</td>
                                    <td class="row-source"><pre>      // where &#39;f(y) = (y ** 2) / (2 ** 256 - 1) ~ (y ** 2) / (2 ** 256)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">340</td>
                                    <td class="row-source"><pre>      // This is because of the &#39;2 ** 14&#39; term which was discussed before.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">341</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">342</td>
                                    <td class="row-source"><pre>        a := sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">343</td>
                                    <td class="row-source"><pre>          mulmod(a, a, not(0)), // s := a * a - q * not(0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">344</td>
                                    <td class="row-source"><pre>          mul(a, a) // r := a * a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">345</td>
                                    <td class="row-source"><pre>        ) // s - r == - q * not(0) == q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">346</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">347</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">348</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">349</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">350</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">351</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">352</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">353</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">354</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">355</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">356</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">357</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">358</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">359</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">360</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">361</td>
                                    <td class="row-source"><pre>      return a;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">362</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">363</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">364</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">365</td>
                                    <td class="row-source"><pre>  /// @notice Transforms natural logarithm of price to square root of price.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">366</td>
                                    <td class="row-source"><pre>  /// @param value The input whose exponential to be calculated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">367</td>
                                    <td class="row-source"><pre>  /// @return exponentialInverse is &#39;(2 ** 216) * exp(- x / (2 ** 60))&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">368</td>
                                    <td class="row-source"><pre>  /// @return exponentialOverExp16 is &#39;(2 ** 216) * exp(- 16 + x / (2 ** 60))&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">369</td>
                                    <td class="row-source"><pre>  /// Input should be greater than 0 and less than (2 ** 64).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">370</td>
                                    <td class="row-source"><pre>  function exp(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">371</td>
                                    <td class="row-source"><pre>    X59 value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">372</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">373</td>
                                    <td class="row-source"><pre>    X216 exponentialInverse,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">374</td>
                                    <td class="row-source"><pre>    X216 exponentialOverExp16</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">375</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">376</td>
                                    <td class="row-source"><pre>    // The requirements of &#39;expInverse&#39; are the same as the requirements here.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">377</td>
                                    <td class="row-source"><pre>    uint256 a = expInverse(value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">378</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">379</td>
                                    <td class="row-source"><pre>    // Since &#39;0 &lt; value &lt; 2 ** 64&#39;, we have</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">380</td>
                                    <td class="row-source"><pre>    // &#39;(2 ** 256) * exp(-16) &lt; a &lt; (2 ** 256)&#39;, hence</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">381</td>
                                    <td class="row-source"><pre>    // &#39;(2 ** 472) * exp(-16) &lt; a * (a - 1)&#39; and the requirements of</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">382</td>
                                    <td class="row-source"><pre>    // &#39;cheapMulDiv&#39; are satisfied.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">383</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">384</td>
                                    <td class="row-source"><pre>    // Casting to &#39;int256&#39; is safe because the output of &#39;cheapMulDiv&#39; is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">385</td>
                                    <td class="row-source"><pre>    // non-negative and it is less than &#39;oneX216&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">386</td>
                                    <td class="row-source"><pre>    //</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">387</td>
                                    <td class="row-source"><pre>    // So, we can calculate &#39;(2 ** 472) * exp(-16) / a&#39; as follows:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">388</td>
                                    <td class="row-source"><pre>    exponentialOverExp16 = X216.wrap(int256(FullMathLibrary.cheapMulDiv(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">389</td>
                                    <td class="row-source"><pre>      // (2 ** 279) * exp(-16)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">390</td>
                                    <td class="row-source"><pre>      0xF1AADDD7742E56D32FB9F997447D9E6314DB84884FABAB26BF059AF9BC20B609,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">391</td>
                                    <td class="row-source"><pre>      1 &lt;&lt; 193,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">392</td>
                                    <td class="row-source"><pre>      a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">393</td>
                                    <td class="row-source"><pre>    )));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">394</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">395</td>
                                    <td class="row-source"><pre>    // Casting to &#39;int256&#39; is safe because &#39;a &gt;&gt; 40&#39; is non-negative and it is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">396</td>
                                    <td class="row-source"><pre>    // less than &#39;oneX216&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">397</td>
                                    <td class="row-source"><pre>    exponentialInverse = X216.wrap(int256(a &gt;&gt; 40));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">398</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">399</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">400</td>
                                    <td class="row-source"><pre>  /// @notice Transforms natural logarithm of price to square root of price.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">401</td>
                                    <td class="row-source"><pre>  /// &quot;Pade Approximant&quot; is employed for this purpose:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">402</td>
                                    <td class="row-source"><pre>  /// &#39;exp(- x / (2 ** 60)) ~= ((u(x) - v(x)) / (u(x) + v(x))) ** (2 ** 48)&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">403</td>
                                    <td class="row-source"><pre>  /// where</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">404</td>
                                    <td class="row-source"><pre>  ///              x ** 2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">405</td>
                                    <td class="row-source"><pre>  /// &#39;u(x) = 1 + --------&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">406</td>
                                    <td class="row-source"><pre>  ///              3&lt;&lt;218</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">407</td>
                                    <td class="row-source"><pre>  /// and</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">408</td>
                                    <td class="row-source"><pre>  ///             x</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">409</td>
                                    <td class="row-source"><pre>  /// &#39;v(x) = --------&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">410</td>
                                    <td class="row-source"><pre>  ///          1&lt;&lt;109</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">411</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">412</td>
                                    <td class="row-source"><pre>  /// This formula can be reproduced via the following Mathematica command:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">413</td>
                                    <td class="row-source"><pre>  /// &#39;PadeApproximant[Exp[- x / (2 ^ 108)], {x, 0, 2}]&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">414</td>
                                    <td class="row-source"><pre>  ///</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">415</td>
                                    <td class="row-source"><pre>  /// @param value The input whose exponential to be calculated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">416</td>
                                    <td class="row-source"><pre>  /// @return exponentialInverse is &#39;(2 ** 256) * exp(- x / (2 ** 60))&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">417</td>
                                    <td class="row-source"><pre>  /// Input should be positive and less than &#39;2 * maxLogOffset&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">418</td>
                                    <td class="row-source"><pre>  function expOffset(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">419</td>
                                    <td class="row-source"><pre>    X59 value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">420</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">421</td>
                                    <td class="row-source"><pre>    uint256 exponentialInverse</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">422</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">423</td>
                                    <td class="row-source"><pre>    unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">424</td>
                                    <td class="row-source"><pre>      // Casting is safe because &#39;value&#39; is between &#39;0&#39; and &#39;2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">425</td>
                                    <td class="row-source"><pre>      uint256 x = uint256(X59.unwrap(value));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">426</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">427</td>
                                    <td class="row-source"><pre>      // (2 ** 255) * u(x)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">428</td>
                                    <td class="row-source"><pre>      // The multiplication and addition are safe because &#39;x &lt; 2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">429</td>
                                    <td class="row-source"><pre>      uint256 a = (((x * x) &lt;&lt; 37) / 3) + (1 &lt;&lt; 255);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">430</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">431</td>
                                    <td class="row-source"><pre>      // (2 ** 255) * v(x)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">432</td>
                                    <td class="row-source"><pre>      // The shift is safe because &#39;x &lt; 2 ** 64&#39;.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">433</td>
                                    <td class="row-source"><pre>      x &lt;&lt;= 146;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">434</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">435</td>
                                    <td class="row-source"><pre>      // The requirements of &#39;cheapMulDiv&#39; are satisfied because</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">436</td>
                                    <td class="row-source"><pre>      // (a - x) * (2 ** 254) - (a + x) (a + x - 1) is a decreasing function</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">437</td>
                                    <td class="row-source"><pre>      // with respect to &#39;x&#39;. Hence, we just need to verify that it is negative</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">438</td>
                                    <td class="row-source"><pre>      // for &#39;x == 1&#39; which is true.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">439</td>
                                    <td class="row-source"><pre>      a = FullMathLibrary.cheapMulDiv(a - x, 1 &lt;&lt; 254, a + x) &lt;&lt; 2;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">440</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">441</td>
                                    <td class="row-source"><pre>      // Next, we apply the function </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">442</td>
                                    <td class="row-source"><pre>      // &#39;f(y) = (y ** 2) / (2 ** 256 - 1) ~ (y ** 2) / (2 ** 256)&#39;, 48 times.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">443</td>
                                    <td class="row-source"><pre>      // This is because of the &#39;2 ** 48&#39; term which was discussed before.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">444</td>
                                    <td class="row-source"><pre>      assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">445</td>
                                    <td class="row-source"><pre>        a := sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">446</td>
                                    <td class="row-source"><pre>          mulmod(a, a, not(0)), // s := a * a - q * not(0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">447</td>
                                    <td class="row-source"><pre>          mul(a, a) // r := a * a</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">448</td>
                                    <td class="row-source"><pre>        ) // s - r == - q * not(0) == q</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">449</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">450</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">451</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">452</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">453</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">454</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">455</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">456</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">457</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">458</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">459</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">460</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">461</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">462</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">463</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">464</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">465</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">466</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">467</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">468</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">469</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">470</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">471</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">472</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">473</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">474</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">475</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">476</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">477</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">478</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">479</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">480</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">481</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">482</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">483</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">484</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">485</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">486</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">487</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">488</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">489</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">490</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">491</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">492</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">493</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">494</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">495</td>
                                    <td class="row-source"><pre>        a := sub(mulmod(a, a, not(0)), mul(a, a))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">496</td>
                                    <td class="row-source"><pre>      }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">497</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">498</td>
                                    <td class="row-source"><pre>      return a;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">499</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">500</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">501</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">502</td>
                                    <td class="row-source"><pre>  /// @notice Transforms natural logarithm of price in two&#39;s complement to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">503</td>
                                    <td class="row-source"><pre>  /// square root of price.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">504</td>
                                    <td class="row-source"><pre>  /// Input should be between &#39;minLogOffset&#39; and &#39;maxLogOffset&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">505</td>
                                    <td class="row-source"><pre>  /// @param logOffset The input whose exponential to be calculated.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">506</td>
                                    <td class="row-source"><pre>  /// @return sqrtOffset is &#39;(2 ** 127) * exp(logOffset / (2 ** 60))&#39;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">507</td>
                                    <td class="row-source"><pre>  function logToSqrtOffset(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">508</td>
                                    <td class="row-source"><pre>    X59 logOffset</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">509</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">510</td>
                                    <td class="row-source"><pre>    X127 sqrtOffset</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">511</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">512</td>
                                    <td class="row-source"><pre>    // &#39;(2 ** 256) * exp(- (maxLogOffset - logOffset) / (2 ** 60))&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">513</td>
                                    <td class="row-source"><pre>    // The requirements of &#39;expOffset&#39; are satisfied here because:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">514</td>
                                    <td class="row-source"><pre>    // &#39;minLogOffset &lt; logOffset &lt; maxLogOffset&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">515</td>
                                    <td class="row-source"><pre>    // &#39;0 &lt; maxLogOffset - logOffset &lt; </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">516</td>
                                    <td class="row-source"><pre>    //      maxLogOffset - minLogOffset == 2 * maxLogOffset&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">517</td>
                                    <td class="row-source"><pre>    uint256 exponential = (maxLogOffset - logOffset).expOffset();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">518</td>
                                    <td class="row-source"><pre>    // (2 ** (256 + 191)) * exp(- (maxLogOffset - logOffset) / (2 ** 60)) / </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">519</td>
                                    <td class="row-source"><pre>    // ((2 ** 320) * exp(-45))</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">520</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">521</td>
                                    <td class="row-source"><pre>      // Let &#39;s := exponential * (2 ** 191) - (2 ** 256) * p&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">522</td>
                                    <td class="row-source"><pre>      // Let &#39;r := exponential * (2 ** 191) - floor((2 ** 320) * exp(-45)) * q&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">523</td>
                                    <td class="row-source"><pre>      // Then &#39;s - r == floor((2 ** 320) * exp(-45)) * q&#39; [modulo &#39;2 ** 256&#39;]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">524</td>
                                    <td class="row-source"><pre>      sqrtOffset := mul(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">525</td>
                                    <td class="row-source"><pre>        // s - r</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">526</td>
                                    <td class="row-source"><pre>        sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">527</td>
                                    <td class="row-source"><pre>          // s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">528</td>
                                    <td class="row-source"><pre>          mul(exponential, shl(191, 1)), // Because &#39;256 + 191 - 320 == 127&#39;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">529</td>
                                    <td class="row-source"><pre>          // r</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">530</td>
                                    <td class="row-source"><pre>          mulmod(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">531</td>
                                    <td class="row-source"><pre>            exponential,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">532</td>
                                    <td class="row-source"><pre>            shl(191, 1),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">533</td>
                                    <td class="row-source"><pre>            // floor((2 ** 320) * exp(-45))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">534</td>
                                    <td class="row-source"><pre>            0x872DB9E8FFA9E7D41F2AAF39897B91E4002E70FCEED391471FAD73D51503772D</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">535</td>
                                    <td class="row-source"><pre>          )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">536</td>
                                    <td class="row-source"><pre>        ),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">537</td>
                                    <td class="row-source"><pre>        // modularInverse(floor((2 ** 320) * exp(-45)), 2 ** 256)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">538</td>
                                    <td class="row-source"><pre>        0xCF8E41E6C4D4AA5E9CC597C10CD32EACD30C44F750A8FFDB1A8863DD8F72F0A5</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">539</td>
                                    <td class="row-source"><pre>      )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">540</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">541</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">542</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="contracts_utilities_X74_sol" data-file-path="contracts\utilities\X74.sol" data-lines-active="1" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">contracts\utilities\X74.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 1</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {X216} from &quot;./X216.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>// Type &#39;X74&#39; is used as an intermediate type when searching for precise log</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>// price movement corresponding to the specified outgoing/incoming token </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>// amounts.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>type X74 is int256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>X74 constant zeroX74 = X74.wrap(0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>using {equals as ==, notEqual as !=} for X74 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>using {add as +, sub as -} for X74 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>using X74Library for X74 global;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>function equals(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>  X74 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>  X74 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>    result := eq(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>function notEqual(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>  X74 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>  X74 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>  bool result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>  return !(value0 == value1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>// Overflow/underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>function add(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>  X74 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>  X74 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>  X74 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>    result := add(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>// Overflow/underflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>function sub(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>  X74 value0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>  X74 value1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>) pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>  X74 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>  assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>    result := sub(value0, value1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>library X74Library {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>  // Converts type &#39;X74&#39; to &#39;X216&#39;.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>  // Overflow should be avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>  function toX216(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>    X74 value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>  ) internal pure returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>    X216 result</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>  ) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>      // Multiplication is safe because overflow is avoided externally.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>      result := mul(shl(142, 1), value)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>  }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="echidna_CalldataTestIndustryGrade_sol" data-file-path="echidna\CalldataTestIndustryGrade.sol" data-lines-active="145" data-lines-covered="138">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(114, 90%, 45%, 0.15); color: hsl(114, 90%, 45%)">
                                95.0%
                            </span>
                            <span class="file-name">echidna\CalldataTestIndustryGrade.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>138 / 145</strong> (95.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// Copyright 2025, NoFeeSwap LLC - All rights reserved.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: UNLICENSED</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.28;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import &quot;contracts/helpers/CalldataWrapper.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>    _msgSender_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>    _poolId_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>    _logPriceMin_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>    _logPriceMax_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>    _logPriceMinOffsetted_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>    _logPriceMaxOffsetted_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>    _shares_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>    _curve_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>    _hookData_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>    _hookDataByteCount_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>    _hookInputByteCount_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>    _freeMemoryPointer_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>    _endOfStaticParams_,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>    _hookInputByteCount_ as HOOK_INPUT_BYTE_COUNT_SLOT</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>} from &quot;contracts/utilities/Memory.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>/// @title Echidna Property-Based Test for readModifyPositionInput</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>/// @notice Comprehensive fuzzing test suite that replicates Python/Brownie tests in randomized manner</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>/// @dev Tests arbitrary non-strictly encoded input with random hookdata starting positions</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>/// @dev This addresses Question 2: Property-based testing of readModifyPositionInput with</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>///      random hookdata offsets to test calldatacopy mechanism with non-strict ABI encoding</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>contract CalldataTestIndustryGrade {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>    // ========================================================================</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>    // CONSTANTS &amp; TYPE DEFINITIONS</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>    // ========================================================================</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>    /// @notice Maximum allowed hookData byte count (uint16.max)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>    uint256 constant MAX_HOOK_DATA_BYTE_COUNT = 0xFFFF;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>    /// @notice Guard patterns for memory corruption detection</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>    bytes32 constant GUARD_PATTERN_1 = 0xDEADBEEFDEADBEEFDEADBEEFDEADBEEFDEADBEEFDEADBEEFDEADBEEFDEADBEEF;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>    bytes32 constant GUARD_PATTERN_2 = 0xBADC0FFEBADC0FFEBADC0FFEBADC0FFEBADC0FFEBADC0FFEBADC0FFEBADC0FFE;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>    bytes32 constant GUARD_PATTERN_3 = 0xCAFEBABECAFEBABECAFEBABECAFEBABECAFEBABECAFEBABECAFEBABECAFEBABE;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>    /// @notice Fixed-point constants for log price calculations (X59 format)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>    uint256 constant ONE_X59 = 1 &lt;&lt; 59;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>    uint256 constant SIXTEEN_X59 = 16 * ONE_X59;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>    uint256 constant THIRTY_TWO_X59 = 32 * ONE_X59;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>    uint256 constant ONE_X63 = 1 &lt;&lt; 63;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>    /// @notice Valid ranges for shares parameter</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>    int256 constant MAX_INT128 = type(int128).max;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>    int256 constant MIN_INT128 = -MAX_INT128; // Note: not type(int128).min, as per contract logic</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>    /// @notice CalldataWrapper contract instance</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>    CalldataWrapper public wrapper;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>    /// @notice Function selector for _readModifyPositionInput()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>    bytes4 constant READ_MODIFY_POSITION_SELECTOR = CalldataWrapper._readModifyPositionInput.selector;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>    // ========================================================================</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>    // STATE VARIABLES FOR TRACKING</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>    // ========================================================================</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>    uint256 public testsExecuted;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>    uint256 public totalGasConsumed;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>    uint256 public maxGasObserved;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>    // ========================================================================</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>    // CONSTRUCTOR</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>    // ========================================================================</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>    constructor() {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>        wrapper = new CalldataWrapper();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>        testsExecuted = 0;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>        totalGasConsumed = 0;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>        maxGasObserved = 0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>    // ========================================================================</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>    // HELPER FUNCTIONS</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>    // ========================================================================</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>    /// @notice Extracts qOffset (8-bit signed) from poolId at bits [180:187]</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>    /// @param poolId The pool identifier (256 bits)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>    /// @return qOffset The extracted offset as int8 (-128 to +127)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>    function extractQOffset(uint256 poolId) internal pure returns (int8 qOffset) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>        uint8 unsignedOffset = uint8((poolId &gt;&gt; 180) &amp; 0xFF);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>        if (unsignedOffset &gt;= 128) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>            qOffset = int8(int256(uint256(unsignedOffset)) - 256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>        } else {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>            qOffset = int8(int256(uint256(unsignedOffset)));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>    /// @notice Converts int256 to two&#39;s complement uint256 representation</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>    function toTwosComplement(int256 value) internal pure returns (uint256 result) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>        if (value &gt;= 0) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>            result = uint256(value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>        } else {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>            unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>                result = uint256(type(uint256).max) + uint256(value) + 1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>    /// @notice Calculates adjusted logPrice from normalized q and poolId offset</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>    /// @dev Formula: logPrice = q + (qOffset * 2^59) - 2^63</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>    function calculateLogPrice(uint64 q, int8 qOffset) internal pure returns (int256) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>        int256 shift;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>        if (qOffset &gt;= 0) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>            shift = int256(uint256(int256(qOffset))) * int256(ONE_X59) - int256(ONE_X63);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>        } else {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>            shift = -int256(uint256(int256(-qOffset))) * int256(ONE_X59) - int256(ONE_X63);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>        return int256(uint256(q)) + shift;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>    /// @notice Constructs calldata with RANDOM hookdata offset (non-strict encoding)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>    /// @dev This is the KEY REQUIREMENT: Testing arbitrary non-strictly encoded input</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>    ///      by starting hookdata content from a random place in calldata</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>    /// @param poolId Pool identifier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>    /// @param logPriceMin Minimum log price (adjusted)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>    /// @param logPriceMax Maximum log price (adjusted)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>    /// @param shares Number of shares (int256, bounded to int128 range)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>    /// @param hookDataContent Content pattern to fill hookData</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>    /// @param hookDataByteCount Size of hookData in bytes</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>    /// @param randomGap Random gap between static params and hookdata (0-1000 bytes)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>    /// @param randomContentStart Random starting offset within content pattern (0-31 bytes)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>    /// @return calldataBytes The constructed calldata with random offsets</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>    function constructCalldata(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>        uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>        int256 logPriceMin,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>        int256 logPriceMax,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>        int256 shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>        uint256 hookDataContent,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>        uint16 hookDataByteCount,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>        uint16 randomGap,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>        uint8 randomContentStart</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>    ) internal pure returns (bytes memory calldataBytes) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>        // Limit randomGap to reasonable size (0-1000 bytes) for test performance</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>        randomGap = uint16(uint256(randomGap) % 1001);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>        // Limit randomContentStart to 0-31 (byte offset within a 32-byte word)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>        randomContentStart = uint8(uint256(randomContentStart) % 32);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>        // Calculate hookdata starting position with RANDOM offset</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>        // This tests the calldatacopy mechanism with non-standard ABI encoding</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>        uint256 startOfHookData = 5 * 0x20 + randomGap;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>        // Build hookDataBytes array with randomized content start</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>        bytes memory hookDataBytes;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>        if (hookDataByteCount &gt; 0) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>            uint256 numSlots = (hookDataByteCount + 31) / 32;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>            hookDataBytes = new bytes(32 + hookDataByteCount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>            // Write length in first slot</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>            assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>                mstore(add(hookDataBytes, 32), hookDataByteCount)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>            // Fill content with ROTATION based on randomContentStart</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>            // This ensures we test non-strictly encoded hookdata content</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>            for (uint256 i = 0; i &lt; numSlots; i++) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>                uint256 offset = 64 + i * 32;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>                if (offset &lt;= hookDataBytes.length) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>                    // Rotate content based on random offset</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>                    uint256 rotatedContent;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>                    if (randomContentStart == 0) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>                        rotatedContent = hookDataContent;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>                    } else {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>                        uint256 leftShift = randomContentStart * 8;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>                        uint256 rightShift = (32 - randomContentStart) * 8;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>                        rotatedContent = (hookDataContent &lt;&lt; leftShift) | (hookDataContent &gt;&gt; rightShift);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>                    }</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>                    assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>                        mstore(add(hookDataBytes, offset), rotatedContent)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>                    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>                }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>        } else {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>            hookDataBytes = new bytes(32);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>            assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>                mstore(add(hookDataBytes, 32), 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>        // Construct full calldata with RANDOM gap (non-strict encoding)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>        calldataBytes = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>            READ_MODIFY_POSITION_SELECTOR,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>            bytes32(poolId),</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>            bytes32(toTwosComplement(logPriceMin)),</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>            bytes32(toTwosComplement(logPriceMax)),</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>            bytes32(toTwosComplement(shares)),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>            bytes32(startOfHookData),    // Pointer to hookdata (with random gap)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>            new bytes(randomGap),         // RANDOM GAP - key for non-strict encoding test</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>            hookDataBytes</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>    // ========================================================================</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>    // PROPERTY TESTS</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>    // ========================================================================</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>    /// @notice PROPERTY 1: Correctness with random hookdata offset (non-strict encoding)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>    /// @dev Replicates test_readModifyPositionInput from Python tests but fully randomized</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>    /// @dev KEY: Tests arbitrary non-strictly encoded input by using random gaps and content starts</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>    /// @param poolId Pool identifier (256 bits, qOffset extracted from bits [180:187])</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>    /// @param qMin Normalized minimum log price (must be 0 &lt; qMin &lt; 2^64)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre>    /// @param qMax Normalized maximum log price (must be 0 &lt; qMax &lt; 2^64)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>    /// @param shares Number of shares (bounded to ±int128.max range, != 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>    /// @param hookDataContent Content pattern for filling hookData (256 bits)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>    /// @param hookDataByteCount Size of hookData (0 to 1000 for performance)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>    /// @param randomGap RANDOM gap size for non-strict encoding test (0-1000)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>    /// @param randomContentStart RANDOM starting offset in hookdata content (0-31)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>    function test_property_readModifyPositionInput_correctness(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>        uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>        uint64 qMin,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>        uint64 qMax,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>        int256 shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre>        uint256 hookDataContent,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>        uint16 hookDataByteCount,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>        uint16 randomGap,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre>        uint8 randomContentStart</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre>        // === INPUT NORMALIZATION ===</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>        // Limit hookDataByteCount for test performance (full range tested separately)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>        if (hookDataByteCount &gt; 1000) hookDataByteCount = uint16(uint256(hookDataByteCount) % 1001);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>        // Ensure qMin in valid range: 0 &lt; qMin &lt; THIRTY_TWO_X59 (32 * 2^59)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre>        if (qMin == 0) qMin = 1;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>        if (qMin &gt;= THIRTY_TWO_X59) qMin = uint64(1 + (uint256(qMin) % (THIRTY_TWO_X59 - 1)));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>        // Ensure qMax in valid range: 0 &lt; qMax &lt; THIRTY_TWO_X59</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>        if (qMax == 0) qMax = 1;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre>        if (qMax &gt;= THIRTY_TWO_X59) qMax = uint64(1 + (uint256(qMax) % (THIRTY_TWO_X59 - 1)));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>        // Ensure shares in valid range: MIN_INT128 &lt;= shares &lt;= MAX_INT128, shares != 0</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>        if (shares &gt; MAX_INT128) shares = int256(1 + (uint256(shares) % uint256(MAX_INT128)));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre>        if (shares &lt; MIN_INT128) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>            unchecked {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre>                shares = -int256(1 + (uint256(-shares) % uint256(MAX_INT128)));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre>        if (shares == 0) shares = 1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>        // Extract qOffset from poolId</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre>        int8 qOffset = extractQOffset(poolId);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>        // Calculate adjusted log prices</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>        int256 logPriceMin = calculateLogPrice(qMin, qOffset);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre>        int256 logPriceMax = calculateLogPrice(qMax, qOffset);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>        // === MEMORY GUARDS ===</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre>        bytes32 guard1Before = GUARD_PATTERN_1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre>        bytes32 guard2Before = GUARD_PATTERN_2;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre>        bytes32 guard3Before = GUARD_PATTERN_3;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre>        // === CONSTRUCT CALLDATA WITH RANDOM OFFSETS ===</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">257</td>
                                    <td class="row-source"><pre>        bytes memory calldataBytes = constructCalldata(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">258</td>
                                    <td class="row-source"><pre>            poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">259</td>
                                    <td class="row-source"><pre>            logPriceMin,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">260</td>
                                    <td class="row-source"><pre>            logPriceMax,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">261</td>
                                    <td class="row-source"><pre>            shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">262</td>
                                    <td class="row-source"><pre>            hookDataContent,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">263</td>
                                    <td class="row-source"><pre>            hookDataByteCount,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">264</td>
                                    <td class="row-source"><pre>            randomGap,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">265</td>
                                    <td class="row-source"><pre>            randomContentStart</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">266</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">267</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">268</td>
                                    <td class="row-source"><pre>        // === EXECUTE FUNCTION ===</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">269</td>
                                    <td class="row-source"><pre>        uint256 gasBefore = gasleft();</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">270</td>
                                    <td class="row-source"><pre>        (bool success, ) = address(wrapper).call(calldataBytes);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">271</td>
                                    <td class="row-source"><pre>        uint256 gasUsed = gasBefore - gasleft();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">272</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">273</td>
                                    <td class="row-source"><pre>        // Track metrics</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">274</td>
                                    <td class="row-source"><pre>        totalGasConsumed += gasUsed;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">275</td>
                                    <td class="row-source"><pre>        if (gasUsed &gt; maxGasObserved) maxGasObserved = gasUsed;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">276</td>
                                    <td class="row-source"><pre>        testsExecuted++;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">277</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">278</td>
                                    <td class="row-source"><pre>        // === ASSERTIONS ===</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">279</td>
                                    <td class="row-source"><pre>        // Property: Valid inputs with arbitrary non-strict encoding must succeed</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">280</td>
                                    <td class="row-source"><pre>        assert(success);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">281</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">282</td>
                                    <td class="row-source"><pre>        // Property: Memory guards must remain intact (no corruption)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">283</td>
                                    <td class="row-source"><pre>        assert(guard1Before == GUARD_PATTERN_1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">284</td>
                                    <td class="row-source"><pre>        assert(guard2Before == GUARD_PATTERN_2);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">285</td>
                                    <td class="row-source"><pre>        assert(guard3Before == GUARD_PATTERN_3);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">286</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">287</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">288</td>
                                    <td class="row-source"><pre>    /// @notice PROPERTY 2: Invalid log prices must revert</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">289</td>
                                    <td class="row-source"><pre>    /// @dev Replicates test_readModifyPositionInputInvalidLogPrices</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">290</td>
                                    <td class="row-source"><pre>    /// @param poolId Pool identifier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">291</td>
                                    <td class="row-source"><pre>    /// @param useZeroQMin If true, use qMin=0; else use qMin &gt;= THIRTY_TWO_X59</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">292</td>
                                    <td class="row-source"><pre>    /// @param shares Number of shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">293</td>
                                    <td class="row-source"><pre>    /// @param hookDataByteCount Size of hookData</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">294</td>
                                    <td class="row-source"><pre>    function test_property_invalid_logprices_revert(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">295</td>
                                    <td class="row-source"><pre>        uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">296</td>
                                    <td class="row-source"><pre>        bool useZeroQMin,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">297</td>
                                    <td class="row-source"><pre>        int256 shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">298</td>
                                    <td class="row-source"><pre>        uint16 hookDataByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">299</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">300</td>
                                    <td class="row-source"><pre>        if (hookDataByteCount &gt; 100) hookDataByteCount = uint16(uint256(hookDataByteCount) % 101);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">301</td>
                                    <td class="row-source"><pre>        if (shares &gt; MAX_INT128) shares = int256(1 + (uint256(shares) % uint256(MAX_INT128)));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">302</td>
                                    <td class="row-source"><pre>        if (shares &lt; MIN_INT128) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">303</td>
                                    <td class="row-source"><pre>            unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">304</td>
                                    <td class="row-source"><pre>                shares = -int256(1 + (uint256(-shares) % uint256(MAX_INT128)));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">305</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">306</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">307</td>
                                    <td class="row-source"><pre>        if (shares == 0) shares = 1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">308</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">309</td>
                                    <td class="row-source"><pre>        // Use INVALID qMin (either 0 or &gt;= THIRTY_TWO_X59)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">310</td>
                                    <td class="row-source"><pre>        uint64 qMin = useZeroQMin ? 0 : uint64(THIRTY_TWO_X59);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">311</td>
                                    <td class="row-source"><pre>        uint64 qMax = 100; // Valid value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">312</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">313</td>
                                    <td class="row-source"><pre>        int8 qOffset = extractQOffset(poolId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">314</td>
                                    <td class="row-source"><pre>        int256 logPriceMin = calculateLogPrice(qMin, qOffset);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">315</td>
                                    <td class="row-source"><pre>        int256 logPriceMax = calculateLogPrice(qMax, qOffset);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">316</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">317</td>
                                    <td class="row-source"><pre>        bytes memory calldataBytes = constructCalldata(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">318</td>
                                    <td class="row-source"><pre>            poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">319</td>
                                    <td class="row-source"><pre>            logPriceMin,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">320</td>
                                    <td class="row-source"><pre>            logPriceMax,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">321</td>
                                    <td class="row-source"><pre>            shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">322</td>
                                    <td class="row-source"><pre>            0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">323</td>
                                    <td class="row-source"><pre>            hookDataByteCount,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">324</td>
                                    <td class="row-source"><pre>            0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">325</td>
                                    <td class="row-source"><pre>            0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">326</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">327</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">328</td>
                                    <td class="row-source"><pre>        (bool success, ) = address(wrapper).call(calldataBytes);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">329</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">330</td>
                                    <td class="row-source"><pre>        // Property: Invalid log prices MUST cause revert</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">331</td>
                                    <td class="row-source"><pre>        assert(!success);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">332</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">333</td>
                                    <td class="row-source"><pre>        testsExecuted++;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">334</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">335</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">336</td>
                                    <td class="row-source"><pre>    /// @notice PROPERTY 3: Invalid shares must revert</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">337</td>
                                    <td class="row-source"><pre>    /// @dev Replicates test_readModifyPositionInputInvalidShares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">338</td>
                                    <td class="row-source"><pre>    /// @param poolId Pool identifier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">339</td>
                                    <td class="row-source"><pre>    /// @param invalidCase 0=zero, 1=too large, 2=too small</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">340</td>
                                    <td class="row-source"><pre>    /// @param hookDataByteCount Size of hookData</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">341</td>
                                    <td class="row-source"><pre>    function test_property_invalid_shares_revert(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">342</td>
                                    <td class="row-source"><pre>        uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">343</td>
                                    <td class="row-source"><pre>        uint8 invalidCase,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">344</td>
                                    <td class="row-source"><pre>        uint16 hookDataByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">345</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">346</td>
                                    <td class="row-source"><pre>        if (hookDataByteCount &gt; 100) hookDataByteCount = uint16(uint256(hookDataByteCount) % 101);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">347</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">348</td>
                                    <td class="row-source"><pre>        uint64 qMin = 100;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">349</td>
                                    <td class="row-source"><pre>        uint64 qMax = 200;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">350</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">351</td>
                                    <td class="row-source"><pre>        int8 qOffset = extractQOffset(poolId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">352</td>
                                    <td class="row-source"><pre>        int256 logPriceMin = calculateLogPrice(qMin, qOffset);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">353</td>
                                    <td class="row-source"><pre>        int256 logPriceMax = calculateLogPrice(qMax, qOffset);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">354</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">355</td>
                                    <td class="row-source"><pre>        // Choose INVALID shares based on case</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">356</td>
                                    <td class="row-source"><pre>        int256 shares;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">357</td>
                                    <td class="row-source"><pre>        uint8 caseType = invalidCase % 3;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">358</td>
                                    <td class="row-source"><pre>        if (caseType == 0) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">359</td>
                                    <td class="row-source"><pre>            shares = 0; // Zero shares (invalid)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">360</td>
                                    <td class="row-source"><pre>        } else if (caseType == 1) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">361</td>
                                    <td class="row-source"><pre>            shares = MAX_INT128 + 1; // Too large</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">362</td>
                                    <td class="row-source"><pre>        } else {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">363</td>
                                    <td class="row-source"><pre>            shares = MIN_INT128 - 1; // Too small</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">364</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">365</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">366</td>
                                    <td class="row-source"><pre>        bytes memory calldataBytes = constructCalldata(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">367</td>
                                    <td class="row-source"><pre>            poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">368</td>
                                    <td class="row-source"><pre>            logPriceMin,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">369</td>
                                    <td class="row-source"><pre>            logPriceMax,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">370</td>
                                    <td class="row-source"><pre>            shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">371</td>
                                    <td class="row-source"><pre>            0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">372</td>
                                    <td class="row-source"><pre>            hookDataByteCount,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">373</td>
                                    <td class="row-source"><pre>            0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">374</td>
                                    <td class="row-source"><pre>            0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">375</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">376</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">377</td>
                                    <td class="row-source"><pre>        (bool success, ) = address(wrapper).call(calldataBytes);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">378</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">379</td>
                                    <td class="row-source"><pre>        // Property: Invalid shares MUST cause revert</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">380</td>
                                    <td class="row-source"><pre>        assert(!success);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">381</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">382</td>
                                    <td class="row-source"><pre>        testsExecuted++;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">383</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">384</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">385</td>
                                    <td class="row-source"><pre>    /// @notice PROPERTY 4: Oversized hookData must revert</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">386</td>
                                    <td class="row-source"><pre>    /// @dev Replicates test_readModifyPositionInputHookDataTooLong</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">387</td>
                                    <td class="row-source"><pre>    /// @param poolId Pool identifier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">388</td>
                                    <td class="row-source"><pre>    /// @param shares Number of shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">389</td>
                                    <td class="row-source"><pre>    function test_property_hookdata_too_long_revert(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">390</td>
                                    <td class="row-source"><pre>        uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">391</td>
                                    <td class="row-source"><pre>        int256 shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">392</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">393</td>
                                    <td class="row-source"><pre>        if (shares &gt; MAX_INT128) shares = int256(1 + (uint256(shares) % uint256(MAX_INT128)));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">394</td>
                                    <td class="row-source"><pre>        if (shares &lt; MIN_INT128) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">395</td>
                                    <td class="row-source"><pre>            unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">396</td>
                                    <td class="row-source"><pre>                shares = -int256(1 + (uint256(-shares) % uint256(MAX_INT128)));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">397</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">398</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">399</td>
                                    <td class="row-source"><pre>        if (shares == 0) shares = 1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">400</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">401</td>
                                    <td class="row-source"><pre>        uint64 qMin = 100;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">402</td>
                                    <td class="row-source"><pre>        uint64 qMax = 200;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">403</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">404</td>
                                    <td class="row-source"><pre>        int8 qOffset = extractQOffset(poolId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">405</td>
                                    <td class="row-source"><pre>        int256 logPriceMin = calculateLogPrice(qMin, qOffset);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">406</td>
                                    <td class="row-source"><pre>        int256 logPriceMax = calculateLogPrice(qMax, qOffset);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">407</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">408</td>
                                    <td class="row-source"><pre>        // Use hookDataByteCount &gt; uint16.max (MAX_HOOK_DATA_BYTE_COUNT)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">409</td>
                                    <td class="row-source"><pre>        uint256 invalidHookDataSize = uint256(MAX_HOOK_DATA_BYTE_COUNT) + 1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">410</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">411</td>
                                    <td class="row-source"><pre>        // Manually construct calldata with oversized hookdata length</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">412</td>
                                    <td class="row-source"><pre>        bytes memory calldataBytes = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">413</td>
                                    <td class="row-source"><pre>            READ_MODIFY_POSITION_SELECTOR,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">414</td>
                                    <td class="row-source"><pre>            bytes32(poolId),</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">415</td>
                                    <td class="row-source"><pre>            bytes32(toTwosComplement(logPriceMin)),</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">416</td>
                                    <td class="row-source"><pre>            bytes32(toTwosComplement(logPriceMax)),</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">417</td>
                                    <td class="row-source"><pre>            bytes32(toTwosComplement(shares)),</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">418</td>
                                    <td class="row-source"><pre>            bytes32(uint256(5 * 0x20)),           // startOfHookData</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">419</td>
                                    <td class="row-source"><pre>            bytes32(invalidHookDataSize), // INVALID size &gt; uint16.max</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">420</td>
                                    <td class="row-source"><pre>            new bytes(100)               // Some content</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">421</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">422</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">423</td>
                                    <td class="row-source"><pre>        (bool success, ) = address(wrapper).call(calldataBytes);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">424</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">425</td>
                                    <td class="row-source"><pre>        // Property: Oversized hookData MUST cause revert</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">426</td>
                                    <td class="row-source"><pre>        assert(!success);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">427</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">428</td>
                                    <td class="row-source"><pre>        testsExecuted++;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">429</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">430</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">431</td>
                                    <td class="row-source"><pre>    /// @notice PROPERTY 5: Encoding independence (different gaps, same result)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">432</td>
                                    <td class="row-source"><pre>    /// @dev Tests that same logical data with different random gaps produces same outcome</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">433</td>
                                    <td class="row-source"><pre>    /// @dev This is CRITICAL for non-strict encoding requirement</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">434</td>
                                    <td class="row-source"><pre>    /// @param poolId Pool identifier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">435</td>
                                    <td class="row-source"><pre>    /// @param qMin Normalized minimum log price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">436</td>
                                    <td class="row-source"><pre>    /// @param qMax Normalized maximum log price</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">437</td>
                                    <td class="row-source"><pre>    /// @param shares Number of shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">438</td>
                                    <td class="row-source"><pre>    /// @param hookDataContent Content for hookData</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">439</td>
                                    <td class="row-source"><pre>    /// @param hookDataByteCount Size of hookData</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">440</td>
                                    <td class="row-source"><pre>    /// @param randomGap1 First random gap</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">441</td>
                                    <td class="row-source"><pre>    /// @param randomGap2 Second random gap (different)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">442</td>
                                    <td class="row-source"><pre>    function test_property_encoding_independence(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">443</td>
                                    <td class="row-source"><pre>        uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">444</td>
                                    <td class="row-source"><pre>        uint64 qMin,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">445</td>
                                    <td class="row-source"><pre>        uint64 qMax,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">446</td>
                                    <td class="row-source"><pre>        int256 shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">447</td>
                                    <td class="row-source"><pre>        uint256 hookDataContent,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">448</td>
                                    <td class="row-source"><pre>        uint16 hookDataByteCount,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">449</td>
                                    <td class="row-source"><pre>        uint16 randomGap1,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">450</td>
                                    <td class="row-source"><pre>        uint16 randomGap2</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">451</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">452</td>
                                    <td class="row-source"><pre>        // === INPUT NORMALIZATION ===</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">453</td>
                                    <td class="row-source"><pre>        if (hookDataByteCount &gt; 100) hookDataByteCount = uint16(uint256(hookDataByteCount) % 101);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">454</td>
                                    <td class="row-source"><pre>        if (qMin == 0) qMin = 1;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">455</td>
                                    <td class="row-source"><pre>        if (qMax == 0) qMax = 1;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">456</td>
                                    <td class="row-source"><pre>        if (qMin &gt;= THIRTY_TWO_X59) qMin = uint64(1 + (uint256(qMin) % (THIRTY_TWO_X59 - 1)));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">457</td>
                                    <td class="row-source"><pre>        if (qMax &gt;= THIRTY_TWO_X59) qMax = uint64(1 + (uint256(qMax) % (THIRTY_TWO_X59 - 1)));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">458</td>
                                    <td class="row-source"><pre>        if (shares &gt; MAX_INT128) shares = int256(1 + (uint256(shares) % uint256(MAX_INT128)));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">459</td>
                                    <td class="row-source"><pre>        if (shares &lt; MIN_INT128) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">460</td>
                                    <td class="row-source"><pre>            unchecked {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">461</td>
                                    <td class="row-source"><pre>                shares = -int256(1 + (uint256(-shares) % uint256(MAX_INT128)));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">462</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">463</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">464</td>
                                    <td class="row-source"><pre>        if (shares == 0) shares = 1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">465</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">466</td>
                                    <td class="row-source"><pre>        int8 qOffset = extractQOffset(poolId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">467</td>
                                    <td class="row-source"><pre>        int256 logPriceMin = calculateLogPrice(qMin, qOffset);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">468</td>
                                    <td class="row-source"><pre>        int256 logPriceMax = calculateLogPrice(qMax, qOffset);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">469</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">470</td>
                                    <td class="row-source"><pre>        // === EXECUTE WITH FIRST RANDOM ENCODING ===</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">471</td>
                                    <td class="row-source"><pre>        bytes memory calldata1 = constructCalldata(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">472</td>
                                    <td class="row-source"><pre>            poolId, logPriceMin, logPriceMax, shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">473</td>
                                    <td class="row-source"><pre>            hookDataContent, hookDataByteCount, randomGap1, 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">474</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">475</td>
                                    <td class="row-source"><pre>        (bool success1, ) = address(wrapper).call(calldata1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">476</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">477</td>
                                    <td class="row-source"><pre>        // === EXECUTE WITH SECOND RANDOM ENCODING ===</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">478</td>
                                    <td class="row-source"><pre>        bytes memory calldata2 = constructCalldata(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">479</td>
                                    <td class="row-source"><pre>            poolId, logPriceMin, logPriceMax, shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">480</td>
                                    <td class="row-source"><pre>            hookDataContent, hookDataByteCount, randomGap2, 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">481</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">482</td>
                                    <td class="row-source"><pre>        (bool success2, ) = address(wrapper).call(calldata2);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">483</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">484</td>
                                    <td class="row-source"><pre>        // Property: Different encodings of same logical data should have same outcome</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">485</td>
                                    <td class="row-source"><pre>        assert(success1 == success2);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">486</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">487</td>
                                    <td class="row-source"><pre>        testsExecuted++;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">488</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">489</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">490</td>
                                    <td class="row-source"><pre>    /// @notice PROPERTY 6: Extreme hookdata sizes</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">491</td>
                                    <td class="row-source"><pre>    /// @dev Tests boundary conditions for hookDataByteCount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">492</td>
                                    <td class="row-source"><pre>    /// @param poolId Pool identifier</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">493</td>
                                    <td class="row-source"><pre>    /// @param shares Number of shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">494</td>
                                    <td class="row-source"><pre>    /// @param extremeCase 0=size 0, 1=size 1, 2=size MAX-1, 3=size MAX</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">495</td>
                                    <td class="row-source"><pre>    /// @param randomGap Random gap for non-strict encoding</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">496</td>
                                    <td class="row-source"><pre>    function test_property_extreme_hookdata_sizes(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">497</td>
                                    <td class="row-source"><pre>        uint256 poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">498</td>
                                    <td class="row-source"><pre>        int256 shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">499</td>
                                    <td class="row-source"><pre>        uint8 extremeCase,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">500</td>
                                    <td class="row-source"><pre>        uint16 randomGap</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">501</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">502</td>
                                    <td class="row-source"><pre>        if (shares &gt; MAX_INT128) shares = int256(1 + (uint256(shares) % uint256(MAX_INT128)));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">503</td>
                                    <td class="row-source"><pre>        if (shares &lt; MIN_INT128) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">504</td>
                                    <td class="row-source"><pre>            unchecked {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">505</td>
                                    <td class="row-source"><pre>                shares = -int256(1 + (uint256(-shares) % uint256(MAX_INT128)));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">506</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">507</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">508</td>
                                    <td class="row-source"><pre>        if (shares == 0) shares = 1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">509</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">510</td>
                                    <td class="row-source"><pre>        uint64 qMin = 100;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">511</td>
                                    <td class="row-source"><pre>        uint64 qMax = 200;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">512</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">513</td>
                                    <td class="row-source"><pre>        int8 qOffset = extractQOffset(poolId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">514</td>
                                    <td class="row-source"><pre>        int256 logPriceMin = calculateLogPrice(qMin, qOffset);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">515</td>
                                    <td class="row-source"><pre>        int256 logPriceMax = calculateLogPrice(qMax, qOffset);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">516</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">517</td>
                                    <td class="row-source"><pre>        // Choose extreme hookDataByteCount</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">518</td>
                                    <td class="row-source"><pre>        uint16 hookDataByteCount;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">519</td>
                                    <td class="row-source"><pre>        uint8 caseType = extremeCase % 4;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">520</td>
                                    <td class="row-source"><pre>        if (caseType == 0) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">521</td>
                                    <td class="row-source"><pre>            hookDataByteCount = 0; // Minimum</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">522</td>
                                    <td class="row-source"><pre>        } else if (caseType == 1) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">523</td>
                                    <td class="row-source"><pre>            hookDataByteCount = 1; // Single byte</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">524</td>
                                    <td class="row-source"><pre>        } else if (caseType == 2) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">525</td>
                                    <td class="row-source"><pre>            hookDataByteCount = uint16(MAX_HOOK_DATA_BYTE_COUNT - 1); // Near maximum</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">526</td>
                                    <td class="row-source"><pre>        } else {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">527</td>
                                    <td class="row-source"><pre>            hookDataByteCount = uint16(MAX_HOOK_DATA_BYTE_COUNT); // Maximum</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">528</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">529</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">530</td>
                                    <td class="row-source"><pre>        bytes memory calldataBytes = constructCalldata(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">531</td>
                                    <td class="row-source"><pre>            poolId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">532</td>
                                    <td class="row-source"><pre>            logPriceMin,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">533</td>
                                    <td class="row-source"><pre>            logPriceMax,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">534</td>
                                    <td class="row-source"><pre>            shares,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">535</td>
                                    <td class="row-source"><pre>            0xF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00F,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">536</td>
                                    <td class="row-source"><pre>            hookDataByteCount,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">537</td>
                                    <td class="row-source"><pre>            randomGap,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">538</td>
                                    <td class="row-source"><pre>            0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">539</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">540</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">541</td>
                                    <td class="row-source"><pre>        uint256 gasBefore = gasleft();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">542</td>
                                    <td class="row-source"><pre>        (bool success, ) = address(wrapper).call(calldataBytes);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">543</td>
                                    <td class="row-source"><pre>        uint256 gasUsed = gasBefore - gasleft();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">544</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">545</td>
                                    <td class="row-source"><pre>        // Track metrics</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">546</td>
                                    <td class="row-source"><pre>        totalGasConsumed += gasUsed;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">547</td>
                                    <td class="row-source"><pre>        if (gasUsed &gt; maxGasObserved) maxGasObserved = gasUsed;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">548</td>
                                    <td class="row-source"><pre>        testsExecuted++;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">549</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">550</td>
                                    <td class="row-source"><pre>        // Property: All extreme sizes within valid range must succeed</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">551</td>
                                    <td class="row-source"><pre>        assert(success);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">552</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">553</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">554</td>
                                    <td class="row-source"><pre>    // ========================================================================</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">555</td>
                                    <td class="row-source"><pre>    // INVARIANT CHECKS</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">556</td>
                                    <td class="row-source"><pre>    // ========================================================================</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">557</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">558</td>
                                    <td class="row-source"><pre>    /// @notice Invariant: Tests executed counter only increases</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">559</td>
                                    <td class="row-source"><pre>    function echidna_tests_executed_increases() public view returns (bool) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">560</td>
                                    <td class="row-source"><pre>        return true;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">561</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">562</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">563</td>
                                    <td class="row-source"><pre>    /// @notice Invariant: Average gas consumption is reasonable</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">564</td>
                                    <td class="row-source"><pre>    function echidna_reasonable_gas_consumption() public view returns (bool) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">565</td>
                                    <td class="row-source"><pre>        if (testsExecuted == 0) return true;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">566</td>
                                    <td class="row-source"><pre>        uint256 avgGas = totalGasConsumed / testsExecuted;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">567</td>
                                    <td class="row-source"><pre>        return avgGas &lt; 10_000_000;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">568</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">569</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">570</td>
                                    <td class="row-source"><pre>    /// @notice Invariant: Maximum gas observed is within expected bounds</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">571</td>
                                    <td class="row-source"><pre>    function echidna_max_gas_reasonable() public view returns (bool) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">572</td>
                                    <td class="row-source"><pre>        return maxGasObserved &lt; 50_000_000;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">573</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">574</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <div>Report generated by <a href="https://github.com/crytic/echidna" target="_blank">Echidna</a> on February 09, 2026 at 07:09:53 UTC</div>
        </footer>
    </div>
    <script>
// Initialize the application when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    initSourceFileExpansion();
    initializeFileTree();
    initResizer();
});

// Initialize source file expansion behavior
function initSourceFileExpansion() {
    document.querySelectorAll('.source-file').forEach(file => {
        const header = file.querySelector('.source-file-header');
        header.addEventListener('click', () => {
            file.classList.toggle('expanded');
            const chevron = header.querySelector('.chevron-icon');
            chevron.style.transform = file.classList.contains('expanded') ? 'rotate(180deg)' : 'rotate(0)';
        });
    });
}

// Initialize the resizer functionality
function initResizer() {
    const fileExplorer = document.getElementById('file-explorer');
    const resizer = document.getElementById('file-explorer-resizer');
    let startX, startWidth;

    // Handle mousedown on the resizer
    resizer.addEventListener('mousedown', e => {
        startX = e.clientX;
        startWidth = parseInt(window.getComputedStyle(fileExplorer).width, 10);

        // Add event listeners for resizing
        document.addEventListener('mousemove', handleMouseMove);
        document.addEventListener('mouseup', handleMouseUp);

        // Prevent text selection during resize
        document.body.style.userSelect = 'none';
        document.body.style.cursor = 'col-resize';
    });

    // Handle mousemove for resizing
    function handleMouseMove(e) {
        const newWidth = startWidth + (e.clientX - startX);

        // Apply width constraints
        if (newWidth >= 200 && newWidth <= 500) {
            fileExplorer.style.width = newWidth + 'px';
            fileExplorer.style.flex = `0 0 ${newWidth}px`;
        }
    }

    // Handle mouseup to end resizing
    function handleMouseUp() {
        document.removeEventListener('mousemove', handleMouseMove);
        document.removeEventListener('mouseup', handleMouseUp);
        document.body.style.userSelect = '';
        document.body.style.cursor = '';
    }
}

// Helper function to get color based on coverage percentage
function getCoverageColor(percentage) {
    return percentage < 50
        ? `hsl(${percentage * 1.2}, 90%, 50%)`
        : `hsl(${60 + (percentage - 50) * 1.2}, 90%, 45%)`;
}

// Helper function for transparent background with coverage color
function getCoverageColorAlpha(percentage) {
    return percentage < 50
        ? `hsla(${percentage * 1.2}, 90%, 50%, 0.15)`
        : `hsla(${60 + (percentage - 50) * 1.2}, 90%, 45%, 0.15)`;
}

// Build file tree structure from file paths
function buildFileTree() {
    const root = { name: '', type: 'directory', children: {}, path: '' };
    const sourceFiles = document.getElementsByClassName("source-file");

    // First pass: build the tree structure
    for (let i = 0; i < sourceFiles.length; i++) {
        const filePath = sourceFiles[i].dataset.filePath;
        const pathParts = filePath.split(/[\/\\]+/);
        let current = root;
        let currentPath = '';

        for (let j = 0; j < pathParts.length; j++) {
            const part = pathParts[j];
            if (part === '') continue;

            currentPath += (currentPath ? '/' : '') + part;

            if (j === pathParts.length - 1) {
                // This is a file
                current.children[part] = {
                    name: part,
                    type: 'file',
                    path: filePath,
                    element: sourceFiles[i],
                    coveredLines: parseInt(sourceFiles[i].dataset.linesCovered),
                    activeLines: parseInt(sourceFiles[i].dataset.linesActive)
                };
            } else {
                // This is a directory
                if (!current.children[part]) {
                    current.children[part] = {
                        name: part,
                        type: 'directory',
                        children: {},
                        path: currentPath
                    };
                }
                current = current.children[part];
            }
        }
    }

    // Second pass: calculate directory coverage
    calculateDirectoryCoverage(root);

    return root;
}

// Calculate coverage for directories by aggregating file coverage
function calculateDirectoryCoverage(node) {
    if (node.type === 'file') {
        return {
            coveredLines: node.coveredLines,
            activeLines: node.activeLines
        };
    }

    let totalCovered = 0;
    let totalActive = 0;

    for (const childName in node.children) {
        const child = node.children[childName];
        const { coveredLines, activeLines } = calculateDirectoryCoverage(child);
        totalCovered += coveredLines;
        totalActive += activeLines;
    }

    node.coveredLines = totalCovered;
    node.activeLines = totalActive;

    return {
        coveredLines: totalCovered,
        activeLines: totalActive
    };
}

// Render the file tree to the DOM
function renderFileTree(node, parentElement, isRoot = false) {
    const list = isRoot ? parentElement : document.createElement('ul');

    // Sort children: directories first, then files, both alphabetically
    const sortedChildren = Object.values(node.children).sort((a, b) => {
        if (a.type !== b.type) return a.type === 'directory' ? -1 : 1;
        return a.name.localeCompare(b.name);
    });

    for (const child of sortedChildren) {
        const li = document.createElement('li');
        li.className = child.type;

        // Create item container
        const itemDiv = document.createElement('div');
        itemDiv.className = 'file-item';

        // Create toggle button for directories
        const toggle = document.createElement('span');
        toggle.className = 'file-toggle';
        itemDiv.appendChild(toggle);

        // Create file/folder icon
        const icon = document.createElement('span');
        icon.className = 'file-icon';
        itemDiv.appendChild(icon);

        // Create name span
        const nameSpan = document.createElement('span');
        nameSpan.className = 'file-name';
        nameSpan.textContent = child.name;
        itemDiv.appendChild(nameSpan);

        // Add coverage indicator
        if (child.activeLines > 0) {
            const coverage = document.createElement('span');
            coverage.className = 'file-coverage';
            const percentage = Math.round((child.coveredLines / child.activeLines) * 100);
            coverage.style.backgroundColor = getCoverageColor(percentage);
            coverage.title = `${child.coveredLines}/${child.activeLines} lines covered (${percentage}%)`;
            itemDiv.appendChild(coverage);
        }

        li.appendChild(itemDiv);

        // Handle click events
        if (child.type === 'directory') {
            toggle.addEventListener('click', e => {
                e.stopPropagation();
                li.classList.toggle('expanded');
            });

            itemDiv.addEventListener('click', () => {
                li.classList.toggle('expanded');
            });

            // Recursively render children
            renderFileTree(child, li);
        } else {
            // Add click handler for files
            itemDiv.addEventListener('click', () => {
                // Deactivate all other items
                document.querySelectorAll('.file-item.active').forEach(el => {
                    el.classList.remove('active');
                });

                // Activate this item
                itemDiv.classList.add('active');

                // Navigate to the file
                const fileElement = child.element;
                fileElement.scrollIntoView({ behavior: 'smooth' });

                // Expand the file if it's collapsed
                if (!fileElement.classList.contains('expanded')) {
                    fileElement.querySelector('.source-file-header').click();
                }
            });
        }

        list.appendChild(li);
    }

    if (!isRoot) {
        parentElement.appendChild(list);
    }
}

// Initialize the file tree
function initializeFileTree() {
    const fileTreeRoot = document.getElementById('file-tree-root');
    const fileTree = buildFileTree();
    renderFileTree(fileTree, fileTreeRoot, true);

    // Expand the first level directories by default
    document.querySelectorAll('#file-tree-root > li.directory').forEach(dir => {
        dir.classList.add('expanded');
    });

    // Initialize search functionality
    initializeFileSearch();
}

// Initialize file search functionality
function initializeFileSearch() {
    const searchInput = document.getElementById('file-search-input');
    const clearButton = document.getElementById('file-search-clear');
    const noResultsMessage = document.getElementById('search-no-results');

    // Debounce function to limit how often the search is performed during typing
    function debounce(func, delay) {
        let timeout;
        return function() {
            const context = this;
            const args = arguments;
            clearTimeout(timeout);
            timeout = setTimeout(() => func.apply(context, args), delay);
        };
    }

    // Function to highlight text that matches the search term
    function highlightText(element, searchTerm) {
        const text = element.textContent;

        if (!searchTerm) {
            // Clear any existing highlights
            element.textContent = text;
            return false;
        }

        const lowerText = text.toLowerCase();
        const lowerSearchTerm = searchTerm.toLowerCase();

        if (lowerText.includes(lowerSearchTerm)) {
            const startIndex = lowerText.indexOf(lowerSearchTerm);
            const endIndex = startIndex + lowerSearchTerm.length;

            const beforeMatch = text.substring(0, startIndex);
            const match = text.substring(startIndex, endIndex);
            const afterMatch = text.substring(endIndex);

            element.innerHTML = beforeMatch + '<span class="search-highlight">' + match + '</span>' + afterMatch;
            return true;
        }

        element.textContent = text;
        return false;
    }

    // Function to filter the file tree based on search term
    function filterFileTree(searchTerm) {
        const fileTreeItems = document.querySelectorAll('.file-tree li');
        let hasVisibleItems = false;

        if (searchTerm === '') {
            // If search is cleared, show everything and reset expansion state
            fileTreeItems.forEach(item => {
                const nameElement = item.querySelector('.file-name');
                highlightText(nameElement, ''); // Clear highlights
                item.style.display = '';

                // Only expand first level by default
                if (item.classList.contains('directory')) {
                    // Check if this is a direct child of the root file tree
                    if (item.parentElement.id === 'file-tree-root') {
                        item.classList.add('expanded');
                    } else {
                        item.classList.remove('expanded');
                    }
                }
            });
        } else {
            // Two-pass filtering for search

            // First pass: hide everything and find matches
            const matchingItems = [];
            fileTreeItems.forEach(item => {
                const nameElement = item.querySelector('.file-name');
                const isMatch = highlightText(nameElement, searchTerm);
                item.style.display = 'none'; // Hide everything initially

                if (isMatch) {
                    matchingItems.push(item);
                }
            });

            // Second pass: show matching items and all their ancestor directories
            matchingItems.forEach(item => {
                hasVisibleItems = true;

                // Show the matching item
                item.style.display = '';

                // Show and expand all parent directories
                let parent = item.parentElement.closest('li.directory');
                while (parent) {
                    parent.style.display = '';
                    parent.classList.add('expanded');
                    parent = parent.parentElement.closest('li.directory');
                }
            });
        }

        // Show/hide the "no results" message
        noResultsMessage.style.display = searchTerm && !hasVisibleItems ? 'block' : 'none';
    }

    // Debounced search function to avoid excessive filtering while typing
    const debouncedSearch = debounce(filterFileTree, 200);

    // Search input event
    searchInput.addEventListener('input', function() {
        debouncedSearch(this.value.trim());
    });

    // Clear button event
    clearButton.addEventListener('click', function() {
        searchInput.value = '';
        filterFileTree('');
        searchInput.focus();
    });
}

// Button click handler for expanding/collapsing all files
function setAllSourceFilesCollapsed(collapsed) {
    document.querySelectorAll('.source-file').forEach(file => {
        if ((collapsed && file.classList.contains('expanded')) ||
            (!collapsed && !file.classList.contains('expanded'))) {
            file.querySelector('.source-file-header').click();
        }
    });
}

// Button click handler for expanding/collapsing empty files
function setEmptySourceFilesCollapsed(collapsed) {
    document.querySelectorAll('.source-file').forEach(file => {
        if (parseInt(file.dataset.linesActive) <= 0) {
            if ((collapsed && file.classList.contains('expanded')) ||
                (!collapsed && !file.classList.contains('expanded'))) {
                file.querySelector('.source-file-header').click();
            }
        }
    });
}    </script>
</body>
</html>